jQuery.sap.declare('sap.suite.ui.commons.library-all');if(!jQuery.sap.isDeclared('sap.suite.ui.commons.BulletChartRenderer')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.BulletChartRenderer");sap.suite.ui.commons.BulletChartRenderer={};sap.suite.ui.commons.BulletChartRenderer.render=function(r,c){var C=c._calculateChartData();var f=+C.forecastValuePct;var s=c.getSize();var S=c.getScale();var R=sap.ui.getCore().getConfiguration().getRTL();var o=R?"right":"left";var O=R?"left":"right";var m=c.getMode();var d=(sap.suite.ui.commons.BulletChartMode.Delta==m)?c._calculateDeltaValue():0;var I=c.getActual()._isValueSet;var b=c.getShowActualValue()&&(sap.suite.ui.commons.InfoTileSize.XS!=s)&&sap.suite.ui.commons.BulletChartMode.Actual==m;var a=c.getShowDeltaValue()&&(sap.suite.ui.commons.InfoTileSize.XS!=s)&&sap.suite.ui.commons.BulletChartMode.Delta==m;var e=c.getShowTargetValue()&&(sap.suite.ui.commons.InfoTileSize.XS!=s);var A=c.getActualValueLabel();var D=c.getDeltaValueLabel();var t=c.getTargetValueLabel();var g=c.getThresholds();var h=c.getId()+"-desc";var T=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);r.addClass("sapSuiteBCContent");r.addClass(s);if(c.hasListeners("press")){r.addClass("sapSuiteUiCommonsPointer");r.writeAttribute("tabindex","0");r.writeAttribute("role","button")}else{r.writeAttribute("role","img")}r.writeClasses();if(c.getWidth()){r.addStyle("width",c.getWidth());r.writeStyles()}r.writeAttribute("id",c.getId()+"-bc-content");r.writeAttribute("aria-labelledby",h);r.writeAttribute("aria-live","assertive");r.writeAttributeEscaped("title",T);r.write(">");r.write("<div");r.addClass("sapSuiteBCChart");r.addClass(s);r.writeClasses();r.writeAttribute("id",c.getId()+"-bc-chart");r.write(">");if(I&&b){var j=(A)?A:""+c.getActual().getValue();var v=j+S;r.write("<div");r.addClass("sapSuiteBCItemValue");r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-item-value");r.write(">");r.writeEscaped(v);r.write("</div>")}else if(I&&c._isTargetValueSet&&a){var k=(D)?D:""+d;var v=k+S;r.write("<div");r.addClass("sapSuiteBCItemValue");r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-item-value");r.write(">");r.write("&Delta;");r.writeEscaped(v);r.write("</div>")}for(var i=0;i<C.thresholdsPct.length;i++){if(g[i]._isValueSet){this.renderThreshold(r,c,C.thresholdsPct[i])}}r.write("<div");r.writeAttribute("id",c.getId()+"-chart-bar");r.addClass("sapSuiteBCBar");r.addClass(s);r.addClass(c.getScaleColor());r.writeClasses();r.write(">");r.write("</div>");if(c._isForecastValueSet&&"Actual"==m){r.write("<div");r.addClass("sapSuiteBCForecastBarValue");r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.addStyle("width",f+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-forecast-bar-value");r.write("></div>")}if(I){r.write("<div");r.addClass("sapSuiteBCBarValueMarker");if(!c.getShowValueMarker()){r.addClass("sapSuiteBCBarValueMarkerHidden")}r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.addStyle(o,parseFloat(C.actualValuePct)+parseFloat(1)+"%");if("Delta"==m&&C.actualValuePct<=C.targetValuePct){r.addStyle("margin","0")}r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-bar-value-marker");r.write("></div>");if("Actual"==m){r.write("<div");r.addClass("sapSuiteBCBarValue");r.addClass(c.getActual().getColor());r.addClass(s);if(c._isForecastValueSet){r.addClass("sapSuiteBCForecast")}r.writeClasses();r.addStyle("width",C.actualValuePct+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-bar-value");r.write("></div>")}else if(c._isTargetValueSet&&"Delta"==m){r.write("<div");r.addClass("sapSuiteBCBarValue");r.addClass(c.getActual().getColor());r.addClass(s);r.writeClasses();r.addStyle("width",Math.abs(C.actualValuePct-C.targetValuePct)+"%");r.addStyle(o,1+Math.min(C.actualValuePct,C.targetValuePct)+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-bar-value");r.write("></div>")}}if(c._isTargetValueSet){r.write("<div");r.addClass("sapSuiteBCTargetBarValue");r.addClass(s);r.writeClasses();r.addStyle(o,parseFloat(C.targetValuePct).toFixed(2)+"%");r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-target-bar-value");r.write("></div>");if(e){var l=(t)?t:""+c.getTargetValue();var n=l+S;r.write("<div");r.addClass("sapSuiteBCTargetValue");r.addClass(s);r.writeClasses();r.writeStyles();r.writeAttribute("id",c.getId()+"-bc-target-value");r.write(">");r.writeEscaped(n);r.write("</div>")}}r.write("</div>");r.write("<span");r.writeAttribute("id",h);r.writeAttribute("aria-hidden","true");r.addStyle("display","none");r.writeStyles();r.write(">");if(I){if(A){r.write(A)}else{r.write(c.getActual().getValue())}r.write(c.getScale()+" "+c.getActual().getColor())}if(c._isTargetValueSet){r.write(" Target ");if(t){r.write(t)}else{r.write(c.getTargetValue())}r.write(c.getScale())}if(c._isForecastValueSet&&"Actual"==m){r.write(" Forecast ");r.write(c.getForecastValue()+c.getScale())}for(var i=0;i<c.getThresholds().length;i++){var p=c.getThresholds()[i];r.write(" Threshold "+p.getValue()+c.getScale()+" "+p.getColor())}r.write("</span>");r.write("</div>")};sap.suite.ui.commons.BulletChartRenderer.renderThreshold=function(r,c,t){var o=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";var v=t.valuePct;var C=t.color;var s=c.getSize();if(sap.suite.ui.commons.InfoTileValueColor.Error==t.color){r.write("<div");r.addClass("sapSuiteBCDiamond");r.addClass(s);r.addClass(C);r.writeClasses();r.addStyle(o,v+"%");r.writeStyles();r.write("></div>")}else{r.write("<div");r.addClass("sapSuiteBCThreshold");r.addClass(s);r.addClass(C);r.writeClasses();r.addStyle(o,v+"%");r.writeStyles();r.write("></div>")}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.BusinessCardRenderer')){jQuery.sap.declare("sap.suite.ui.commons.BusinessCardRenderer");jQuery.sap.require('sap.ui.commons.Link');sap.suite.ui.commons.BusinessCardRenderer={};sap.suite.ui.commons.BusinessCardRenderer.render=function(r,c){var a=sap.ui.getCore().getConfiguration().getAccessibility();var i=c.getId();var t=c.getType();var f=c.getFirstTitle();var I=c.getImageTooltip();var s=c.getIconPath();var d=c.getSecondTitle();var w=c.getWidth();var T=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(T){r.writeAttributeEscaped("title",T)}r.addClass("suiteUiCard");r.writeClasses();if(w){r.addStyle("width",w);r.writeStyles()}r.write(">");if(t){r.write("<div");r.addClass("suiteUiCardTypeHolder");r.writeClasses();r.writeAttribute("id",i+"-type");r.write(">");var o=new sap.ui.commons.Label({id:i+"-type-label",text:t,tooltip:t});o.addStyleClass("suiteUiCardType");r.renderControl(o);o.destroy();r.write("</div>")}r.write("<div");r.addClass("suiteUiCardContainer");r.writeClasses();r.writeAttribute("id",i+"-container");r.write(">");if(s){r.write("<div");r.addClass("suiteUiCardIconHolder");r.writeClasses();r.writeAttribute("id",i+"-icon");r.write(">");r.write("<img");r.addClass("suiteUiCardIcon");r.writeClasses();r.writeAttributeEscaped("src",s);r.writeAttributeEscaped("title",(I||""));r.writeAttribute("alt","");r.writeAttribute("id",i+"-img");r.writeAttribute("tabindex","-1");if(a){r.writeAttribute("role","presentation")}r.write("></img>");r.write("</div>")}r.write("<div");r.addClass("suiteUiCardNameHolder");r.writeClasses();r.writeAttribute("id",i+"-name");if(a&&d){r.writeAttribute("aria-describedby",i+"-desc-label")}r.write(">");if(f){f.addStyleClass("suiteUiCardName");r.renderControl(f)}r.write("</div>");if(d){r.write("<div");r.addClass("suiteUiCardDescHolder");r.writeClasses();r.writeAttribute("id",i+"-desc");r.write(">");var D=new sap.ui.commons.Label({id:i+"-desc-label",text:d,tooltip:d});D.addStyleClass("suiteUiCardDesc");r.renderControl(D);D.destroy();r.write("</div>")}r.write("<div");r.addClass("suiteUiCardContent");r.writeClasses();r.writeAttribute("id",i+"-content");r.write(">");r.renderControl(c.getContent());r.write("</div>");r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ChartContainerContentRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ChartContainerContentRenderer");sap.suite.ui.commons.ChartContainerContentRenderer={};sap.suite.ui.commons.ChartContainerContentRenderer.render=function(r,c){r.renderControl(c.getContent())}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ChartContainerRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ChartContainerRenderer");sap.suite.ui.commons.ChartContainerRenderer={};sap.suite.ui.commons.ChartContainerRenderer.render=function(r,c){var s=c.getSelectedChart();r.write("<div");r.writeControlData(c);r.addClass("sapSuiteUiCommonsChartContainer");r.writeClasses();r.write(">");r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-wrapper");r.addClass("sapSuiteUiCommonsChartContainerWrapper");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteUiCommonsChartContainerToolBarArea");r.writeClasses();r.write(">");r.renderControl(c._oToolBar);r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsChartContainerChartArea");r.writeClasses();r.write(">");r.renderControl(s);r.write("</div>");r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ColumnMicroChartRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ColumnMicroChartRenderer");sap.suite.ui.commons.ColumnMicroChartRenderer={};sap.suite.ui.commons.ColumnMicroChartRenderer.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapSuiteCmc");r.addClass(c.getSize());r.writeAttributeEscaped("title",c.getTooltip_AsString());if(c.hasListeners("press")){r.addClass("sapSuiteUiCommonsPointer");r.writeAttribute("tabindex","0");r.writeAttribute("role","button")}else{r.writeAttribute("role","img")}r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-content");r.addClass("sapSuiteCmcCnt");r.writeClasses();r.write(">");var C=c.getColumns().length;for(var i=0;i<C;i++){var o=c.getColumns()[i];r.write("<div");r.writeAttribute("id",c.getId()+"-bar-"+i);r.addClass("sapSuiteCmcBar");r.addClass(o.getColor());r.writeClasses();r.write(">");r.write("</div>")}r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ComparisonChartRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ComparisonChartRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.ComparisonChartRenderer={};sap.suite.ui.commons.ComparisonChartRenderer.render=function(r,c){var d=c.getId()+"-desc";r.write("<div");r.writeControlData(c);r.addClass("sapSuiteCmpChartContent");r.addClass(c.getSize());if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.writeAttribute("role","button");r.addClass("sapSuiteUiCommonsPointer")}else{r.writeAttribute("role","img")}r.writeClasses();if(c.getWidth()){r.addStyle("width",c.getWidth());r.writeStyles()}r.writeAttribute("aria-labelledby",d);r.writeAttribute("aria-live","assertive");r.writeAttributeEscaped("title",c.getTooltip_AsString());r.write(">");this.renderInnerContent(r,c);r.write("<span");r.writeAttribute("id",d);r.writeAttribute("aria-hidden","true");r.addStyle("display","none");r.writeStyles();r.write(">");for(var i=0;i<c.getData().length;i++){var b=c.getData()[i];r.write(b.getTitle()+" "+(b.getDisplayValue()?b.getDisplayValue():b.getValue())+c.getScale()+" "+b.getColor()+"\n")}r.write("</span>");r.write("</div>")};sap.suite.ui.commons.ComparisonChartRenderer.renderInnerContent=function(r,c){var C=c.getColorPalette().length;var a=0;var n=function(){if(C){if(a==C){a=0}return c.getColorPalette()[a++]}};var b=c._calculateChartData();for(var i=0;i<b.length;i++){this.renderChartItem(r,c,b[i],i,n())}};sap.suite.ui.commons.ComparisonChartRenderer.renderChartItem=function(r,c,C,i,s){r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i);r.write(">");this.renderChartHeader(r,c,i,s);this.renderChartBar(r,c,C,i,s);r.write("</div>")};sap.suite.ui.commons.ComparisonChartRenderer.renderChartBar=function(r,c,C,i,s){var d=c.getData()[i];r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-bar");r.addClass("sapSuiteCmpChartBar");r.addClass(c.getSize());r.writeClasses();r.write(">");if(C.negativeNoValue>0){r.write("<div");r.addClass("sapSuiteCmpChartBarNegNoValue");r.writeClasses();r.addStyle("width",C.negativeNoValue+"%");r.writeStyles();r.write("></div>")}if(C.value>0){r.write("<div");r.addClass("sapSuiteCmpChartBarValue");r.addClass(d.getColor());r.writeClasses();r.addStyle("background-color",s);r.addStyle("width",C.value+"%");r.writeStyles();r.write("></div>")}if(C.positiveNoValue>0){r.write("<div");r.addClass("sapSuiteCmpChartBarNoValue");r.writeClasses();r.addStyle("width",C.positiveNoValue+"%");r.writeStyles();r.write("></div>")}r.write("</div>")};sap.suite.ui.commons.ComparisonChartRenderer.renderChartHeader=function(r,c,i,C){var d=c.getData()[i];var s=c.getScale();var D=d.getDisplayValue();var a=D?D:""+d.getValue();var v=a+s;r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-header");r.addClass("sapSuiteCmpChartItemHeader");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-value");r.addClass("sapSuiteCmpChartItemValue");r.addClass(c.getSize());if(!C){r.addClass(d.getColor())}r.writeClasses();r.write(">");if(!isNaN(d.getValue())){r.writeEscaped(v)}r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-chart-item-"+i+"-title");r.addClass("sapSuiteCmpChartItemTitle");r.writeClasses();r.write(">");r.writeEscaped(d.getTitle());r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.DateRangeScrollerRenderer')){jQuery.sap.declare("sap.suite.ui.commons.DateRangeScrollerRenderer");sap.suite.ui.commons.DateRangeScrollerRenderer={};sap.suite.ui.commons.DateRangeScrollerRenderer.renderDecrementScrollButton=function(r,d,D){r.write("<a>");r.write('<span id="'+d.getId()+'-decrementScrollButton"');r.write('title="');r.writeEscaped(D.resBundle.getText("DATERANGESCROLLER_PREV_TEXT"));r.write('"');r.addClass("sapSuiteUiCommonsDateRangeScrollerScrollBtn");r.addClass("sapSuiteUiCommonsDateRangeScrollerDecBtnArrow");r.writeClasses();r.write(">");r.write("</span>");r.write("</a>")};sap.suite.ui.commons.DateRangeScrollerRenderer.renderIncrementScrollButton=function(r,d,D){r.write("<a>");r.write('<span id="'+d.getId()+'-incrementScrollButton"');r.write('title="');r.writeEscaped(D.resBundle.getText("DATERANGESCROLLER_NEXT_TEXT"));r.write('"');r.addClass("sapSuiteUiCommonsDateRangeScrollerScrollBtn");r.addClass("sapSuiteUiCommonsDateRangeScrollerIncBtnArrow");r.writeClasses();r.write(">");r.write("</span>");r.write("</a>")};sap.suite.ui.commons.DateRangeScrollerRenderer.render=function(r,d){var l=sap.ui.getCore().getConfiguration().getLanguage();var R=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons",l);var p="&#9668";var n="&#9658";var D={resBundle:R,prevArrowSymbol:p,nextArrowSymbol:n};r.write("<span");r.writeControlData(d);r.addClass("sapSuiteUiCommonsDateRangeScroller");r.writeClasses();r.writeAttribute("tabindex","-1");r.write(">");if(d.getTooltip_AsString()){r.write('<SPAN id="'+d.getId()+'-Descr" style="visibility: hidden; display: none;"');r.write('>');r.writeEscaped(d.getTooltip_AsString());r.write('</SPAN>')}this.renderDecrementScrollButton(r,d,D);this.renderIncrementScrollButton(r,d,D);r.write("<span");r.writeAttribute("id",d.getId()+"-labelarea");r.writeAttribute("tabindex","0");r.writeClasses();r.writeAccessibilityState(d,{role:'list',live:'assertive',describedby:d.getTooltip_AsString()?(d.getId()+'-Descr '+d.getAriaDescribedBy().join(" ")):undefined});r.write(">");r.renderControl(d._oDateRangeLabel);r.write("</span>");r.write("</span>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.DateRangeSliderInternalRenderer')){jQuery.sap.declare("sap.suite.ui.commons.DateRangeSliderInternalRenderer");jQuery.sap.require('sap.ui.commons.RangeSliderRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.DateRangeSliderInternalRenderer=sap.ui.core.Renderer.extend(sap.ui.commons.RangeSliderRenderer);sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderBufferDivForBubbles=function(r,d){if(d.getShowBubbles()){r.write('<DIV id="'+d.getId()+'-bubbleBuffer" style="height:40px">');r.write('</DIV>')}};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderEnclosingDiv=function(r,d){r.write('<DIV');r.writeControlData(d);r.addClass('sapUiSli');this.controlAdditionalCode(r,d);if(d.getTooltip_AsString()){r.writeAttributeEscaped('title',d.getTooltip_AsString())}if(!d.getVertical()&&d.getWidth()){r.writeAttribute('style','width:'+d.getWidth()+';')}if(!d.getEnabled()){r.addClass('sapUiSliDsbl')}else{if(!d.getEditable()){r.addClass('sapUiSliRo')}else{r.addClass('sapUiSliStd')}}if(!d.getVertical()){r.addClass('sapUiSliHori')}if(d.getShowBubbles()){r.addClass('sapUiSuiteDRSliBub')}r.writeClasses();r.write('>')};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderEnclosingDivEnd=function(r,d){r.write('</DIV>')};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderAriaGripTooltip=function(r,d){if(d.getTooltip_AsString()){r.write('<SPAN id="'+d.getId()+'-Descr" style="visibility: hidden; display: none;">');r.writeEscaped(d.getTooltip_AsString());r.write('</SPAN>')}};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderBubbles=function(r,d){if(!d.getShowBubbles()){return}r.write('<div id="'+d.getId()+'-bubble"');r.addClass("sapSuiteUiCommonsDateRangeSliderBubble");r.writeClasses();r.write('>');r.write('<div');r.addClass("sapSuiteUiCommonsDateRangeSliderBubbleLbl");r.writeClasses();r.write('>');r.renderControl(d._oBubble);r.write('</div>');r.write('</div>');r.write('<div id="'+d.getId()+'-bubble2"');r.addClass("sapSuiteUiCommonsDateRangeSliderBubble");r.writeClasses();r.write('>');r.write('<div');r.addClass("sapSuiteUiCommonsDateRangeSliderBubbleLbl");r.writeClasses();r.write('>');r.renderControl(d._oBubble2);r.write('</div>');r.write('</div>')};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderSliderBar=function(r,d){r.write('<DIV');r.writeAttribute('id',d.getId()+'-right');r.write('class="sapUiSliR"> <DIV');r.writeAttribute('id',d.getId()+'-left');r.write('class="sapUiSliL"> <DIV');r.writeAttribute('id',d.getId()+'-bar');r.write('class="sapUiSliBar">')};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderSliderBarEnd=function(r,d){r.write('</DIV></DIV></DIV>')};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderTicksAndLabels=function(r,d){var u=false;if(d.getLabels()&&d.getLabels().length>0){u=true}if(d.getTotalUnits()>0||u){var t=d.getTotalUnits();if(u){t=d.getLabels().length-1}for(var i=0;i<=t;i++){r.write('<DIV');r.writeAttribute('id',d.getId()+'-tick'+i);r.write('class="sapUiSliTick" ');r.write('></DIV>');if(d.getStepLabels()){r.write('<DIV');r.writeAttribute('id',d.getId()+'-text'+i);switch(i){case(0):r.write('class="sapUiSliText sapUiSliTextLeft" >');break;case(t):r.write('class="sapUiSliText sapUiSliTextRight" >');break;default:r.write('class="sapUiSliText" >');break}if(u){r.write(d.getLabels()[i])}else{var s=(d.getMax()-d.getMin())/t;r.write(d.getMin()+i*s)}r.write('</DIV>')}}}};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderHighlightBar=function(r,d){r.write('<DIV');r.writeAttribute('id',d.getId()+'-hili');r.write('class="sapUiSliHiLi"></DIV>')};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderGrip=function(r,d){r.write('<DIV');r.writeAttribute('id',d.getId()+'-grip');if(d.getEnabled()){r.writeAttribute('tabIndex','0')}else{r.writeAttribute('tabIndex','-1')}if(d.getPinGrip()){r.write('class="sapUiSliGrip sapUiSliGripPin"')}else{r.write('class="sapUiSliGrip"')}r.writeAccessibilityState(d,{role:'slider',controls:d.getId()+'-grip',orientation:'horizontal',valuemin:d.getFormattedDate(d.getMinDate()),valuemax:d.getFormattedDate(d.getValue2Date()),valuenow:d.getValue(),valuetext:d.getFormattedDate(d.getValueDate()),disabled:!d.getEditable()||!d.getEnabled(),describedby:d.getTooltip_AsString()?(d.getId()+'-Descr '+d.getAriaDescribedBy().join(" ")):undefined,live:'assertive'});r.write('>&#9650;</DIV>')};sap.suite.ui.commons.DateRangeSliderInternalRenderer.renderGrip2=function(r,d){r.write('<DIV');r.writeAttribute('id',d.getId()+'-grip2');if(d.getEnabled()){r.writeAttribute('tabIndex','0')}else{r.writeAttribute('tabIndex','-1')}if(d.getPinGrip2()){r.write('class="sapUiSliGrip sapUiSliGripPin"')}else{r.write('class="sapUiSliGrip"')}r.writeAttribute('title',d.getValue2());r.writeAccessibilityState(d,{role:'slider',controls:d.getId()+'-grip2',orientation:'horizontal',valuemin:d.getFormattedDate(d.getValueDate()),valuemax:d.getFormattedDate(d.getMaxDate()),valuenow:d.getValue2(),valuetext:d.getFormattedDate(d.getValue2Date()),disabled:!d.getEditable()||!d.getEnabled(),describedby:d.getTooltip_AsString()?(d.getId()+'-Descr '+d.getAriaDescribedBy().join(" ")):undefined,live:'assertive'});r.write('>&#9650;</DIV>')};sap.suite.ui.commons.DateRangeSliderInternalRenderer.render=function(r,d){if(!d.getVisible()){return}this.renderEnclosingDiv(r,d);this.renderBufferDivForBubbles(r,d);this.renderAriaGripTooltip(r,d);this.renderBubbles(r,d);this.renderSliderBar(r,d);this.renderTicksAndLabels(r,d);this.renderHighlightBar(r,d);if(d.getPinGrip()||(d.getPinGrip()&&d.getPinGrip2())||(!d.getPinGrip()&&!d.getPinGrip2())){this.renderGrip(r,d);this.renderGrip2(r,d)}else if(d.getPinGrip2()){this.renderGrip2(r,d);this.renderGrip(r,d)}this.renderSliderBarEnd(r,d);this.renderEnclosingDivEnd(r,d)}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.DateRangeSliderRenderer')){jQuery.sap.declare("sap.suite.ui.commons.DateRangeSliderRenderer");sap.suite.ui.commons.DateRangeSliderRenderer={};sap.suite.ui.commons.DateRangeSliderRenderer.render=function(r,d){if(!d.getVisible()){return}r.write("<span");r.writeControlData(d);r.addClass("sapSuiteUiCommonsDateRangeSlider");r.writeClasses();r.write(">");r.renderControl(d._oDateRangeSliderInternal);r.write("</span>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.DynamicContainerRenderer')){jQuery.sap.declare("sap.suite.ui.commons.DynamicContainerRenderer");sap.suite.ui.commons.DynamicContainerRenderer={};sap.suite.ui.commons.DynamicContainerRenderer.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapSuiteDC");r.writeClasses();var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t)}r.writeAttribute("tabindex","0");r.write(">");var l=c.getTiles().length;for(var i=0;i<l;i++){r.write("<div");r.writeAttribute("id",c.getId()+"-wrapper-"+i);r.addClass("sapSuiteDCWrapper");r.writeClasses();r.write(">");r.renderControl(c.getTiles()[i]);r.write("</div>")}r.write("<div");r.writeAttribute("id",c.getId()+"-icon-cont");r.addClass("sapSuiteDCIconCont");r.writeClasses();r.write(">");r.renderControl(c._oPauseIcon);r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.FacetOverviewRenderer')){jQuery.sap.declare("sap.suite.ui.commons.FacetOverviewRenderer");sap.suite.ui.commons.FacetOverviewRenderer={};sap.suite.ui.commons.FacetOverviewRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}if(c.hasListeners("press")){r.addClass("sapSuiteFovClickable")}r.addClass("sapSuiteFov");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-title");r.addClass("sapSuiteFovTitle");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-title-text");r.addClass("sapSuiteFovTitleText");r.writeClasses();r.write(">");r.writeEscaped(c.getTitle());r.write("</div>");if(c.getQuantity()>=0){r.write("<div");r.writeAttribute("id",c.getId()+"-qty");r.addClass("sapSuiteFovQty");r.writeClasses();r.write(">");r.writeEscaped("("+c.getQuantity()+")");r.write("</div>")}if(c._oHoverIcon){r.write("<div");r.writeAttribute("id",c.getId()+"-hover-icon");r.addClass("sapSuiteFovHoverIcon");r.writeClasses();r.write(">");r.renderControl(c._oHoverIcon);r.write("</div>")}r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-content");if(sap.suite.ui.commons.FacetOverviewHeight.Auto==c.getHeightType()){r.addStyle("height","auto");r.writeStyles()}r.addClass("sapSuiteFovContent");r.writeClasses();r.write(">");if(c.getContent()){r.renderControl(c.getContent())}else if(sap.suite.ui.commons.FacetOverviewHeight.XS!=c.getHeightType()){r.renderControl(c._oNoDataLabel)}r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.GenericTileRenderer')){jQuery.sap.declare("sap.suite.ui.commons.GenericTileRenderer");sap.suite.ui.commons.GenericTileRenderer={};sap.suite.ui.commons.GenericTileRenderer.renderHeader=function(r,c){r.write("<div");r.addClass("sapSuiteGTHdrTxt");r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-hdr-text");r.write(">");r.renderControl(c._oTitle);r.write("</div>")};sap.suite.ui.commons.GenericTileRenderer.renderSubheader=function(r,c){r.write("<div");r.addClass("sapSuiteGTSubHdrTxt");r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-subHdr-text");r.write(">");r.writeEscaped(c.getSubheader());r.write("</div>")};sap.suite.ui.commons.GenericTileRenderer.renderContent=function(r,c){r.write("<div");r.addClass("sapSuiteGTContent");r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-content");r.write(">");this.renderInnerContent(r,c);r.write("</div>")};sap.suite.ui.commons.GenericTileRenderer.render=function(r,c){var t=c.getTooltip_AsString();var h=c.getHeaderImage();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addClass("sapSuiteGT");r.addClass(c.getSize());r.addClass(c.getFrameType());if(c.hasListeners("press")&&c.getState()!="Disabled"){r.addClass("sapSuiteUiCommonsPointer");r.writeAttribute("tabindex","0")}r.writeClasses();if(c.getBackgroundImage()){r.write(" style='background-image:url(");r.writeEscaped(c.getBackgroundImage());r.write(");'")}r.write(">");if(h){r.renderControl(c._oImage)}var s=c.getState();if(s!=sap.suite.ui.commons.LoadState.Loaded){r.write("<div");r.addClass("sapSuiteGTOverlay");r.writeClasses();r.writeAttribute("id",c.getId()+"-overlay");r.write(">");switch(s){case sap.suite.ui.commons.LoadState.Disabled:case sap.suite.ui.commons.LoadState.Loading:c._oBusy.setBusy(s=="Loading");r.renderControl(c._oBusy);break;case sap.suite.ui.commons.LoadState.Failed:r.write("<div");r.writeAttribute("id",c.getId()+"-failed-ftr");r.addClass("sapSuiteGenericTileFtrFld");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-failed-icon");r.addClass("sapSuiteGenericTileFtrFldIcn");r.writeClasses();r.write(">");r.renderControl(c._oWarningIcon);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-failed-text");r.addClass("sapSuiteGenericTileFtrFldTxt");r.writeClasses();r.write(">");r.renderControl(c._oFailed);r.write("</div>");r.write("</div>");break;default:}r.write("</div>")}r.write("<div");r.addClass("sapSuiteGTHdrContent");r.addClass(c.getSize());r.addClass(c.getFrameType());r.writeAttributeEscaped("title",c.getHeader()+"\n"+c.getSubheader());r.writeClasses();r.write(">");this.renderHeader(r,c);this.renderSubheader(r,c);r.write("</div>");r.write("<div");r.addClass("sapSuiteGTContent");r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-content");r.write(">");var l=c.getTileContent().length;for(var i=0;i<l;i++){r.renderControl(c.getTileContent()[i])}r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.HeaderCellRenderer')){jQuery.sap.declare("sap.suite.ui.commons.HeaderCellRenderer");sap.suite.ui.commons.HeaderCellRenderer={};sap.suite.ui.commons.HeaderCellRenderer.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapSuiteUiCommonsHeaderCell");r.addStyle("height",c.getHeight());r.writeStyles();r.writeClasses();r.write(">");var w=c.getWest();var n=c.getNorth();var e=c.getEast();var s=c.getSouth();var t="";if(w!=null){t+="W"}if(n!=null){t+="N"}if(e!=null){t+="E"}if(s!=null){t+="S"}if(w!=null){this._renderInnerCell(r,w,t,"sapSuiteHdrCellWest")}if(n!=null){this._renderInnerCell(r,n,t,"sapSuiteHdrCellNorth")}if(e!=null){this._renderInnerCell(r,e,t,"sapSuiteHdrCellEast")}if(s!=null){this._renderInnerCell(r,s,t,"sapSuiteHdrCellSouth")}r.write("</div>")};sap.suite.ui.commons.HeaderCellRenderer._renderInnerCell=function(r,c,t,s){r.write("<div");r.addClass(t);r.addClass(s);r.addStyle("height",c.getHeight());r.writeStyles();r.writeClasses();r.write(">");r.renderControl(c.getContent());r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.HeaderContainerRenderer')){jQuery.sap.declare("sap.suite.ui.commons.HeaderContainerRenderer");sap.suite.ui.commons.HeaderContainerRenderer={};sap.suite.ui.commons.HeaderContainerRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addClass("sapSuiteHdrCntr");r.writeClasses();r.write(">");if(c._oArrowPrev){r.write("<div");r.addClass("sapSuiteHdrCntrBtnCntr");r.addClass("sapSuiteHdrCntrLeft");r.writeClasses();r.write(">");r.renderControl(c._oArrowPrev);r.write("</div>")}r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-scroll-area");r.addClass("sapSuiteHdrCntrCntr");r.writeClasses();r.write(">");r.renderControl(c._oScrollCntr);r.write("</div>");if(c._oArrowNext){r.write("<div");r.addClass("sapSuiteHdrCntrBtnCntr");r.addClass("sapSuiteHdrCntrRight");r.writeClasses();r.write(">");r.renderControl(c._oArrowNext);r.write("</div>")}r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.InfoTileRenderer')){jQuery.sap.declare("sap.suite.ui.commons.InfoTileRenderer");sap.suite.ui.commons.InfoTileRenderer={};sap.suite.ui.commons.InfoTileRenderer.renderTitle=function(r,c){if(c.getTitle()!==""){r.write("<div");r.addClass("sapSuiteInfoTileTitleTxt");r.addClass(c.getState());r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-title-text");r.writeAttributeEscaped("title",c.getTitle());r.write(">");r.renderControl(c._oTitle);r.write("</div>")}};sap.suite.ui.commons.InfoTileRenderer.renderDescription=function(r,c){if(c.getDescription()!==""){r.write("<div");r.addClass("sapSuiteInfoTileDescTxt");r.addClass(c.getState());r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-description-text");r.writeAttributeEscaped("title",c.getDescription());r.write(">");r.writeEscaped(c.getDescription());r.write("</div>")}};sap.suite.ui.commons.InfoTileRenderer.renderInnerContent=function(r,c){r.renderControl(c.getContent())};sap.suite.ui.commons.InfoTileRenderer.renderContent=function(r,c){r.write("<div");r.addClass("sapSuiteInfoTileContent");r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-content");r.write(">");this.renderInnerContent(r,c);r.write("</div>")};sap.suite.ui.commons.InfoTileRenderer.renderFooterText=function(r,c){if(c.getFooter()!==""){r.writeEscaped(c.getFooter())}};sap.suite.ui.commons.InfoTileRenderer.renderFooterTooltip=function(r,c){r.writeAttributeEscaped("title",c.getFooter())};sap.suite.ui.commons.InfoTileRenderer.renderFooter=function(r,c){var s=c.getState();r.write("<div");r.addClass("sapSuiteInfoTileFtrTxt");r.addClass(c.getSize());r.addClass(c.getState());r.writeClasses();r.writeAttribute("id",c.getId()+"-footer-text");if(s==sap.suite.ui.commons.LoadState.Loaded){this.renderFooterTooltip(r,c)}r.write(">");switch(s){case sap.suite.ui.commons.LoadState.Loading:var b=new sap.ui.core.HTML({content:"<div class='sapSuiteInfoTileLoading'><div>"});b.setBusyIndicatorDelay(0);b.setBusy(true);r.renderControl(b);break;case sap.suite.ui.commons.LoadState.Failed:r.renderControl(c._oWarningIcon);r.write("<span");r.writeAttribute("id",c.getId()+"-failed-text");r.addClass("sapSuiteInfoTileFtrFldTxt");r.writeClasses();r.write(">");r.writeEscaped(c._sFailedToLoad);r.write("</span>");break;default:this.renderFooterText(r,c)}r.write("</div>")};sap.suite.ui.commons.InfoTileRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addClass("sapSuiteInfoTile");r.addClass(c.getSize());r.addClass(c.getState());r.writeClasses();r.writeAttribute("tabindex","0");r.write(">");this.renderTitle(r,c);this.renderDescription(r,c);this.renderContent(r,c);this.renderFooter(r,c);r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.JamContentRenderer')){jQuery.sap.declare("sap.suite.ui.commons.JamContentRenderer");sap.suite.ui.commons.JamContentRenderer={};sap.suite.ui.commons.JamContentRenderer.render=function(r,c){var s=c.getSize();var C=c.getContentText();var S=c.getSubheader();var v=c.getValue();var t=c.getTooltip_AsString();if(!t){t=v+" "+C+" "+S}r.write("<div");r.writeControlData(c);r.writeAttributeEscaped("title",t);r.writeAttribute("id",c.getId()+"-jam-content");r.addClass(s);r.addClass("sapSuiteUiCommonsJC");if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapSuiteUiCommonsPointer")}r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-value");r.addClass("sapSuiteUiCommonsJCValue");r.addClass(s);r.addClass(c.getValueColor());r.writeClasses();r.write(">");var i=c.getTruncateValueTo();if(v.length>=i&&(v[i-1]==="."||v[i-1]===",")){r.writeEscaped(v.substring(0,i-1))}else{r.writeEscaped(v?v.substring(0,i):"")}r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsJCCTxt");r.addClass(s);r.writeClasses();r.write(">");r.renderControl(c._oCText);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-subheader");r.addClass("sapSuiteUiCommonsJCSbh");r.addClass(s);r.writeClasses();r.write(">");r.writeEscaped(S);r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.KpiTileRenderer')){jQuery.sap.declare("sap.suite.ui.commons.KpiTileRenderer");sap.suite.ui.commons.KpiTileRenderer={};sap.suite.ui.commons.KpiTileRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addClass("sapSuiteKTile");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteKTileBorder");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-value");r.addClass("sapSuiteKTileValue");r.addClass("sapSuiteKTileStatus"+c.getValueStatus());if(c.getDoubleFontSize()){r.addClass("sapSuiteKTileValueLargeText")}else{r.addClass("sapSuiteKTileValueSmallText")}r.writeClasses();if(!t){r.writeAttributeEscaped("title",c.getValueScale()?c.getValue()+", "+c.getValueScale():c.getValue())}r.write(">");r.writeEscaped(c.getValue());if(c.getValueScale()){r.write("<span");r.writeAttribute("id",c.getId()+"-value-scale");r.addClass("sapSuiteKTileScale");r.writeClasses();r.write(">");r.writeEscaped(c.getValueScale());r.write("</span>")}r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-desc");r.addClass("sapSuiteKTileDesc");r.writeClasses();var b="";if(c.getValueUnit()){b+=c.getValueUnit()+", "}b+=c.getDescription();if(!t){r.writeAttributeEscaped("title",b)}r.write(">");r.writeEscaped(b);r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.LaunchTileRenderer')){
// @copyright 
jQuery.sap.declare("sap.suite.ui.commons.LaunchTileRenderer");sap.suite.ui.commons.LaunchTileRenderer={};sap.suite.ui.commons.LaunchTileRenderer.render=function(r,l){var L=sap.ui.getCore().getConfiguration().getLanguage();var R=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons",L);var a="";r.write("<div");r.writeControlData(l);r.addClass("sapSuiteUiCommonsLaunchTile");r.addClass("sapSuiteUiCommonsPointer");r.writeAttribute("tabindex","0");r.writeClasses();if(l.getTooltip_AsString()){a=l.getTooltip_AsString();r.writeAttributeEscaped("title",l.getTooltip_AsString())}else{a=R.getText("LAUNCHTILE_LAUNCH")+" "+l.getTitle()}r.writeAccessibilityState(l,{role:'link',live:'assertive',label:a});r.write(">");r.write('<div id="'+l.getId()+'-launchTileText"');r.addClass("sapSuiteUiCommonsLaunchTileTitle");r.writeClasses();r.write(">");r.writeEscaped(l.getTitle());r.write("</div>");r.write('<div id="'+l.getId()+'-launchTileIcon"');r.addClass("sapSuiteUiCommonsLaunchTileIcon");r.writeClasses();r.write(">");r.renderControl(l._iconImage);r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.LinkActionSheetRenderer')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.LinkActionSheetRenderer");jQuery.sap.require('sap.m.ActionSheetRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.LinkActionSheetRenderer=sap.ui.core.Renderer.extend(sap.m.ActionSheetRenderer);sap.suite.ui.commons.LinkActionSheetRenderer.render=function(r,c){var a=c.getItems(),i,m=false;for(i=0;i<a.length;i++){if(a[i].getIcon&&a[i].getIcon()){m=true;break}}r.write("<div");r.writeControlData(c);r.addClass("sapMActionSheet");r.addClass("sapUILinkActionSheet");if(m){r.addClass("sapMActionSheetMixedButtons")}r.writeClasses();var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t)}r.write(">");for(i=0;i<a.length;i++){if(a[i].getType){var b=a[i];b.addStyleClass("sapMActionSheetButton");b.addStyleClass("sapUILinkActionSheetButton");r.renderControl(b)}else if(a[i].getHref){r.renderControl(a[i].addStyleClass("sapUILinkActionSheetLink"))}}if((jQuery.device.is.iphone||(sap.m.Dialog._bOneDesign&&jQuery.device.is.phone))&&c.getShowCancelButton()){r.renderControl(c._getCancelButton())}r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.MicroAreaChartRenderer')){jQuery.sap.declare("sap.suite.ui.commons.MicroAreaChartRenderer");sap.suite.ui.commons.MicroAreaChartRenderer={};sap.suite.ui.commons.MicroAreaChartRenderer.render=function(r,c){function w(l,i,C,s){var L=l?l.getLabel():"";r.write("<div");r.writeAttribute("id",c.getId()+i);r.writeAttributeEscaped("title",L);if(l){r.addClass(l.getColor())}r.addClass("sapSuiteMacLbl");r.addClass(C);r.addClass(s);r.writeClasses();r.write(">");r.writeEscaped(L);r.write("</div>")};var t=c.getTooltip_AsString();var T=((c.getFirstYLabel()&&c.getFirstYLabel().getLabel())?"L":"")+((c.getMaxLabel()&&c.getMaxLabel().getLabel())?"C":"")+((c.getLastYLabel()&&c.getLastYLabel().getLabel())?"R":"");var b=((c.getFirstXLabel()&&c.getFirstXLabel().getLabel())?"L":"")+((c.getMinLabel()&&c.getMinLabel().getLabel())?"C":"")+((c.getLastXLabel()&&c.getLastXLabel().getLabel())?"R":"");r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.addClass("sapSuiteMac");if(c.hasListeners("press")){r.addClass("sapSuiteUiCommonsPointer");r.writeAttribute("tabindex","0")}r.writeClasses();r.write(">");if(T){r.write("<div");r.writeAttribute("id",c.getId()+"-top-labels");r.addClass("sapSuiteMacLabels");r.addClass("Top");r.writeClasses();r.write(">");w(c.getFirstYLabel(),"-top-left-lbl","Left",T);w(c.getMaxLabel(),"-top-center-lbl","Center",T);w(c.getLastYLabel(),"-top-right-lbl","Right",T);r.write("</div>")}r.write("<div");r.writeAttribute("id",c.getId()+"-canvas-cont");r.addClass("sapSuiteMacCanvas");if(T){r.addClass("topLbls")}if(b){r.addClass("btmLbls")}r.writeClasses();r.write(">");r.write("<canvas");r.writeAttribute("id",c.getId()+"-canvas");r.addStyle("width","100%");r.addStyle("height","100%");r.writeStyles();r.write("></canvas>");r.write("</div>");if(b){r.write("<div");r.writeAttribute("id",c.getId()+"-bottom-labels");r.addClass("sapSuiteMacLabels");r.addClass("Btm");r.writeClasses();r.write(">");w(c.getFirstXLabel(),"-btm-left-lbl","Left",b);w(c.getMinLabel(),"-btm-center-lbl","Center",b);w(c.getLastXLabel(),"-btm-right-lbl","Right",b);r.write("</div>")}r.write("<div");r.writeAttribute("id",c.getId()+"-css-helper");r.addStyle("display","none");r.writeStyles();r.write("></div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.MonitoringContentRenderer')){jQuery.sap.declare("sap.suite.ui.commons.MonitoringContentRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.MonitoringContentRenderer={};sap.suite.ui.commons.MonitoringContentRenderer.render=function(r,c){var s=c.getSize();var v=c.getValue();var S=c.getState();var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}if(c.getAnimateTextChange()){r.addStyle("opacity","0.25");r.writeStyles()}r.addClass(s);r.addClass("sapSuiteUiCommonsMC");if(c.hasListeners("press")){r.addClass("sapSuiteUiCommonsPointer")}r.writeClasses();r.writeAttribute("tabindex","0");r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-value");r.addClass("sapSuiteUiCommonsMCValue");r.addClass(s);r.addClass(S);r.writeClasses();r.write(">");if(v.length>=4&&(v[3]==="."||v[3]===",")){r.writeEscaped(v.substring(0,3))}else{r.writeEscaped(v?v.substring(0,4):"0")}r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-icon-container");r.addClass("sapSuiteUiCommonsMCIcon");r.addClass(s);r.addClass(S);r.writeClasses();r.write(">");r.renderControl(c._oIcon);r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.MonitoringTileRenderer')){jQuery.sap.declare("sap.suite.ui.commons.MonitoringTileRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.MonitoringTileRenderer=sap.ui.core.Renderer.extend(sap.suite.ui.commons.InfoTileRenderer);sap.suite.ui.commons.MonitoringTileRenderer.renderFooterText=function(r,c){r.write("<span");r.writeAttribute("id",c.getId()+"-footer-text");r.addClass("sapSuiteUiCommonsMTFooterText");r.addClass(c.getFooterColor());r.writeClasses();r.write(">");r.writeEscaped(c.getFooter());r.write("</span>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NewsContentRenderer')){jQuery.sap.declare("sap.suite.ui.commons.NewsContentRenderer");sap.suite.ui.commons.NewsContentRenderer={};sap.suite.ui.commons.NewsContentRenderer.render=function(r,c){var s=c.getSize();var C=c.getContentText();var S=c.getSubheader();var t=c.getTooltip_AsString();if(!t){t=C+" "+S}r.write("<div");r.writeControlData(c);r.writeAttributeEscaped("title",t);r.writeAttribute("id",c.getId()+"-news-content");r.addClass(s);r.addClass("sapSuiteUiCommonsNwC");if(c.hasListeners("press")){r.addClass("sapSuiteUiCommonsPointer");r.writeAttribute("tabindex","0")}r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteUiCommonsNwCCTxt");r.addClass(s);r.writeClasses();r.write(">");r.renderControl(c._oCText);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-subheader");r.addClass("sapSuiteUiCommonsNwCSbh");r.addClass(s);r.writeClasses();r.write(">");r.writeEscaped(S);r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NoteTakerFeederRenderer')){jQuery.sap.declare("sap.suite.ui.commons.NoteTakerFeederRenderer");sap.suite.ui.commons.NoteTakerFeederRenderer={};sap.suite.ui.commons.NoteTakerFeederRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addClass("sapSuiteUiCommonsNoteTakerFeeder");r.writeClasses();r.writeAttribute("tabindex","0");r.writeAccessibilityState(c,{role:'region',describedby:c.getId()+"-header"});r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-header");r.addClass("sapSuiteUiCommonsNoteTakerFeederHeader");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-header-text");r.writeAccessibilityState(c,{role:'heading'});r.write(">");r.writeEscaped(c._rb.getText("NOTETAKERFEEDER_TITLE"));r.write("</div>");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-tag-panel");r.addClass("sapSuiteUiCommonsNoteTakerFeederTagPanel");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-left-toolbar");r.addClass("sapSuiteUiCommonsNoteTakerFeederLeftPanel");r.writeClasses();r.write(">");r.renderControl(c._oTagButton);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-right-toolbar");r.addClass("sapSuiteUiCommonsNoteTakerFeederRightPanel");r.writeClasses();r.write(">");r.renderControl(c._oThumbUpButton);r.renderControl(c._oThumbDownButton);r.renderControl(c._oAddAttachButton);r.renderControl(c._oFileUploader);r.write("</div>");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-attachment-panel");r.addClass("sapSuiteUiCommonsNoteTakerFeederAttachmentPanel");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-attachment-content");r.addClass("sapSuiteUiCommonsNoteTakerFeederAttachmentContent");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-attachment-name");r.addClass("sapSuiteUiCommonsNtfAttachmentNamelbl");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-attachment-image");r.addClass("sapSuiteUiCommonsNtfAttachImg");r.writeClasses();r.write("/>");r.renderControl(c._oAttachmentLink);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-attachment-loading");r.addClass("sapSuiteUiCommonsNtfLoadingLbl");r.writeClasses();r.write(">");r.renderControl(c._oAttachmentLoadingLabel);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-attachment-delete");r.addClass("sapSuiteUiCommonsNtfDeleteBtn");r.writeClasses();r.write(">");r.renderControl(c._oDeleteAttachButton);r.write("</div>");r.write("</div>");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-title-panel");r.addClass("sapSuiteUiCommonsNoteTakerFeederTitlePanel");r.writeClasses();r.write(">");r.renderControl(c._oTitle);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-body");if(c._oAddAttachButton.getEnabled()){r.addClass("sapSuiteUiCommonsNoteTakerFeederBody")}else{r.addClass("sapSuiteUiCommonsNoteTakerFeederBodySmaller")}r.writeClasses();r.write(">");r.renderControl(c._oBody);r.write("</div>");r.renderControl(c._oAddButton);r.write("<div");r.writeAttribute("id",c.getId()+"-selectTag-panel");r.addClass("sapSuiteUiCommonsNoteTakerFeederSelectTagPanel");r.addClass("sapUiShd");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-selectTag-arrow");r.addClass("sapSuiteUiCommonsNoteTakerFeederSelectTagArrow");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-selectTag-header");r.addClass("sapSuiteUiCommonsNoteTakerFeederSelectTagHeader");r.writeClasses();r.write(">");r.writeEscaped(c._rb.getText("NOTETAKERFEEDER_TOOLPOPUP_TITLE"));r.write("</div>");r.write("<div>");r.renderControl(c._oTagInput);r.write("</div>");r.write("<div>");r.renderControl(c._oTagList);r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsNoteTakerFeederSelectTagButtons");r.writeClasses();r.write(">");r.renderControl(c._oAddTagButton);r.renderControl(c._oCancelTagButton);r.write("</div>");r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NoteTakerRenderer')){jQuery.sap.declare("sap.suite.ui.commons.NoteTakerRenderer");sap.suite.ui.commons.NoteTakerRenderer={};sap.suite.ui.commons.NoteTakerRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addClass("sapSuiteUiCommonsNoteTaker");r.writeClasses();r.writeAttribute("style","width:"+(c.getVisibleNotes()*350+50)+"px");r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-filterPane");r.addClass("sapSuiteUiCommonsNoteTakerFilterPane");r.writeClasses();r.write(">");r.write("<div");r.addClass("suiteUiNtFilterPaneLeftSection");r.writeClasses();r.write(">");r.renderControl(c._oHomeButton);r.write("<span");r.writeAttribute("id",c.getId()+"-filterPane-header");r.addClass("suiteUiNtFilterTitle");r.writeClasses();r.write(">");r.writeEscaped(c._rb.getText("NOTETAKER_FILTER_TITLE")+":");r.write("</span>");r.renderControl(c._oFilterTagButton);r.renderControl(c._oFilterThumbUpButton);r.renderControl(c._oFilterThumbDownButton);r.renderControl(c._oFilterAllButton);r.write("</div>");r.write("<div");r.addClass("suiteUiNtFilterPaneRightSection");r.writeClasses();r.write(">");if(c.getVisibleNotes()>1){r.renderControl(c._oFilterSearchField)}else{r.renderControl(c._oSearchButton)}r.write("</div>");r.write("</div>");r.renderControl(c._carousel);if(c.getVisibleNotes()==1){this.searchTextRender(r,c)}r.write("<div");r.writeAttribute("id",c.getId()+"-filterTag-panel");r.addClass("sapSuiteUiCommonsNoteTakerFilterTagPanel");r.addClass("sapUiShd");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-filterTag-arrow");r.addClass("sapSuiteUiCommonsNoteTakerFilterTagArrow");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-filterTag-header");r.addClass("sapSuiteUiCommonsNoteTakerFilterTagHeader");r.writeClasses();r.write(">");r.writeEscaped(c._rb.getText("NOTETAKERFEEDER_TOOLPOPUP_TITLE"));r.write("</div>");r.write("<div>");r.renderControl(c._oFilterTagList);r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsNoteTakerFilterTagButtons");r.writeClasses();r.write(">");r.renderControl(c._oApplyFilterTagButton);r.renderControl(c._oCancelFilterTagButton);r.write("</div>");r.write("</div>");r.write("</div>")};sap.suite.ui.commons.NoteTakerRenderer.searchTextRender=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-search-panel");r.addClass("sapSuiteUiCommonsNoteTakerSearchPanel");r.addClass("sapUiShd");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-search-arrow");r.addClass("sapSuiteUiCommonsNoteTakerSearchArrow");r.writeClasses();r.write(">");r.write("</div>");r.write("<div>");r.renderControl(c._oFilterSearchField);r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NumericContentRenderer')){jQuery.sap.declare("sap.suite.ui.commons.NumericContentRenderer");sap.suite.ui.commons.NumericContentRenderer={};sap.suite.ui.commons.NumericContentRenderer.render=function(r,c){var e=c.getNullifyValue()?"0":"";var s=c.getSize();var v=c.getValue();var i=c.getIndicator();var S=c.getScale();var a=c.getState();var C=c.getValueColor();var I=sap.suite.ui.commons.DeviationIndicator.None!=i&&""!=v;var o=c._oIcon;if(c.getFormatterValue()){var f=c._parseFormattedValue(v);S=f.scale;v=f.value}var b=S&&v;r.write("<div");r.writeControlData(c);r.writeAttributeEscaped("title",c.getTooltip_AsString());if(c.getAnimateTextChange()){r.addStyle("opacity","0.25");r.writeStyles()}r.addClass(s);r.addClass("sapSuiteUiCommonsNC");if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapSuiteUiCommonsPointer")}r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteUiCommonsNCInner");r.addClass(s);r.writeClasses();r.write(">");if(I||b){r.write("<div");r.addClass("sapSuiteUiCommonsNCIndScale");r.addClass(s);r.addClass(a);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-indicator");r.addClass("sapSuiteUiCommonsNCIndicator");r.addClass(s);r.addClass(i);r.addClass(a);r.addClass(C);r.writeClasses();r.write("></div>");if(b){r.write("<div");r.writeAttribute("id",c.getId()+"-scale");r.addClass("sapSuiteUiCommonsNCScale");r.addClass(s);r.addClass(a);r.addClass(C);r.writeClasses();r.write(">");r.writeEscaped(S.substring(0,3));r.write("</div>")}r.write("</div>")}if(o){o.addStyleClass(s);o.addStyleClass(a);r.renderControl(o);o.removeStyleClass(s);o.removeStyleClass(a)}r.write("<div");r.writeAttribute("id",c.getId()+"-value");r.addClass("sapSuiteUiCommonsNCValue");r.addClass(C);r.addClass(s);r.addClass(a);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-value-scr");r.addClass("sapSuiteUiCommonsNCValueScr");r.addClass(s);r.writeClasses();r.write(">");var d=c.getTruncateValueTo();if(v.length>=d&&(v[d-1]==="."||v[d-1]===",")){r.writeEscaped(v.substring(0,d-1))}else{r.writeEscaped(v?v.substring(0,d):e)}r.write("</div>");r.write("</div>");r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NumericTileRenderer')){jQuery.sap.declare("sap.suite.ui.commons.NumericTileRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.NumericTileRenderer=sap.ui.core.Renderer.extend(sap.suite.ui.commons.InfoTileRenderer);sap.suite.ui.commons.NumericTileRenderer._getFooterText=function(r,c){var f=c.getFooter();var u=c.getUnit();return u?(sap.ui.getCore().getConfiguration().getRTL()?((f?f+" ,":"")+u):(u+(f?", "+f:""))):f};sap.suite.ui.commons.NumericTileRenderer.renderFooterTooltip=function(r,c){r.writeAttributeEscaped("title",this._getFooterText(r,c))};sap.suite.ui.commons.NumericTileRenderer.renderFooterText=function(r,c){r.writeEscaped(this._getFooterText(r,c))}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.PictureZoomInRenderer')){jQuery.sap.declare("sap.suite.ui.commons.PictureZoomInRenderer");sap.suite.ui.commons.PictureZoomInRenderer={};sap.suite.ui.commons.PictureZoomInRenderer.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapSuiteUiCommonsPictureZoomIn");r.writeClasses();r.write(">");if(c.getBusyIndicator()){r.write("<div");r.writeAttribute("id",c.getId()+"-busy");r.addClass("sapSuiteUiCommonsPictureZoomInBusy");r.writeClasses();r.write(">");r.renderControl(c.getBusyIndicator());r.write("</div>")}r.renderControl(c._oImage);r.renderControl(c._oDescription);r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ProcessFlowConnectionRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowConnectionRenderer");sap.suite.ui.commons.ProcessFlowConnectionRenderer={};sap.suite.ui.commons.ProcessFlowConnectionRenderer.render=function(r,c){var a=c._traverseConnectionData();var z=c.getZoomLevel();r.write("<div id = \""+c.getId()+"\">");if(a.hasOwnProperty("left")&&a.left.draw&&a.hasOwnProperty("right")&&a.right.draw&&a.hasOwnProperty("top")&&!a.top.draw&&a.hasOwnProperty("bottom")&&!a.bottom.draw){r.write("<div");r.addClass("boxWideWidth");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxTopZoom1Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxTopZoom3Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxTopZoom4Height");break;default:r.addClass("boxTopZoom2Height")}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");if(a.arrow){r.addClass("parentPosition");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxWideArrowZoom1Width");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxWideArrowZoom3Width");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxWideArrowZoom4Width");break;default:r.addClass("boxWideArrowZoom2Width")}}else{r.addClass("boxWideWidth")}r.addClass("boxMiddleBorderHeight");r.addClass("borderBottom");if(a.right.state==="Planned"){r.addClass("borderBottomStatePlanned")}else{r.addClass("borderBottomStateCreated")}if(a.right.display==="Highlighted"){r.addClass("borderBottomDisplayHighlighted");r.addClass("displayHighlighted")}else if(a.right.display==="Dimmed"){r.addClass("borderBottomDisplayDimmed");r.addClass("displayDimmed")}else{r.addClass("borderBottomDisplayRegular");r.addClass("displayRegular")}r.writeClasses();r.write(">");if(a.arrow){r.write("<div");r.addClass("arrowRight");if(a.right.display==="Highlighted"){r.addClass("borderLeftDisplayHighlighted")}else if(a.right.display==="Dimmed"){r.addClass("borderLeftDisplayDimmed")}else{r.addClass("borderLeftDisplayRegular")}r.writeClasses();r.write(">");r.write("</div>")}r.write("</div>")}else if(a.hasOwnProperty("left")&&!a.left.draw&&a.hasOwnProperty("right")&&!a.right.draw&&a.hasOwnProperty("top")&&a.top.draw&&a.hasOwnProperty("bottom")&&a.bottom.draw){r.write("<div");r.addClass("floatLeft");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxZoom1Width");r.addClass("boxWideZoom1Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxZoom3Width");r.addClass("boxWideZoom3Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxZoom4Width");r.addClass("boxWideZoom4Height");break;default:r.addClass("boxZoom2Width");r.addClass("boxWideZoom2Height")}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatLeft");r.addClass("boxMiddleBorderWidth");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxWideZoom1Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxWideZoom3Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxWideZoom4Height");break;default:r.addClass("boxWideZoom2Height")}r.addClass("borderLeft");if(a.top.state==="Planned"){r.addClass("borderLeftStatePlanned")}else{r.addClass("borderLeftStateCreated")}if(a.top.display==="Highlighted"){r.addClass("borderLeftDisplayHighlighted");r.addClass("displayHighlighted")}else if(a.top.display==="Dimmed"){r.addClass("borderLeftDisplayDimmed");r.addClass("displayDimmed")}else{r.addClass("borderLeftDisplayRegular");r.addClass("displayRegular")}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatClear");r.writeClasses();r.write(">");r.write("</div>")}else{r.write("<div");r.addClass("floatLeft");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxZoom1Width");r.addClass("boxTopZoom1Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxZoom3Width");r.addClass("boxTopZoom3Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxZoom4Width");r.addClass("boxTopZoom4Height");break;default:r.addClass("boxZoom2Width");r.addClass("boxTopZoom2Height")}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatLeft");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxTopZoom1Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxTopZoom3Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxTopZoom4Height");break;default:r.addClass("boxTopZoom2Height")}if(a.hasOwnProperty("top")&&a.top.draw){r.addClass("boxMiddleBorderWidth");r.addClass("borderLeft");if(a.top.state==="Planned"){r.addClass("borderLeftStatePlanned")}else{r.addClass("borderLeftStateCreated")}if(a.top.display==="Highlighted"){r.addClass("borderLeftDisplayHighlighted");r.addClass("displayHighlighted")}else if(a.top.display==="Dimmed"){r.addClass("borderLeftDisplayDimmed");r.addClass("displayDimmed")}else{r.addClass("borderLeftDisplayRegular");r.addClass("displayRegular")}}else{r.addClass("boxMiddleWidth")}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatClear");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatLeft");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxZoom1Width");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxZoom3Width");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxZoom4Width");break;default:r.addClass("boxZoom2Width")}if(a.hasOwnProperty("left")&&a.left.draw){r.addClass("boxMiddleBorderHeight");r.addClass("borderBottom");if(a.left.state==="Planned"){r.addClass("borderBottomStatePlanned")}else{r.addClass("borderBottomStateCreated")}if(a.left.display==="Highlighted"){r.addClass("borderBottomDisplayHighlighted");r.addClass("displayHighlighted")}else if(a.left.display==="Dimmed"){r.addClass("borderBottomDisplayDimmed");r.addClass("displayDimmed")}else{r.addClass("borderBottomDisplayRegular");r.addClass("displayRegular")}}else{r.addClass("boxMiddleHeight")}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatLeft");r.addClass("boxMiddleWidth");r.addClass("boxMiddleBorderHeight");if((a.hasOwnProperty("left")&&a.left.draw)||(a.hasOwnProperty("right")&&a.right.draw)||(a.hasOwnProperty("top")&&a.top.draw)||(a.hasOwnProperty("bottom")&&a.bottom.draw)){r.addClass("borderBottom");r.addClass("borderBottomStateCreated");if(a.right.display==="Highlighted"||a.top.display==="Highlighted"||a.left.display==="Highlighted"||a.bottom.display==="Highlighted"){r.addClass("borderBottomDisplayHighlighted");r.addClass("displayHighlighted")}else if(a.right.display==="Dimmed"||a.top.display==="Dimmed"||a.left.display==="Dimmed"||a.bottom.display==="Dimmed"){r.addClass("borderBottomDisplayDimmed");r.addClass("displayDimmed")}else{r.addClass("borderBottomDisplayRegular");r.addClass("displayRegular")}}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatLeft");if(a.arrow){r.addClass("parentPosition");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxArrowZoom1Width");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxArrowZoom3Width");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxArrowZoom4Width");break;default:r.addClass("boxArrowZoom2Width")}}else{switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxZoom1Width");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxZoom3Width");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxZoom4Width");break;default:r.addClass("boxZoom2Width")}}if(a.hasOwnProperty("right")&&a.right.draw){r.addClass("boxMiddleBorderHeight");r.addClass("borderBottom");if(a.right.state==="Planned"){r.addClass("borderBottomStatePlanned")}else{r.addClass("borderBottomStateCreated")}if(a.right.display==="Highlighted"){r.addClass("borderBottomDisplayHighlighted");r.addClass("displayHighlighted")}else if(a.right.display==="Dimmed"){r.addClass("borderBottomDisplayDimmed");r.addClass("displayDimmed")}else{r.addClass("borderBottomDisplayRegular");r.addClass("displayRegular")}}else{r.addClass("boxMiddleHeight")}r.writeClasses();r.write(">");if(a.arrow){r.write("<div");r.addClass("arrowRight");if(a.hasOwnProperty("right")){if(a.right.display==="Highlighted"){r.addClass("borderLeftDisplayHighlighted")}else if(a.right.display==="Dimmed"){r.addClass("borderLeftDisplayDimmed")}else{r.addClass("borderLeftDisplayRegular")}}r.writeClasses();r.write(">");r.write("</div>")}r.write("</div>");r.write("<div");r.addClass("floatClear");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatLeft");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxZoom1Width");r.addClass("boxBottomZoom1Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxZoom3Width");r.addClass("boxBottomZoom3Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxZoom4Width");r.addClass("boxBottomZoom4Height");break;default:r.addClass("boxZoom2Width");r.addClass("boxBottomZoom2Height")}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatLeft");switch(z){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("boxBottomZoom1Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("boxBottomZoom3Height");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("boxBottomZoom4Height");break;default:r.addClass("boxBottomZoom2Height")}if(a.hasOwnProperty("bottom")&&a.bottom.draw){r.addClass("boxMiddleBorderWidth");r.addClass("borderLeft");if(a.bottom.state==="Planned"){r.addClass("borderLeftStatePlanned")}else{r.addClass("borderLeftStateCreated")}if(a.bottom.display==="Highlighted"){r.addClass("borderLeftDisplayHighlighted");r.addClass("displayHighlighted")}else if(a.bottom.display==="Dimmed"){r.addClass("borderLeftDisplayDimmed");r.addClass("displayDimmed")}else{r.addClass("borderLeftDisplayRegular");r.addClass("displayRegular")}}else{r.addClass("boxMiddleWidth")}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("floatClear");r.writeClasses();r.write(">");r.write("</div>")}r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ProcessFlowLaneHeaderRenderer')){
/*
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowLaneHeaderRenderer");sap.suite.ui.commons.ProcessFlowLaneHeaderRenderer={};sap.suite.ui.commons.ProcessFlowLaneHeaderRenderer.render=function(r,c){switch(c.getSymbolType()){case sap.suite.ui.commons.ProcessFlowLaneHeader.symbolType.startSymbol:this._writeSymbolNodeType(r,c,"-start",["suiteUiProcessFlowLaneHeaderStartEndSymbol","suiteUiProcessFlowLaneHeaderStartSymbol"],["suiteUiProcessFlowLaneHeaderStartEndSymbolContainer","suiteUiProcessFlowLaneHeaderNoSelection"],false,c._isHeaderMode());break;case sap.suite.ui.commons.ProcessFlowLaneHeader.symbolType.endSymbol:this._writeSymbolNodeType(r,c,"-end",["suiteUiProcessFlowLaneHeaderStartEndSymbol","suiteUiProcessFlowLaneHeaderEndSymbol"],["suiteUiProcessFlowLaneHeaderStartEndSymbolContainer","suiteUiProcessFlowLaneHeaderNoSelection"],false,c._isHeaderMode());break;case sap.suite.ui.commons.ProcessFlowLaneHeader.symbolType.processSymbol:this._writeSymbolNodeType(r,c,"-process",["suiteUiProcessFlowLaneHeaderProcessSymbol"],["suiteUiProcessFlowLaneHeaderProcessSymbolContainer","suiteUiProcessFlowLaneHeaderNoSelection"],true,c._isHeaderMode());break;default:this._writeDefaultNodeType(r,c)}};sap.suite.ui.commons.ProcessFlowLaneHeaderRenderer._writeSymbolNodeType=function(r,c,i,s,C,d){r.write("<div");r.writeControlData(c);C.forEach(function(a){r.addClass(a)});r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+i);s.forEach(function(S){r.addClass(S)});r.writeClasses();r.write(">");if(d){var I=c.getIconSrc();if(I){var o=c._getImage(c.getId()+"-lh-icon",I);r.renderControl(o)}}r.write("</div>");r.write("</div>")};sap.suite.ui.commons.ProcessFlowLaneHeaderRenderer._writeDefaultNodeType=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("suiteUiProcessFlowLaneHeaderContainer");r.addClass("suiteUiProcessFlowLaneHeaderNoSelection");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-standard");r.addClass("suiteUiProcessFlowLaneHeaderBodyContainer");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-horizontal-line");r.addClass("suiteUiProcessFlowLaneHeaderHorizontalLine");r.writeClasses();r.write("></div>");r.write("<svg");r.writeAttribute("id",c.getId()+"-donut-chart");r.addClass("suiteUiProcessFlowLaneHeaderDonutSvg");r.writeClasses();r.write(">");c._renderDonutPercentages(r);r.write("</svg>");r.write("<div");r.writeAttribute("id",c.getId()+"-lh-icon-container");r.addClass("suiteUiProcessFlowLaneHeaderIconContainer");r.writeClasses();r.write(">");var i=c.getIconSrc();if(i){var I=c._getImage(c.getId()+"-lh-icon",i);r.renderControl(I)}r.write("</div>");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-lh-text-container");r.addClass("suiteUiProcessFlowLaneHeaderTextContainer");r.writeClasses();r.write(">");r.write("<span");r.writeAttribute("id",c.getId()+"-lh-text");r.addClass("suiteUiProcessFlowLaneHeaderText");r.writeClasses();r.write(">");r.writeEscaped(c.getText());r.write("</span>");r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ProcessFlowNodeRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowNodeRenderer");sap.suite.ui.commons.ProcessFlowNodeRenderer={};sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeClasses=function(r,c,n){switch(n){case 0:break;case 1:r.writeAttribute("id",c.getId()+"-corner-container");break;case 2:r.writeAttribute("id",c.getId()+"-top-container");break;case 3:r.writeAttribute("id",c.getId()+"-content-container");break}if(n>0){switch(c.getState()){case sap.suite.ui.commons.ProcessFlowNodeState.Planned:if((n===1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerPlanned")}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlanned");r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlannedDashedBorder")}break}if(c._getNavigationFocus()){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateNavigation")}switch(c._getDisplayState()){case sap.suite.ui.commons.ProcessFlowDisplayState.RegularFocused:case sap.suite.ui.commons.ProcessFlowDisplayState.HighlightedFocused:case sap.suite.ui.commons.ProcessFlowDisplayState.DimmedFocused:if((n===1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateSelected")}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeDisplayStateSelected")}break}switch(c._getDisplayState()){case sap.suite.ui.commons.ProcessFlowDisplayState.Regular:case sap.suite.ui.commons.ProcessFlowDisplayState.RegularFocused:if((n===1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateRegular")}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeDisplayStateRegular")}break;case sap.suite.ui.commons.ProcessFlowDisplayState.Highlighted:case sap.suite.ui.commons.ProcessFlowDisplayState.HighlightedFocused:if((n===1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateHighlighted")}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeDisplayStateHighlighted")}break;case sap.suite.ui.commons.ProcessFlowDisplayState.Dimmed:case sap.suite.ui.commons.ProcessFlowDisplayState.DimmedFocused:if((n===1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateDimmed")}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeDisplayStateDimmed")}break}}switch(c._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode"+n+"ZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode"+n+"ZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode"+n+"ZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode"+n+"ZoomLevel4");break}if(n===1){if(c._getFoldedCorner()){r.addClass("sapSuiteUiCommonsProcessFlowNode1FoldedBorderStyle")}else{r.addClass("sapSuiteUiCommonsProcessFlowNode1BorderStyle");r.addClass("sapSuiteUiCommonsProcessFlowNodeBorderStandard")}}else if(n>1){r.addClass("sapSuiteUiCommonsProcessFlowNode"+n+"BorderStyle");r.addClass("sapSuiteUiCommonsProcessFlowNodeBorderStandard")}if((n===1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNode1")}else{r.addClass("sapSuiteUiCommonsProcessFlowNode"+n)}r.writeClasses()};sap.suite.ui.commons.ProcessFlowNodeRenderer.assignShadowClasses=function(r,c,b){r.addClass("shadowedDivCommon");switch(b){case"top":if(c._getFoldedCorner()){r.addClass("shadowedDivFoldedCornerBorderTop")}else{r.addClass("shadowedDivBorderTop")}break;case"right":r.addClass("shadowedDivBorderRight");break;case"bottom":r.addClass("shadowedDivBorderBottom");break;case"left":if(c._getFoldedCorner()){r.addClass("shadowedDivFoldedCornerBorderLeft")}else{r.addClass("shadowedDivBorderLeft")}break;case"corner":if(this._isSafari()){r.addClass("shadowedDivFoldedCornerSafari")}else{r.addClass("shadowedDivFoldedCorner")}break}r.writeClasses()};sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeTitleClasses=function(r,c){r.writeAttribute("id",c.getId()+"-title");switch(c._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel4");break}r.addClass("sapSuiteUiCommonsProcessFlowNode3Title");r.writeClasses()};sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeStateClasses=function(r,c){r.writeAttribute("id",c.getId()+"-state");switch(c._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateZoomLevel4");break}r.addClass("sapSuiteUiCommonsProcessFlowNode3State");r.writeClasses()};sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeIconClasses=function(r,c){r.writeAttribute("id",c.getId()+"-icon-container");switch(c.getState()){case sap.suite.ui.commons.ProcessFlowNodeState.Positive:r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePositive");break;case sap.suite.ui.commons.ProcessFlowNodeState.Negative:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNegative");break;case sap.suite.ui.commons.ProcessFlowNodeState.Planned:r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlanned");break;case sap.suite.ui.commons.ProcessFlowNodeState.Neutral:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNeutral");break}switch(c._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel4");break}r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIcon");r.writeClasses()};sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeStateTextClasses=function(r,c){r.writeAttribute("id",c.getId()+"-state-text");switch(c.getState()){case sap.suite.ui.commons.ProcessFlowNodeState.Positive:r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePositive");break;case sap.suite.ui.commons.ProcessFlowNodeState.Negative:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNegative");break;case sap.suite.ui.commons.ProcessFlowNodeState.Planned:r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlanned");break;case sap.suite.ui.commons.ProcessFlowNodeState.Neutral:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNeutral");break}switch(c._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel4");break}r.addClass("sapSuiteUiCommonsProcessFlowNode3StateText");r.writeClasses()};sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeText1Classes=function(r,c){r.writeAttribute("id",c.getId()+"-text1");switch(c._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel1");r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel2");r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break}r.addClass("sapSuiteUiCommonsProcessFlowNode3Text");r.writeClasses()};sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeText2Classes=function(r,c){r.writeAttribute("id",c.getId()+"-text2");switch(c._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break}r.addClass("sapSuiteUiCommonsProcessFlowNode3Text");r.writeClasses()};sap.suite.ui.commons.ProcessFlowNodeRenderer.render=function(r,c){var f;if(c._getFoldedCorner()){f=c._getFoldedCornerControl()}var h=c._getHeaderControl();var i=c._getIconControl();var s=c._getStateTextControl();var t=c._getText1Control();var a=c._getText2Control();r.write("<div");r.writeControlData(c);sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeClasses(r,c,0);r.write(">");switch(c._getDisplayState()){case sap.suite.ui.commons.ProcessFlowDisplayState.Highlighted:case sap.suite.ui.commons.ProcessFlowDisplayState.HighlightedFocused:r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignShadowClasses(r,c,"top");r.write("></div>");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignShadowClasses(r,c,"right");r.write("></div>");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignShadowClasses(r,c,"bottom");r.write("></div>");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignShadowClasses(r,c,"left");r.write("></div>");if(c._getFoldedCorner()){r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignShadowClasses(r,c,"corner");r.write("></div>")}break}r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeClasses(r,c,1);r.write(">");if(c._getFoldedCorner()){r.renderControl(f)}r.write("</div>");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeClasses(r,c,2);r.write(">");r.write("</div>");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeClasses(r,c,3);r.write(">");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeTitleClasses(r,c);r.write(">");r.renderControl(h);r.write("</div>");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeStateClasses(r,c);r.write(">");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeIconClasses(r,c);r.write(">");r.renderControl(i);r.write("</div>");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeStateTextClasses(r,c);r.write(">");r.renderControl(s);r.write("</div>");r.write("</div>");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeText1Classes(r,c);r.write(">");r.renderControl(t);r.write("</div>");r.write("<div");sap.suite.ui.commons.ProcessFlowNodeRenderer.assignNodeText2Classes(r,c);r.write(">");r.renderControl(a);r.write("</div>");r.write("</div>");r.write("</div>")};sap.suite.ui.commons.ProcessFlowNodeRenderer._isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.SplitButtonRenderer')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.SplitButtonRenderer");sap.suite.ui.commons.SplitButtonRenderer={};sap.suite.ui.commons.SplitButtonRenderer.render=function(r,s){if(!s.getVisible()){return}r.write("<span");r.writeControlData(s);r.addClass("sapSuiteUiCommonsSplitButton");r.writeClasses();r.write(">");r.renderControl(s._oDefaultActionButton);r.renderControl(s._oMenuButton);r.write("</span>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ThingCollectionRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ThingCollectionRenderer");sap.suite.ui.commons.ThingCollectionRenderer={};sap.suite.ui.commons.ThingCollectionRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addClass("sapSuiteTc");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());if(c.getMinWidth()){r.addStyle("min-width",c.getMinWidth())}if(c.getMinHeight()){r.addStyle("min-height",c.getMinHeight())}r.writeStyles();r.write(">");r.renderControl(c._oRemoveButton);r.write("<nav");r.writeAttribute("id",c.getId()+"-nav-prev");r.addClass("sapSuiteTcNavPrev");r.writeClasses();r.write(">");r.write("</nav>");r.write("<div");r.writeAttribute("id",c.getId()+"-container");r.writeAttribute("tabindex","0");r.writeAccessibilityState(c,{role:'list',live:'assertive',disabled:false});r.addClass("sapSuiteTcContainer");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-first");r.writeAttribute("aria-hidden","true");r.addClass("sapSuiteTcPrev");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-second");r.writeAttribute("aria-hidden","false");r.addClass("sapSuiteTcCenter");r.writeClasses();r.write(">");if(c._oCenterControl){r.renderControl(c._oCenterControl)}r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-third");r.writeAttribute("aria-hidden","true");r.addClass("sapSuiteTcNext");r.writeClasses();r.write(">");r.write("</div>");r.write("</div>");r.write("<nav");r.writeAttribute("id",c.getId()+"-nav-next");r.addClass("sapSuiteTcNavNext");r.writeClasses();r.write(">");r.write("</nav>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ThreePanelThingInspectorRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ThreePanelThingInspectorRenderer");jQuery.sap.require('sap.ui.ux3.ThingInspectorRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.ThreePanelThingInspectorRenderer=sap.ui.core.Renderer.extend(sap.ui.ux3.ThingInspectorRenderer)};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ThreePanelThingViewerRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ThreePanelThingViewerRenderer");jQuery.sap.require('sap.ui.ux3.ThingViewerRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.ThreePanelThingViewerRenderer=sap.ui.core.Renderer.extend(sap.ui.ux3.ThingViewerRenderer);sap.suite.ui.commons.ThreePanelThingViewerRenderer.renderContent=function(r,c){r.write("<div");r.addClass("sapSuiteTvMinHeight");r.writeClasses();r.write(">");r.write("<header");r.writeAttribute("id",c.getId()+"-header");r.addClass("sapSuiteTvTitle");r.writeClasses();r.addStyle("width",c.getSidebarWidth());r.writeStyles();r.write(">");this.renderHeader(r,c);r.write("</header>");r.write("<nav");r.writeAttribute("id",c.getId()+"-navigation");r.addClass("sapSuiteTvNav");if(!c.getLogo()){r.addClass("sapSuiteTvNavNoLogo")}r.writeClasses();r.addStyle("width",c.getSidebarWidth());r.writeStyles();r.write(">");r.renderControl(c._getNavBar());r.write("</nav>");r.write("<aside");r.writeAttribute("id",c.getId()+"-headerContent");r.addClass("sapSuiteTvHeader");r.writeClasses();r.write(">");this.renderHeaderContent(r,c);r.write("</aside>");r.write("<div");r.writeAttribute("id",c.getId()+"-facetContent");r.addClass("sapSuiteTvFacet");r.writeClasses();r.write(">");this.renderFacetContent(r,c);r.write("</div>");if(c.getLogo()){r.write("<footer");r.writeAttribute("id",c.getId()+"-footer");r.addClass("sapSuiteTvLogo");r.writeClasses();r.addStyle("width",c.getSidebarWidth());r.writeStyles();r.write(">");r.write("<img");r.writeAttribute("id",c.getId()+"-logo");r.writeAttribute("role","presentation");r.writeAttributeEscaped("src",c.getLogo());r.addClass("sapSuiteTvLogoIcon");r.writeClasses();r.write("/>");r.write("</footer>")}r.write("</div>")};sap.suite.ui.commons.ThreePanelThingViewerRenderer.renderHeader=function(r,c){var m=c.getMenuContent().length;r.write("<div");r.addClass("sapSuiteTvTitleBar");r.writeClasses();r.write(">");if(c.getIcon()){r.write("<img");r.writeAttribute("id",c.getId()+"-swatch");r.writeAttribute("role","presentation");r.writeAttributeEscaped("src",c.getIcon());r.addClass("sapSuiteTvTitleIcon");r.writeClasses();r.write("/>")}if(m>0){r.renderControl(c._oMenuButton)}r.write("<div");r.writeAttribute("role","heading");r.writeAttribute("aria-level",1);r.writeAttributeEscaped("title",c.getType());r.addClass("sapSuiteTvTitleType");r.addClass("sapSuiteTvTextCrop");r.writeClasses();r.write(">");r.writeEscaped(c.getType());r.write("</div>");r.write("<div");r.writeAttribute("role","heading");r.writeAttribute("aria-level",2);r.writeAttributeEscaped("title",c.getTitle());r.addClass("sapSuiteTvTitleFirst");r.writeClasses();r.write(">");r.writeEscaped(c.getTitle());r.write("</div>");r.write("<div");r.writeAttribute("role","heading");r.writeAttribute("aria-level",3);r.writeAttributeEscaped("title",c.getSubtitle());r.addClass("sapSuiteTvTitleSecond");r.addClass("sapSuiteTvTextCrop");r.writeClasses();r.write(">");r.writeEscaped(c.getSubtitle());r.write("</div>");r.write("</div>");this.renderFlyOutMenu(r,c)};sap.suite.ui.commons.ThreePanelThingViewerRenderer.renderFacetContent=function(r,c){var f=c.getFacetContent();for(var i=0;i<f.length;i++){var g=f[i];r.write("<div");r.writeAttribute("role","form");if(g.getColspan()){r.addClass("sapUiUx3TVFacetThingGroupSpan")}else{r.addClass("sapUiUx3TVFacetThingGroup")}r.writeClasses();r.write(">");r.write("<div");r.writeAttributeEscaped("title",g.getTitle());r.addClass("sapUiUx3TVFacetThingGroupContentTitle");r.writeClasses();r.write(">");r.write("<span>");r.writeEscaped(g.getTitle());r.write("</span>");r.write("</div>");r.write("<div");r.addClass("sapUiUx3TVFacetThingGroupContent");r.writeClasses();r.write(">");var G=g.getContent();for(var j=0;j<G.length;j++){r.renderControl(G[j])}r.write("</div>");r.write("</div>")}};sap.suite.ui.commons.ThreePanelThingViewerRenderer.renderFlyOutMenu=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-menu-popup");r.writeAttribute("role","menu");r.addClass("sapSuiteTvPopupMenu");r.writeClasses();r.write(">");var m=c.getMenuContent();for(var i=0;i<m.length;i++){var M=m[i];M.addStyleClass("sapSuiteTvPopupMenuLink");r.renderControl(M)}r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.TileContentRenderer')){jQuery.sap.declare("sap.suite.ui.commons.TileContentRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.TileContentRenderer={};sap.suite.ui.commons.TileContentRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);r.addClass("sapSuiteTileCnt");r.addClass(c._getContentType());r.addClass(c.getSize());if(t){r.writeAttributeEscaped("title",t)}r.writeClasses();r.write(">");this.renderContent(r,c);this.renderFooter(r,c);r.write("</div>")};sap.suite.ui.commons.TileContentRenderer.renderContent=function(r,c){var C=c.getContent();r.write("<div");r.addClass("sapSuiteTileCntContent");r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-content");r.write(">");if(!C.hasStyleClass("sapSuiteUiTcInnerMarker")){C.addStyleClass("sapSuiteUiTcInnerMarker")}r.renderControl(C);r.write("</div>")};sap.suite.ui.commons.TileContentRenderer.renderFooter=function(r,c){var f=c._getFooterText(r,c);r.write("<div");r.addClass("sapSuiteTileCntFtrTxt");r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-footer-text");r.writeAttributeEscaped("title",f);r.write(">");r.writeEscaped(f);r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.TimelineFilterListItemRenderer')){
/*
 * @copyright
 */
jQuery.sap.declare("sap.suite.ui.commons.TimelineFilterListItemRenderer");jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.m.ListItemBaseRenderer');sap.suite.ui.commons.TimelineFilterListItemRenderer={};sap.suite.ui.commons.TimelineFilterListItemRenderer.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapSuiteUiCommonsTimelineFilterListItem");r.writeClasses();r.write(">");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.TimelineItemRenderer')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.TimelineItemRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.TimelineItemRenderer={};sap.suite.ui.commons.TimelineItemRenderer.render=function(r,c){this.renderLIContent(r,c)};sap.suite.ui.commons.TimelineItemRenderer.renderLIContent=function(r,l){r.write("<li ");r.writeControlData(l);r.addClass("sapSuiteUiCommonsTimelineItem");r.writeClasses();r.write(">");r.write("<div ");r.addClass("sapSuiteUiCommonsTimelineItemWrapper");r.writeClasses();r.write(">");r.write("<div ");if(l._position==sap.suite.ui.commons.TimelineItemPosition.Bottom){r.addClass("sapSuiteUiCommonsTimelineItemBarBottom")}else{r.addClass("sapSuiteUiCommonsTimelineItemBar")}r.writeClasses();r.write(">");r.write("</div>");if(l._showIcons){r.write("<div ");r.addClass("sapSuiteUiCommonsTimelineItemNoIcon");r.writeClasses();r.write(">");r.write("</div>")}else{r.renderControl(l._getImageControl())}r.write("<div ");r.addClass("sapSuiteUiCommonsTimelineItemBubbleSpacer");r.addClass("sapSuiteUiCommonsTimelineItemBubbleSpacerLeft");if(l._position==sap.suite.ui.commons.TimelineItemPosition.Bottom){r.addClass("sapSuiteUiCommonsTimelineItemBubbleSpacerBottom")}r.writeClasses();r.write(">");r.write("<div ");r.addClass("sapSuiteUiCommonsTimelineItemBubble");r.writeClasses();r.write(">");r.write("<div ");r.addClass("sapSuiteUiCommonsTimelineItemArrow");r.writeClasses();r.write(">");r.write("</div>");r.write("<div ");r.addClass("sapSuiteUiCommonsTimelineItemBox");r.writeClasses();r.write(">");if(this.renderItemShell){this.renderItemShell(r,l)}r.write("</div>");r.write("</div>");r.write("</div>");r.write("</div>");r.write("</li>")};sap.suite.ui.commons.TimelineItemRenderer.renderItemShell=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-shell");r.addClass("sapSuiteUiCommonsTimelineItemShell");r.writeClasses();r.write(">");r.write("<div");r.write(">");r.write("<span");r.writeAttribute("id",c.getId()+"-username");r.addClass("sapSuiteUiCommonsTimelineItemShellUser");r.writeClasses();r.write(">");if(c.getUserNameClickable()){c._userNameLink.setText(c.getUserName());r.renderControl(c._userNameLink)}else{r.writeEscaped(c.getUserName())}r.write("</span>");r.write("<span");r.addClass("sapSuiteUiCommonsTimelineItemShellHdr");r.writeClasses();r.write(">");r.write(" "+c.getTitle());r.write("</span>");r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsTimelineItemShellDateTime");r.writeClasses();r.write(">");r.writeEscaped(c._formatDateValue(c.getDateTime()));r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsTimelineItemShellBody");r.writeClasses();r.write(">");if(c.getEmbeddedControl()!==null){r.renderControl(c.getEmbeddedControl())}else{r.writeEscaped(c.getText())}r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.TimelineRenderer')){jQuery.sap.declare("sap.suite.ui.commons.TimelineRenderer");sap.suite.ui.commons.TimelineRenderer={};sap.suite.ui.commons.TimelineRenderer.render=function(r,c){if(!c.getVisible()){return}var C=c._outputItem;r.write("<div ");r.writeControlData(c);r.addClass("sapSuiteUiCommonsTimeline");if(c.getWidth()){r.addStyle("width",c.getWidth())}r.writeStyles();r.writeClasses();r.write(">");r.renderControl(c._headerBar);r.renderControl(c._headerInfoBar);r.write("<div ");r.addClass("sapSuiteUiCommonsTimelineContents");r.addClass("sapSuiteUiCommonsTimelineScrollV");r.addClass("sapSuiteUiCommonsTimelineScroll");r.writeClasses();r.write(">");r.write("<div ");r.writeAttribute("id",c.getId()+"-scroll");r.addClass("sapSuiteUiCommonsTimelineScroll");r.writeStyles();r.writeClasses();r.write(">");if(C.length>0){for(var i=0;i<C.length;i++){r.renderControl(C[i])}if(c._showMore){r.write("<div tabindex='-1'");r.writeAttribute("id",c.getId()+"-after");r.write("></div>");this.renderGetMore(r,c)}}else{if(c._finishLoading){r.renderControl(c._emptyList)}}r.write("</div>");r.write("</div>");r.write("</div>")};sap.suite.ui.commons.TimelineRenderer.renderGetMore=function(r,c){r.write("<li ");r.addClass("sapSuiteUiCommonsTimelineGetMore");r.writeClasses();r.write(">");r.write("<div ");r.addClass("sapSuiteUiCommonsTimelineGetMoreBar");r.writeClasses();r.write(">");r.write("</div>");r.write("<div ");r.addClass("sapSuiteUiCommonsTimelineGetMoreBox");r.writeClasses();r.write(">");r.renderControl(c._getMoreButton);r.write("</div>");r.write("</li>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.UnifiedThingGroupRenderer')){jQuery.sap.declare("sap.suite.ui.commons.UnifiedThingGroupRenderer");sap.suite.ui.commons.UnifiedThingGroupRenderer={};sap.suite.ui.commons.UnifiedThingGroupRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addClass("sapSuiteUtg");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteUtgHeader");r.writeClasses();r.writeAttribute("id",c.getId()+"-thing-group-header");r.write(">");r.write("<div");r.addClass("sapSuiteUtgTitle");r.writeClasses();r.writeAttribute("id",c.getId()+"-thing-group-title");r.write(">");r.writeEscaped(c.getTitle());r.write("</div>");r.write("<div");r.addClass("sapSuiteUtgDesc");r.writeClasses();r.writeAttribute("id",c.getId()+"-thing-group-desc");r.write(">");r.writeEscaped(c.getDescription());r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapSuiteUtgContent");r.addClass("sapSuiteUtgContent"+c.getDesign());r.writeClasses();r.writeAttribute("id",c.getId()+"-thing-group-content");r.write(">");r.renderControl(c.getContent());r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.UnifiedThingInspectorRenderer')){jQuery.sap.declare("sap.suite.ui.commons.UnifiedThingInspectorRenderer");sap.suite.ui.commons.UnifiedThingInspectorRenderer={};sap.suite.ui.commons.UnifiedThingInspectorRenderer.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addStyle("height",c.getHeight());r.writeStyles();r.addClass("sapSuiteUti");r.writeClasses();r.write(">");r.renderControl(c._oNavContainer);r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.VerticalNavigationBarRenderer')){jQuery.sap.declare("sap.suite.ui.commons.VerticalNavigationBarRenderer");jQuery.sap.require('sap.ui.ux3.NavigationBarRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.VerticalNavigationBarRenderer=sap.ui.core.Renderer.extend(sap.ui.ux3.NavigationBarRenderer);sap.suite.ui.commons.VerticalNavigationBarRenderer.render=function(r,c){if(!c.getVisible()){return}r.write("<nav");r.writeControlData(c);r.writeAttribute("role","navigation");r.addClass("sapSuiteTvNavBar");r.addClass("sapUiUx3NavBarUpperCase");r.writeClasses();r.write(">");r.write("<ul");r.writeAttribute("id",c.getId()+"-list");r.writeAttribute("role","menubar");r.addClass("sapSuiteTvNavBarList");r.writeClasses();r.write(">");this.getItemsHtml(r,c);r.write("</ul>");r.write("</nav>")};sap.suite.ui.commons.VerticalNavigationBarRenderer.getItemsHtml=function(r,c){var I=c.getItems();var n=false;if(!I||I.length==0){I=c.getAssociatedItems();n=true}var N=I.length;var s=c.getSelectedItem();for(var i=0;i<N;i++){var o=n?sap.ui.getCore().byId(I[i]):I[i];if(o.getVisible()){var b=(o.getId()==s);var C=-1;if(o.getQuantity&&o.getQuantity()){C=o.getQuantity().length;if(C>0)C+=2}r.write("<li");r.addClass("sapSuiteTvNavBarItem");if(b){r.addClass("sapUiUx3NavBarItemSel")}r.writeClasses();r.write(">");r.write("<a");r.writeAttribute("id",o.getId());r.writeAttributeEscaped("href",o.getHref()||"javascript:void(0);");r.writeAttribute("aria-setsize",N);r.writeAttribute("aria-posinset",i+1);r.writeAttribute("aria-checked",b?"true":"false");r.writeAttribute("role","menuitemradio");r.addClass("sapSuiteTvNavBarItemLink");r.writeClasses();r.write(">");r.write("<span");r.addClass("sapSuiteTvNavBarItemName");r.writeClasses();this._addQuantityMargin(r,c,C);r.write(">");r.writeEscaped(o.getText());r.write("</span>");if(C>0){r.write("<span");r.addClass("sapSuiteTvNavBarItemQty");r.writeClasses();r.write(">");r.write(" (").writeEscaped(o.getQuantity()).write(")");r.write("</span>")}r.write("</a>");r.write("</li>")}}r.write("<span");r.writeAttribute("id",c.getId()+"-arrow");r.writeAttribute("style","display:none;");r.write("></span>")};sap.suite.ui.commons.VerticalNavigationBarRenderer._addQuantityMargin=function(r,c,C){if(C>0){var m="margin-right:-"+(1+C*0.6)+"em; padding-right:"+(1+C*0.6)+"em";r.writeAttribute("style",m)}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ViewRepeaterRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ViewRepeaterRenderer");jQuery.sap.require('sap.ui.commons.RowRepeaterRenderer');sap.suite.ui.commons.ViewRepeaterRenderer=sap.ui.core.Renderer.extend(sap.ui.commons.RowRepeaterRenderer);sap.suite.ui.commons.ViewRepeaterRenderer.render=function(r,c){if(!c.getVisible()){return}var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t)}r.addClass("sapUiRrDesign"+c.getDesign());if(c.getResponsive()&&c.getShowMoreSteps()==0){r.addClass("suiteUiVrResp")}r.writeClasses();if(c.getResponsive()&&c.getShowMoreSteps()==0){r.write(" style='height:"+c.getHeight()+"'")}r.write(">");if(c.getDesign()!==sap.ui.commons.RowRepeaterDesign.BareShell){this.renderHeader(r,c)}if(c.getExternal()!==true){this.renderBody(r,c);if(c.getDesign()!==sap.ui.commons.RowRepeaterDesign.BareShell){this.renderFooter(r,c)}}else{r.renderControl(sap.ui.getCore().byId(c.getAssociation("externalRepresentation")))}r.write("</div>")};sap.suite.ui.commons.ViewRepeaterRenderer.renderHeader=function(r,c){this.renderViewSwitcher(r,c);if(c.getExternal()!==true){sap.ui.commons.RowRepeaterRenderer.renderHeader.call(this,r,c)}};sap.suite.ui.commons.ViewRepeaterRenderer.renderFooter=function(r,c){if(c.getExternal()!==true){sap.ui.commons.RowRepeaterRenderer.renderFooter.call(this,r,c)}};sap.suite.ui.commons.ViewRepeaterRenderer.renderViewSwitcher=function(r,c){if(c.getShowViews()||c.getShowSearchField()){r.write("<div");r.addClass("suiteUiVrViewSwHolder");r.writeClasses();r.write(">");if(c.getShowViews()){r.write("<div");r.addClass("suiteUiVrViewSw");r.writeClasses();r.write(">");r.renderControl(c._oSegBtn);r.write("</div>")}if(c.getShowSearchField()){r.write("<div");r.addClass("suiteUiVrSearchFld");r.writeClasses();r.write(">");r.renderControl(c._oSearchField);r.write("</div>")}r.write("</div>")}r.write("<div style='clear:both;'/>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.library')){jQuery.sap.declare("sap.suite.ui.commons.library");jQuery.sap.require('sap.ui.core.Core');jQuery.sap.require('sap.ui.core.library');sap.ui.getCore().initLibrary({name:"sap.suite.ui.commons",dependencies:["sap.ui.core"],types:["sap.suite.ui.commons.BulletChartMode","sap.suite.ui.commons.CommonBackground","sap.suite.ui.commons.DeviationIndicator","sap.suite.ui.commons.FacetOverviewHeight","sap.suite.ui.commons.FrameType","sap.suite.ui.commons.InfoTileSize","sap.suite.ui.commons.InfoTileTextColor","sap.suite.ui.commons.InfoTileValueColor","sap.suite.ui.commons.LoadState","sap.suite.ui.commons.ProcessFlowDisplayState","sap.suite.ui.commons.ProcessFlowLaneState","sap.suite.ui.commons.ProcessFlowNodeState","sap.suite.ui.commons.ProcessFlowZoomLevel","sap.suite.ui.commons.SelectionState","sap.suite.ui.commons.ThingGroupDesign","sap.suite.ui.commons.TimelineAlignment","sap.suite.ui.commons.TimelineAxisOrientation","sap.suite.ui.commons.TimelineItemPosition","sap.suite.ui.commons.ValueStatus"],interfaces:[],controls:["sap.suite.ui.commons.BulletChart","sap.suite.ui.commons.BusinessCard","sap.suite.ui.commons.ChartContainer","sap.suite.ui.commons.ChartContainerContent","sap.suite.ui.commons.ChartTile","sap.suite.ui.commons.ColumnMicroChart","sap.suite.ui.commons.ComparisonChart","sap.suite.ui.commons.DateRangeScroller","sap.suite.ui.commons.DateRangeSlider","sap.suite.ui.commons.DateRangeSliderInternal","sap.suite.ui.commons.DynamicContainer","sap.suite.ui.commons.FacetOverview","sap.suite.ui.commons.FeedItemHeader","sap.suite.ui.commons.FeedTile","sap.suite.ui.commons.GenericTile","sap.suite.ui.commons.HeaderCell","sap.suite.ui.commons.HeaderContainer","sap.suite.ui.commons.InfoTile","sap.suite.ui.commons.JamContent","sap.suite.ui.commons.KpiTile","sap.suite.ui.commons.LaunchTile","sap.suite.ui.commons.LinkActionSheet","sap.suite.ui.commons.MicroAreaChart","sap.suite.ui.commons.MonitoringContent","sap.suite.ui.commons.MonitoringTile","sap.suite.ui.commons.NewsContent","sap.suite.ui.commons.NoteTaker","sap.suite.ui.commons.NoteTakerCard","sap.suite.ui.commons.NoteTakerFeeder","sap.suite.ui.commons.NumericContent","sap.suite.ui.commons.NumericTile","sap.suite.ui.commons.PictureZoomIn","sap.suite.ui.commons.ProcessFlow","sap.suite.ui.commons.ProcessFlowConnection","sap.suite.ui.commons.ProcessFlowLaneHeader","sap.suite.ui.commons.ProcessFlowNode","sap.suite.ui.commons.RepeaterViewConfiguration","sap.suite.ui.commons.SplitButton","sap.suite.ui.commons.ThingCollection","sap.suite.ui.commons.ThreePanelThingInspector","sap.suite.ui.commons.ThreePanelThingViewer","sap.suite.ui.commons.TileContent","sap.suite.ui.commons.Timeline","sap.suite.ui.commons.TimelineFilterListItem","sap.suite.ui.commons.TimelineItem","sap.suite.ui.commons.UnifiedThingGroup","sap.suite.ui.commons.UnifiedThingInspector","sap.suite.ui.commons.VerticalNavigationBar","sap.suite.ui.commons.ViewRepeater"],elements:["sap.suite.ui.commons.BulletChartData","sap.suite.ui.commons.ColumnData","sap.suite.ui.commons.ComparisonData","sap.suite.ui.commons.CountingNavigationItem","sap.suite.ui.commons.FeedItem","sap.suite.ui.commons.HeaderCellItem","sap.suite.ui.commons.MicroAreaChartItem","sap.suite.ui.commons.MicroAreaChartLabel","sap.suite.ui.commons.MicroAreaChartPoint"],version:"1.24.2"});jQuery.sap.declare("sap.suite.ui.commons.BulletChartMode");sap.suite.ui.commons.BulletChartMode={Actual:"Actual",Delta:"Delta"};jQuery.sap.declare("sap.suite.ui.commons.CommonBackground");sap.suite.ui.commons.CommonBackground={Lightest:"Lightest",ExtraLight:"ExtraLight",Light:"Light",MediumLight:"MediumLight",Medium:"Medium",Dark:"Dark",ExtraDark:"ExtraDark",Darkest:"Darkest"};jQuery.sap.declare("sap.suite.ui.commons.DeviationIndicator");sap.suite.ui.commons.DeviationIndicator={Up:"Up",Down:"Down",None:"None"};jQuery.sap.declare("sap.suite.ui.commons.FacetOverviewHeight");sap.suite.ui.commons.FacetOverviewHeight={XS:"XS",S:"S",M:"M",L:"L",XL:"XL",XXL:"XXL",Auto:"Auto",None:"None"};jQuery.sap.declare("sap.suite.ui.commons.FrameType");sap.suite.ui.commons.FrameType={OneByOne:"OneByOne",TwoByOne:"TwoByOne",TwoThirds:"TwoThirds"};jQuery.sap.declare("sap.suite.ui.commons.InfoTileSize");sap.suite.ui.commons.InfoTileSize={XS:"XS",S:"S",M:"M",L:"L",Auto:"Auto"};jQuery.sap.declare("sap.suite.ui.commons.InfoTileTextColor");sap.suite.ui.commons.InfoTileTextColor={Positive:"Positive",Critical:"Critical",Negative:"Negative"};jQuery.sap.declare("sap.suite.ui.commons.InfoTileValueColor");sap.suite.ui.commons.InfoTileValueColor={Neutral:"Neutral",Good:"Good",Critical:"Critical",Error:"Error"};jQuery.sap.declare("sap.suite.ui.commons.LoadState");sap.suite.ui.commons.LoadState={Loading:"Loading",Loaded:"Loaded",Failed:"Failed",Disabled:"Disabled"};jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowDisplayState");sap.suite.ui.commons.ProcessFlowDisplayState={Regular:"Regular",RegularFocused:"RegularFocused",Highlighted:"Highlighted",HighlightedFocused:"HighlightedFocused",Dimmed:"Dimmed",DimmedFocused:"DimmedFocused"};jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowLaneState");sap.suite.ui.commons.ProcessFlowLaneState={value:"value",state:"state"};jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowNodeState");sap.suite.ui.commons.ProcessFlowNodeState={Positive:"Positive",Negative:"Negative",Planned:"Planned",Neutral:"Neutral"};jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowZoomLevel");sap.suite.ui.commons.ProcessFlowZoomLevel={One:"One",Two:"Two",Three:"Three",Four:"Four"};jQuery.sap.declare("sap.suite.ui.commons.SelectionState");sap.suite.ui.commons.SelectionState={Selected:"Selected",NotSelected:"NotSelected",Semantic:"Semantic"};jQuery.sap.declare("sap.suite.ui.commons.ThingGroupDesign");sap.suite.ui.commons.ThingGroupDesign={ZeroIndent:"ZeroIndent",TopIndent:"TopIndent"};jQuery.sap.declare("sap.suite.ui.commons.TimelineAlignment");sap.suite.ui.commons.TimelineAlignment={Right:"Right"};jQuery.sap.declare("sap.suite.ui.commons.TimelineAxisOrientation");sap.suite.ui.commons.TimelineAxisOrientation={Vertical:"Vertical"};jQuery.sap.declare("sap.suite.ui.commons.TimelineItemPosition");sap.suite.ui.commons.TimelineItemPosition={Top:"Top",Bottom:"Bottom",Middle:"Middle"};jQuery.sap.declare("sap.suite.ui.commons.ValueStatus");sap.suite.ui.commons.ValueStatus={Good:"Good",Neutral:"Neutral",Critical:"Critical",Bad:"Bad"}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.util.DateUtils')){jQuery.sap.declare("sap.suite.ui.commons.util.DateUtils");sap.suite.ui.commons.util.DateUtils=function(){throw new Error()};sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay=function(d){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)){d.setHours(0);d.setMinutes(0);d.setSeconds(0);d.setMilliseconds(0)}};sap.suite.ui.commons.util.DateUtils.resetDateToEndOfDay=function(d){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)){d.setHours(23);d.setMinutes(59);d.setSeconds(59);d.setMilliseconds(999)}};sap.suite.ui.commons.util.DateUtils.resetDateToStartOfMonth=function(d){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)){d.setDate(1);sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(d)}};sap.suite.ui.commons.util.DateUtils.resetDateToEndOfMonth=function(d){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)){d.setDate(1);d.setMonth(d.getMonth()+1);d.setDate(0);sap.suite.ui.commons.util.DateUtils.resetDateToEndOfDay(d)}};sap.suite.ui.commons.util.DateUtils.resetDateToStartOfYear=function(d){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)){d.setMonth(0);sap.suite.ui.commons.util.DateUtils.resetDateToStartOfMonth(d)}};sap.suite.ui.commons.util.DateUtils.resetDateToEndOfYear=function(d){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)){d.setMonth(11);sap.suite.ui.commons.util.DateUtils.resetDateToEndOfMonth(d)}};sap.suite.ui.commons.util.DateUtils.resetDateToStartOfWeek=function(d,f){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)){if(f===undefined){f=1}else if(isNaN(f)||!isFinite(f)){jQuery.sap.log.error("DateUtils iFirstDayOfWeek value ='"+f+"' is invalid.");return}d.setDate(d.getDate()-(d.getDay()-f+7)%7);sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(d)}};sap.suite.ui.commons.util.DateUtils.resetDateToEndOfWeek=function(d,s){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)){var a;if(s&&!(s instanceof Object)){jQuery.sap.log.error("DateUtils oSettings is not an object.");return}if(!s){s={}}if(s.iDuration===undefined){a=7}else{a=s.iDuration;if(isNaN(a)||!isFinite(a)){jQuery.sap.log.error("DateUtils duration value ='"+a+"' is invalid.");return}}sap.suite.ui.commons.util.DateUtils.resetDateToStartOfWeek(d,s.iFirstDayOfWeek);d.setDate(d.getDate()+a-1);sap.suite.ui.commons.util.DateUtils.resetDateToEndOfDay(d)}};sap.suite.ui.commons.util.DateUtils.isValidDate=function(d){if(Object.prototype.toString.call(d)!=="[object Date]"||isNaN(d.getTime())){jQuery.sap.log.error("DateUtils invalid date="+d);return false}return true};sap.suite.ui.commons.util.DateUtils.dateDaysEqual=function(d,D){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)&&sap.suite.ui.commons.util.DateUtils.isValidDate(D)){return(d.getFullYear()===D.getFullYear()&&d.getMonth()===D.getMonth()&&d.getDate()===D.getDate())}return false};sap.suite.ui.commons.util.DateUtils.dateMonthsEqual=function(d,D){if(sap.suite.ui.commons.util.DateUtils.isValidDate(d)&&sap.suite.ui.commons.util.DateUtils.isValidDate(D)){return(d.getFullYear()===D.getFullYear()&&d.getMonth()===D.getMonth())}return false};sap.suite.ui.commons.util.DateUtils.incrementDateByIndex=function(s,i){var r=null;if(sap.suite.ui.commons.util.DateUtils.isValidDate(s)&&isFinite(i)){r=new Date(s);r.setDate(s.getDate()+parseInt(i,10))}return r};sap.suite.ui.commons.util.DateUtils.incrementMonthByIndex=function(s,i){var r=null;if(sap.suite.ui.commons.util.DateUtils.isValidDate(s)&&isFinite(i)){r=new Date(s);sap.suite.ui.commons.util.DateUtils.resetDateToStartOfMonth(r);r.setMonth(s.getMonth()+parseInt(i,10))}return r};sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart=function(s,e){s=new Date(s);e=new Date(e);sap.suite.ui.commons.util.DateUtils.resetDateToStartOfMonth(s);sap.suite.ui.commons.util.DateUtils.resetDateToStartOfMonth(e);var f=s.getTime()<=e.getTime();var F=0,b=0,n=0;for(F=0,b=0;!(s.getDate()===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear());F++,b--){if(f){s.setMonth(s.getMonth()+1)}else{s.setMonth(s.getMonth()-1)}}if(f){n=F}else{n=b}return n};sap.suite.ui.commons.util.DateUtils.numberOfDaysApart=function(s,e){s=new Date(s);e=new Date(e);sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(s);sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(e);var f=s.getTime()<=e.getTime();var F=0,b=0,n=0;for(F=0,b=0;!(s.getDate()===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear());F++,b--){if(f){s.setDate(s.getDate()+1)}else{s.setDate(s.getDate()-1)}}if(f){n=F}else{n=b}return n}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.util.FeedAggregator')){jQuery.sap.declare("sap.suite.ui.commons.util.FeedAggregator");sap.suite.ui.commons.util.FeedAggregator=function(){throw new Error()};sap.suite.ui.commons.util.FeedAggregator.filterItems=function($,I,e){var f=function(F,a){var b=$.find("rss>channel>item");if(b.length>0){for(var i=b.length-1;i>=0;i--){var c=jQuery(b[i]);var d=c.find("title");var m=false;for(var j=0;j<F.length;j++){var f=F[j];if(f){if(d.text().toLowerCase().indexOf(f.toLowerCase())!==-1){m=true;break}}}if(m!==a){c.remove()}}}};if(I&&I.length>0){f(I,true)}if(e&&e.length>0){f(e,false)}};sap.suite.ui.commons.util.FeedAggregator.getFeeds=function(f,I,e,c,F){var j={items:[]};var r=new sap.ui.model.json.JSONModel();var a=f.length;var b=0;var C=function(o){var $=jQuery(this.getData());sap.suite.ui.commons.util.FeedAggregator.filterItems($,I,e);if($.find("rss>channel>item>title").length>0){var d=$.find("rss>channel>item");var s=jQuery($.find("rss>channel>title")).text();var g=jQuery($.find("rss>channel>image>url")).text();for(var i=0;i<d.length;i++){var h=jQuery(d[i]);var k=new Date(h.children("pubDate").text());var l=h.children("image").text();if(l){g=l}if(!sap.suite.ui.commons.util.DateUtils.isValidDate(k)){k=null}j.items.push({title:h.children("title").text(),link:h.children("link").text(),description:h.children("description").text(),pubDate:k,source:s,image:g})}}b++;if(b===a){r.setData(j);if(c){c()}}};for(var i=0;i<f.length;i++){var t=new sap.ui.model.xml.XMLModel();t.attachRequestCompleted(C);t.loadData(f[i])}return r}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.util.FeedItemUtils')){jQuery.sap.declare("sap.suite.ui.commons.util.FeedItemUtils");sap.suite.ui.commons.util.FeedItemUtils=function(){throw new Error()};sap.suite.ui.commons.util.FeedItemUtils.calculateFeedItemAge=function(p){var a="";if(!sap.suite.ui.commons.util.DateUtils.isValidDate(p)){return a}var n=new Date();p.setMilliseconds(0);n.setMilliseconds(0);var l=sap.ui.getCore().getConfiguration().getLanguage();var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons",l);var b=60000;var c=b*60;var d=c*24;if((n.getTime()-p.getTime())>=d){var e=parseInt((n.getTime()-p.getTime())/d,10);if(e===1){a=r.getText("FEEDTILE_DAY_AGO",[e])}else{a=r.getText("FEEDTILE_DAYS_AGO",[e])}}else if((n.getTime()-p.getTime())>=c){var f=parseInt((n.getTime()-p.getTime())/c,10);if(f===1){a=r.getText("FEEDTILE_HOUR_AGO",[f])}else{a=r.getText("FEEDTILE_HOURS_AGO",[f])}}else{var g=parseInt((n.getTime()-p.getTime())/b,10);if(g===1){a=r.getText("FEEDTILE_MINUTE_AGO",[g])}else{a=r.getText("FEEDTILE_MINUTES_AGO",[g])}}return a}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.util.RenderUtils')){jQuery.sap.declare("sap.suite.ui.commons.util.RenderUtils");jQuery.sap.require('sap.ui.base.Object');sap.suite.ui.commons.util.RenderingHelper=function(r){this._rm=r};sap.suite.ui.commons.util.RenderingHelper.prototype=jQuery.sap.newObject(sap.ui.base.Object.prototype);sap.suite.ui.commons.util.RenderingHelper.prototype._getRenderManager=function(){if(!(this._rm)){throw new Error("Render manager not defined")}return this._rm};sap.suite.ui.commons.util.RenderingHelper.prototype.writeOpeningTag=function(t,T){T=T||{};var r=this._getRenderManager();var a;r.write("<");r.writeEscaped(t);if(T.classes){for(var i=0;i<T.classes.length;i++){r.addClass(T.classes[i])}r.writeClasses()}if(T.attributes){for(a in T.attributes){r.writeAttribute(a,T.attributes[a])}}if(T.escapedAttributes){for(a in T.escapedAttributes){r.writeAttributeEscaped(a,T.escapedAttributes[a])}}r.write(">")};sap.suite.ui.commons.util.RenderingHelper.prototype.writeClosingTag=function(t){var r=this._getRenderManager();r.write("</");r.writeEscaped(t);r.write(">")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.BulletChart')){jQuery.sap.declare("sap.suite.ui.commons.BulletChart");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.BulletChart",{metadata:{library:"sap.suite.ui.commons",properties:{"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileSize.Auto},"mode":{type:"sap.suite.ui.commons.BulletChartMode",group:"Misc",defaultValue:sap.suite.ui.commons.BulletChartMode.Actual},"scale":{type:"string",group:"Misc",defaultValue:null},"forecastValue":{type:"float",group:"Misc",defaultValue:null},"targetValue":{type:"float",group:"Misc",defaultValue:null},"minValue":{type:"float",group:"Misc",defaultValue:null},"maxValue":{type:"float",group:"Misc",defaultValue:null},"showActualValue":{type:"boolean",group:"Misc",defaultValue:true},"showDeltaValue":{type:"boolean",group:"Misc",defaultValue:false},"showTargetValue":{type:"boolean",group:"Misc",defaultValue:true},"showValueMarker":{type:"boolean",group:"Misc",defaultValue:false},"actualValueLabel":{type:"string",group:"Misc",defaultValue:null},"deltaValueLabel":{type:"string",group:"Misc",defaultValue:null},"targetValueLabel":{type:"string",group:"Misc",defaultValue:null},"width":{type:"string",group:"Misc",defaultValue:null},"scaleColor":{type:"sap.suite.ui.commons.CommonBackground",group:"Misc",defaultValue:sap.suite.ui.commons.CommonBackground.MediumLight}},aggregations:{"actual":{type:"sap.suite.ui.commons.BulletChartData",multiple:false},"thresholds":{type:"sap.suite.ui.commons.BulletChartData",multiple:true,singularName:"threshold"}},events:{"press":{}}}});sap.suite.ui.commons.BulletChart.M_EVENTS={'press':'press'};sap.suite.ui.commons.BulletChart.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons")};sap.suite.ui.commons.BulletChart.prototype._calculateChartData=function(){var s=98;var d=this.getThresholds();var t=[];var T=this.getTargetValue();var f=this.getForecastValue();var a=this.getActual().getValue();var v=[];var l=a;var h=a;if(this.getActual()._isValueSet){v.push(a)}if(this._isForecastValueSet){v.push(f)}if(this._isTargetValueSet){v.push(T)}if(this._isMinValueSet){v.push(this.getMinValue())}if(this._isMaxValueSet){v.push(this.getMaxValue())}for(var i=0;i<d.length;i++){v.push(d[i].getValue())}var b=0;if(v.length>0){l=h=v[0];for(var j=0;j<v.length;j++){if(v[j]<l){l=v[j]}if(v[j]>h){h=v[j]}}h=(h<0&&h<3*(l-h))?0:h;l=(l>0&&l>3*(h-l))?0:l;b=h-l;for(var i=0;i<d.length;i++){t[i]={color:d[i].getColor(),valuePct:(!d[i]._isValueSet||b==0)?0:((d[i].getValue()-l)*s/b).toFixed(2)}}}return{actualValuePct:(!this.getActual()._isValueSet||b==0)?0:(.05+(a-l)*s/b).toFixed(2),targetValuePct:(!this._isTargetValueSet||b==0)?0:((T-l)*s/b).toFixed(2),forecastValuePct:(!this._isForecastValueSet||b==0)?0:((f-l)*s/b).toFixed(2),thresholdsPct:t,fScaleWidthPct:s}};sap.suite.ui.commons.BulletChart.prototype._digitsAfterDecimalPoint=function(v){var a=(""+v).match(/[.,](\d+)/g);return(a)?(""+a).length-1:0};sap.suite.ui.commons.BulletChart.prototype._calculateDeltaValue=function(){if(!this.getActual()._isValueSet||!this._isTargetValueSet){return 0}else{var a=this.getActual().getValue();var t=this.getTargetValue();return Math.abs(a-t).toFixed(Math.max(this._digitsAfterDecimalPoint(a),this._digitsAfterDecimalPoint(t)))}};sap.suite.ui.commons.BulletChart.prototype.setMinValue=function(m,s){this._isMinValueSet=this._fnIsNumber(m);return this.setProperty("minValue",this._isMinValueSet?m:NaN,s)};sap.suite.ui.commons.BulletChart.prototype.setMaxValue=function(m,s){this._isMaxValueSet=this._fnIsNumber(m);return this.setProperty("maxValue",this._isMaxValueSet?m:NaN,s)};sap.suite.ui.commons.BulletChart.prototype.setTargetValue=function(t,s){this._isTargetValueSet=this._fnIsNumber(t);return this.setProperty("targetValue",this._isTargetValueSet?t:NaN,s)};sap.suite.ui.commons.BulletChart.prototype.setForecastValue=function(f,s){this._isForecastValueSet=this._fnIsNumber(f);return this.setProperty("forecastValue",this._isForecastValueSet?f:NaN,s)};sap.suite.ui.commons.BulletChart.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus()}this.firePress()};sap.suite.ui.commons.BulletChart.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}};sap.suite.ui.commons.BulletChart.prototype._fnIsNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n)};sap.suite.ui.commons.BulletChart.prototype.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,l);if(this.hasListeners("press")){this.$().attr("tabindex",0).attr("role","button").addClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.BulletChart.prototype.detachEvent=function(e,f,l){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,l);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").attr("role","img").removeClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.BulletChart.prototype.onAfterRendering=function(){if(this._sBarResizeHandlerId){sap.ui.core.ResizeHandler.deregister(this._sBarResizeHandlerId)}var h=jQuery.sap.domById(this.getId()+"-chart-bar");this._sBarResizeHandlerId=sap.ui.core.ResizeHandler.register(h,jQuery.proxy(this._adjustLabelsPos,this));this._adjustLabelsPos();this._adjustValueToMarker()};sap.suite.ui.commons.BulletChart.prototype.exit=function(){sap.ui.core.ResizeHandler.deregister(this._sBarResizeHandlerId)};sap.suite.ui.commons.BulletChart.prototype._adjustLabelsPos=function(){var r=sap.ui.getCore().getConfiguration().getRTL();var t=jQuery.sap.byId(this.getId()+"-bc-target-bar-value");var c=jQuery.sap.byId(this.getId()+"-chart-bar");var f=c.width();var T=0;if(t&&t.offset()){T=t.offset().left-c.offset().left;if(r){T=f-T}this._adjustLabelPos(jQuery.sap.byId(this.getId()+"-bc-target-value"),f,T,r)}var v=jQuery.sap.byId(this.getId()+"-bc-bar-value-marker");if(v&&v.offset()){var a=v.offset().left-c.offset().left;if(r){a=f-a}if((sap.suite.ui.commons.BulletChartMode.Delta==this.getMode())){a=(a+T)/2}this._adjustLabelPos(jQuery.sap.byId(this.getId()+"-bc-item-value"),f,a,r)}};sap.suite.ui.commons.BulletChart.prototype._adjustLabelPos=function(l,f,o,r){var O=r?"right":"left";var L=l.width();if(L>f){l.css("width",""+f+"px");l.css(O,"0")}else{var a=o-.5*L;if(a<0){a=0}if(a+L>f){a=f-L}l.css(O,a);l.css("width","")}};sap.suite.ui.commons.BulletChart.prototype.getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase())};sap.suite.ui.commons.BulletChart.prototype.getAltText=function(){var I=this.getActual()._isValueSet;var s=this.getScale();var t=this.getTargetValueLabel();var m=this.getLocalizedColorMeaning(this.getActual().getColor());var a="";if("Delta"==this.getMode()){if(this._isTargetValueSet&&I){var d=this.getDeltaValueLabel();var D=(d)?d:""+this._calculateDeltaValue();a+=this._oRb.getText("BULLETCHART_DELTA_TOOLTIP",[D+s,m])}}else{if(I){var A=this.getActualValueLabel();var b=(A)?A:""+this.getActual().getValue();a+=this._oRb.getText("BULLETCHART_ACTUAL_TOOLTIP",[b+s,m])}if(this._isForecastValueSet){a+=(this._isForecastValueSet)?"\n"+this._oRb.getText("BULLETCHART_FORECAST_TOOLTIP",[this.getForecastValue()+s,m]):""}}if(this._isTargetValueSet){var T=(t)?t:""+this.getTargetValue();a+="\n"+this._oRb.getText("BULLETCHART_TARGET_TOOLTIP",[T+s])}var c=this.getThresholds().sort(function(f,S){return f.getValue()-S.getValue()});for(var i=0;i<c.length;i++){var o=c[i];a+="\n"+this._oRb.getText("BULLETCHART_THRESHOLD_TOOLTIP",[o.getValue()+this.getScale(),this.getLocalizedColorMeaning(o.getColor())])}return a};sap.suite.ui.commons.BulletChart.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){if(t.indexOf("{AltText}")!=-1){T=t.split("{AltText}").join(T)}else{T=t}}return T};sap.suite.ui.commons.BulletChart.prototype._adjustValueToMarker=function(){var v=jQuery.sap.byId(this.getId()+"-bc-bar-value");var m=jQuery.sap.byId(this.getId()+"-bc-bar-value-marker");if(v.offset()&&m.offset()){var V=v.width();var f=v.offset().left;var M=m.width();var a=m.offset().left;if(sap.ui.getCore().getConfiguration().getRTL()){if(a<f){m.css("right","");m.offset({left:f})}if(a+M>f+V){m.css("right","");m.offset({left:f+V-M})}}else{if(a<f){m.offset({left:f})}if(a+M>f+V){v.width(a+M-f)}}}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.BulletChartData')){jQuery.sap.declare("sap.suite.ui.commons.BulletChartData");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.suite.ui.commons.BulletChartData",{metadata:{library:"sap.suite.ui.commons",properties:{"value":{type:"float",group:"Misc",defaultValue:0},"color":{type:"sap.suite.ui.commons.InfoTileValueColor",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileValueColor.Neutral}}}});
/*!
 * @copyright@
 */
sap.suite.ui.commons.BulletChartData.prototype.setValue=function(v,s){this._isValueSet=this._fnIsNumber(v);return this.setProperty("value",this._isValueSet?v:NaN,s)};sap.suite.ui.commons.BulletChartData.prototype._fnIsNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n)}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.BusinessCard')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.BusinessCard");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.BusinessCard",{metadata:{library:"sap.suite.ui.commons",properties:{"type":{type:"string",group:"Misc",defaultValue:null},"iconPath":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"secondTitle":{type:"string",group:"Misc",defaultValue:null},"width":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},"imageTooltip":{type:"string",group:"Misc",defaultValue:null}},aggregations:{"content":{type:"sap.ui.core.Control",multiple:false},"firstTitle":{type:"sap.ui.core.Control",multiple:false}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ChartContainer')){jQuery.sap.declare("sap.suite.ui.commons.ChartContainer");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.ChartContainer",{metadata:{library:"sap.suite.ui.commons",properties:{"showPersonalization":{type:"boolean",group:"Misc",defaultValue:false},"showFullScreen":{type:"boolean",group:"Misc",defaultValue:false},"fullScreen":{type:"boolean",group:"Misc",defaultValue:false},"showLegend":{type:"boolean",group:"Misc",defaultValue:true},"title":{type:"string",group:"Misc",defaultValue:''},"selectorGroupLabel":{type:"string",group:"Misc",defaultValue:null},"autoAdjustHeight":{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"content",aggregations:{"dimensionSelectors":{type:"sap.m.Select",multiple:true,singularName:"dimensionSelector"},"content":{type:"sap.suite.ui.commons.ChartContainerContent",multiple:true,singularName:"content"},"toolBar":{type:"sap.m.Toolbar",multiple:false,visibility:"hidden"}},events:{"personalizationPress":{},"contentChange":{}}}});sap.suite.ui.commons.ChartContainer.M_EVENTS={'personalizationPress':'personalizationPress','contentChange':'contentChange'};jQuery.sap.declare("sap.suite.ui.commons.ChartContainer");jQuery.sap.require('sap.m.Popover');jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.m.Select');jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.ui.core.ResizeHandler');jQuery.sap.require('sap.ui.Device');sap.ui.getCore().loadLibrary("sap.viz");sap.suite.ui.commons.ChartContainer.prototype.init=function(){this._aChartIcons=[];this._selectedChart=null;this._dimSelectorsAll=[];var l=sap.ui.getCore().getConfiguration().getLanguage();this.resBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons",l);this._oFullScreenButton=new sap.m.Button({icon:"sap-icon://full-screen",type:sap.m.ButtonType.Transparent,tooltip:this.resBundle.getText("CHARTCONTAINER_FULLSCREEN"),press:jQuery.proxy(this.toggleFullScreen,this)});this._oPopup=new sap.ui.core.Popup({modal:true,shadow:false,autoClose:false});this._oPopup._applyPosition=function(p){var r=this._$();r.css({left:"0px",top:"0px",right:"0px",bottom:"0px"})};this._oShowLegendButton=new sap.m.Button({icon:"sap-icon://menu",type:sap.m.ButtonType.Transparent,tooltip:this.resBundle.getText("CHARTCONTAINER_LEGEND"),press:jQuery.proxy(this._onLegendButtonPress,this)});this._oShowAllChartButton=new sap.m.Button({type:sap.m.ButtonType.Transparent,press:jQuery.proxy(this._onShowAllChartPress,this)});this._oPhonePopoverButton=new sap.m.Button({icon:"sap-icon://overflow",type:sap.m.ButtonType.Transparent,press:jQuery.proxy(this._onPhonePopoverPress,this)});this._oPersonalizationButton=new sap.m.Button({icon:"sap-icon://person-placeholder",type:sap.m.ButtonType.Transparent,tooltip:this.resBundle.getText("CHARTCONTAINER_PERSONALIZE"),press:jQuery.proxy(this._oPersonalizationPress,this)});this._oActiveChartButton=null;this._oAllChartList=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,showSeparators:sap.m.ListSeparators.None,includeItemInSelection:true,width:"20em",select:jQuery.proxy(function(e){var c=e.getParameter("listItem").getCustomData()[0].getValue();this._switchChart(c)},this)});this._oAllIconsList=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,showSeparators:sap.m.ListSeparators.None,includeItemInSelection:true,width:"20em",select:jQuery.proxy(function(e){var c=e.getParameter("listItem").getCustomData()[0];this._switchFunctionPhone(c)},this)});this._oShowAllChartPopover=new sap.m.ResponsivePopover({placement:sap.m.PlacementType.Bottom,showHeader:false,content:[this._oAllChartList]});this._oPhonePopover=new sap.m.ResponsivePopover({placement:sap.m.PlacementType.Bottom,showHeader:false,content:[this._oAllIconsList]});this._oSelectedChart=null;this._oChartTitle=new sap.m.Label();this._oViewBy=new sap.m.Button({text:this.resBundle.getText("CHARTCONTAINER_VIEWBY"),type:sap.m.ButtonType.Transparent,press:jQuery.proxy(this._showViewByPopover,this)});this._oViewByPopover=new sap.m.ResponsivePopover(this.getId()+"-viewby_popover",{title:this.resBundle.getText("CHARTCONTAINER_VIEWBY"),placement:sap.m.PlacementType.Bottom,contentHeight:"15rem",contentWidth:"15rem"});this._oToolBar=new sap.m.Toolbar({active:true,design:sap.m.ToolbarDesign.Solid,content:[new sap.m.ToolbarSpacer()]});this.setAggregation("toolBar",this._oToolBar);this._currentRangeName=sap.ui.Device.media.getCurrentRange(sap.ui.Device.media.RANGESETS.SAP_STANDARD).name;sap.ui.Device.media.attachHandler(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD)};sap.suite.ui.commons.ChartContainer.prototype.toggleFullScreen=function(){var f=this.getProperty("fullScreen");if(f){this.closeFullScreen();this.setProperty("fullScreen",false)}else{this.openFullScreen(this,true);this.setProperty("fullScreen",true)}var i=(f?"sap-icon://full-screen":"sap-icon://exit-full-screen");this._oFullScreenButton.setIcon(i)};sap.suite.ui.commons.ChartContainer.prototype.openFullScreen=function(c,n){if((n!=null)&&(n==true)){this._oScrollEnablement=new sap.ui.core.delegate.ScrollEnablement(c,c.getId()+"-wrapper",{horizontal:true,vertical:true})}this.$content=c.$();if(this.$content){this.$tempNode=jQuery("<div></div>");this.$content.before(this.$tempNode);this._$overlay=jQuery("<div id='"+jQuery.sap.uid()+"'></div>");this._$overlay.addClass("sapCaUiOverlay");this._$overlay.append(this.$content);this._oPopup.setContent(this._$overlay)}else{jQuery.sap.log.warn("Overlay: content does not exist or contains more than one child")}this._oPopup.open(200)};sap.suite.ui.commons.ChartContainer.prototype.closeFullScreen=function(){if(this._oScrollEnablement!=null){this._oScrollEnablement.destroy();this._oScrollEnablement=null}this.$tempNode.replaceWith(this.$content);this._oPopup.close(200);this._$overlay.remove()};sap.suite.ui.commons.ChartContainer.prototype.onAfterRendering=function(e){var t=this;if(this.getAutoAdjustHeight()){jQuery.sap.delayedCall(100,this,function(){t._performHeightChanges()})}};sap.suite.ui.commons.ChartContainer.prototype._performHeightChanges=function(){var t=this.$();var _=t.height()-10;var a=t.find('.sapSuiteUiCommonsChartContainerToolBarArea').children()[0].clientHeight;var i=this.getSelectedChart().getContent();if(i.setHeight()){i.setHeight((_-a)+"px")}};sap.suite.ui.commons.ChartContainer.prototype.onBeforeRendering=function(e){this._adjustDisplay(e)};sap.suite.ui.commons.ChartContainer.prototype._onLegendButtonPress=function(e){this.setShowLegend(!this.getShowLegend())};sap.suite.ui.commons.ChartContainer.prototype._onShowAllChartPress=function(e){this._oShowAllChartPopover.openBy(this._oShowAllChartButton)};sap.suite.ui.commons.ChartContainer.prototype._onPhonePopoverPress=function(e){this._oPhonePopover.openBy(this._oPhonePopoverButton)};sap.suite.ui.commons.ChartContainer.prototype._oPersonalizationPress=function(e){this.firePersonalizationPress()};sap.suite.ui.commons.ChartContainer.prototype._switchChart=function(c){var r=null;for(var i=0;!r&&i<this._aChartIcons.length;i++){if(this._aChartIcons[i].getCustomData()[0].getValue()===c){r=this._aChartIcons[i]}}if(r){if(this._oActiveChartButton){this._oActiveChartButton.removeStyleClass("activeButton")}this._oActiveChartButton=r;this._oActiveChartButton.addStyleClass("activeButton")}var C=this._findChartById(c);this.setSelectedChart(C);if(this._oShowAllChartPopover.isOpen()){this._oShowAllChartPopover.close()}this.fireContentChange({selectedItemId:c});this.rerender()};sap.suite.ui.commons.ChartContainer.prototype._switchFunctionPhone=function(c){var f=c.getKey();var v=c.getValue();if(f==='chartId'){this._switchChart(v)}else if(f==='function'){if(v==='legend'){this._onLegendButtonPress()}else if(v==='personalization'){this._oPersonalizationPress()}else if(v==='fullscreen'){this.toggleFullScreen()}}if(this._oPhonePopover.isOpen()){this._oPhonePopover.close()}};sap.suite.ui.commons.ChartContainer.prototype.setTitle=function(v){this._oChartTitle.setText(v);this.setProperty("title",v)};sap.suite.ui.commons.ChartContainer.prototype.setShowLegend=function(v){this.setProperty("showLegend",v);var c=this.getAggregation("content");if(c){for(var i=0;i<c.length;i++){var a=c[i].getContent();if(a.setVizProperties){a.setVizProperties({legend:{visible:v}});jQuery.sap.log.info("ChartContainer: propagate showLegend to chart id "+a.getId())}else{jQuery.sap.log.info("ChartContainer: chart id "+a.getId()+" is missing the setVizProperties property")}}}};sap.suite.ui.commons.ChartContainer.prototype.addDimensionSelector=function(o){this.addAggregation("dimensionSelectors",o);this._dimSelectorsAll.push(o)};sap.suite.ui.commons.ChartContainer.prototype.addContent=function(o){this._onAddingChart(o)};sap.suite.ui.commons.ChartContainer.prototype.insertContent=function(o,i){this._onAddingChart(o)};sap.suite.ui.commons.ChartContainer.prototype._onAddingChart=function(o){var i=o.getContent();if(i.setVizProperties){i.setVizProperties({legend:{visible:this.getShowLegend()}})}if(i.setWidth){i.setWidth("100%")}this.addAggregation("content",o);var b=new sap.m.Button({icon:o.getIcon(),type:sap.m.ButtonType.Transparent,tooltip:o.getTitle(),customData:[new sap.ui.core.CustomData({key:'chartId',value:i.getId()})],press:jQuery.proxy(function(e){var c=e.getSource().getCustomData()[0].getValue();this._switchChart(c)},this)});this._aChartIcons.push(b);var s=new sap.m.StandardListItem({icon:b.getIcon(),title:o.getTitle(),customData:[new sap.ui.core.CustomData({key:'chartId',value:i.getId()})]});this._oAllChartList.addItem(s);if(this.getAggregation("content").length==1){this._oAllChartList.setSelectedItem(s);this.setSelectedChart(o);this._oActiveChartButton=b}};sap.suite.ui.commons.ChartContainer.prototype.setSelectedChart=function(o){var c=o.getContent();this._oChartTitle.setText(o.getTitle());var s=(c instanceof sap.viz.ui5.controls.VizFrame);this._oShowLegendButton.setVisible(s);this._oShowAllChartButton.setIcon(o.getIcon());this._oShowAllChartButton.setTooltip(o.getTitle());this._oSelectedChart=o};sap.suite.ui.commons.ChartContainer.prototype.getSelectedChart=function(){return this._oSelectedChart};sap.suite.ui.commons.ChartContainer.prototype._findChartById=function(I){var o=null;var O=this.getAggregation("content");if(O){for(var i=0;!o&&i<O.length;i++){if(O[i].getContent().getId()===I){o=O[i]}}}return o};sap.suite.ui.commons.ChartContainer.prototype._preparePhonePopup=function(){this._oAllIconsList.removeAllItems();var I=this._oAllChartList.getItems();for(var i=0;i<I.length;i++){var c=I[i].getCustomData()[0].getValue();var s=new sap.m.StandardListItem({icon:I[i].getIcon(),title:I[i].getTitle(),customData:[new sap.ui.core.CustomData({key:'chartId',value:c})]});this._oAllIconsList.addItem(s)}if(this._oShowLegendButton.getVisible()){var p=new sap.m.StandardListItem({icon:this._oShowLegendButton.getIcon(),title:this.resBundle.getText("CHARTCONTAINER_LEGEND"),customData:[new sap.ui.core.CustomData({key:'function',value:'legend'})]});this._oAllIconsList.addItem(p)}var P=new sap.m.StandardListItem({icon:this._oPersonalizationButton.getIcon(),title:this.resBundle.getText("CHARTCONTAINER_PERSONALIZE"),customData:[new sap.ui.core.CustomData({key:'function',value:'personalization'})]});this._oAllIconsList.addItem(P);var o=new sap.m.StandardListItem({icon:this._oFullScreenButton.getIcon(),title:this.resBundle.getText("CHARTCONTAINER_FULLSCREEN"),customData:[new sap.ui.core.CustomData({key:'function',value:'fullscreen'})]});this._oAllIconsList.addItem(o)};sap.suite.ui.commons.ChartContainer.prototype._adjustIconsDisplay=function(e){var i=sap.ui.Device.system.phone;if(!i){if(this._aChartIcons.length>3){this._oToolBar.addContent(this._oShowAllChartButton)}else{for(var c=0;c<this._aChartIcons.length;c++){this._oToolBar.addContent(this._aChartIcons[c])}}this._oToolBar.addContent(this._oShowLegendButton);if(this.getShowPersonalization()){this._oToolBar.addContent(this._oPersonalizationButton)}if(this.getShowFullScreen()){this._oToolBar.addContent(this._oFullScreenButton)}}else{this._preparePhonePopup();this._oToolBar.addContent(this._oPhonePopoverButton)}};sap.suite.ui.commons.ChartContainer.prototype._adjustSelectorDisplay=function(e){var d=this._dimSelectorsAll;if(d.length==0){this._oViewBy.setVisible(false);this._oChartTitle.setVisible(true);this._oToolBar.addContent(this._oChartTitle)}else{this._oChartTitle.setVisible(false);if(d.length==1){this._oViewBy.setVisible(false);this._oToolBar.insertContent(d[0],0)}else{if((this._currentRangeName==='Phone')||(this._currentRangeName==='Tablet')||((this._currentRangeName==='Desktop')&&(d.length>3))){this._oViewBy.setVisible(true);this._oToolBar.addContent(this._oViewBy);this._oViewByPopover.removeAllContent();for(var i=0;i<d.length;i++){d[i].setWidth("100%");d[i].setAutoAdjustWidth(false);this._oViewByPopover.addContent(d[i])}}else{this._oViewBy.setVisible(false);for(var i=0;i<d.length;i++){d[i].setAutoAdjustWidth(true);this._oToolBar.insertContent(d[i],i)}}}}};sap.suite.ui.commons.ChartContainer.prototype._showViewByPopover=function(e){this._oViewByPopover.openBy(this._oViewBy)};sap.suite.ui.commons.ChartContainer.prototype._adjustDisplay=function(e){this._oToolBar.removeAllContent();this._adjustSelectorDisplay(e);this._oToolBar.addContent(new sap.m.ToolbarSpacer());this._adjustIconsDisplay(e)};sap.suite.ui.commons.ChartContainer.prototype.setSelectorGroupLabel=function(s){this.setProperty("selectorGroupLabel",s,true);this._oViewBy.setText(s)};sap.suite.ui.commons.ChartContainer.prototype._handleMediaChange=function(e){this._currentRangeName=sap.ui.Device.media.getCurrentRange(sap.ui.Device.media.RANGESETS.SAP_STANDARD).name;this._adjustDisplay(e)};sap.suite.ui.commons.ChartContainer.prototype.exit=function(){sap.ui.Device.media.detachHandler(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);if(this._oFullScreenButton){this._oFullScreenButton.destroy();this._oFullScreenButton=undefined}if(this._oPopup){this._oPopup.destroy();this._oPopup=undefined}if(this._oShowLegendButton){this._oShowLegendButton.destroy();this._oShowLegendButton=undefined}if(this._oShowAllChartButton){this._oShowAllChartButton.destroy();this._oShowAllChartButton=undefined}if(this._oPhonePopoverButton){this._oPhonePopoverButton.destroy();this._oPhonePopoverButton=undefined}if(this._oPersonalizationButton){this._oPersonalizationButton.destroy();this._oPersonalizationButton=undefined}if(this._oActiveChartButton){this._oActiveChartButton.destroy();this._oActiveChartButton=undefined}if(this._oAllChartList){this._oAllChartList.destroy();this._oAllChartList=undefined}if(this._oAllIconsList){this._oAllIconsList.destroy();this._oAllIconsList=undefined}if(this._oShowAllChartPopover){this._oShowAllChartPopover.destroy();this._oShowAllChartPopover=undefined}if(this._oPhonePopover){this._oPhonePopover.destroy();this._oPhonePopover=undefined}if(this._oSelectedChart){this._oSelectedChart.destroy();this._oSelectedChart=undefined}if(this._oViewBy){this._oViewBy.destroy();this._oViewBy=undefined}if(this._oViewByPopover){this._oViewByPopover.destroy();this._oViewByPopover=undefined}if(this._oToolBar){this._oToolBar.destroy();this._oToolBar=undefined}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ChartContainerContent')){jQuery.sap.declare("sap.suite.ui.commons.ChartContainerContent");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.ChartContainerContent",{metadata:{library:"sap.suite.ui.commons",properties:{"icon":{type:"string",group:"Misc",defaultValue:null},"title":{type:"string",group:"Misc",defaultValue:null}},aggregations:{"content":{type:"sap.ui.core.Control",multiple:false}}}});sap.suite.ui.commons.ChartContainerContent.prototype.init=function(){this._oldWidth=0;this._oldHeight=0}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ChartTileRenderer')){jQuery.sap.declare("sap.suite.ui.commons.ChartTileRenderer");jQuery.sap.require('sap.ui.core.Renderer');sap.suite.ui.commons.ChartTileRenderer=sap.ui.core.Renderer.extend(sap.suite.ui.commons.InfoTileRenderer);sap.suite.ui.commons.ChartTileRenderer.renderContent=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-content");r.addClass("sapSuiteCmpTileContent");r.addClass(c.getSize());r.writeClasses();r.write(">");if(sap.suite.ui.commons.LoadState.Loaded==c.getState()){this.renderInnerContent(r,c)}r.write("</div>")};sap.suite.ui.commons.ChartTileRenderer.renderDescription=function(r,c){if(c.getDescription()||c.getUnit()){r.write("<div");r.addClass("sapSuiteInfoTileDescTxt");r.addClass(c.getState());r.addClass(c.getSize());r.writeClasses();r.writeAttribute("id",c.getId()+"-description-text");r.writeAttributeEscaped("title",this.createDescriptionTooltip(c));r.write(">");if(c.getDescription()){r.write("<span");r.writeAttribute("id",c.getId()+"-description");r.addClass("sapSuiteCmpTileDescInner");r.writeClasses();r.write(">");r.writeEscaped(c.getDescription());r.write("</span>")}if(c.getUnit()){r.write("<span");r.writeAttribute("id",c.getId()+"-unit");r.addClass("sapSuiteCmpTileUnitInner");r.writeClasses();r.write(">(");r.writeEscaped(c.getUnit());r.write(")</span>")}r.write("</div>")}};sap.suite.ui.commons.ChartTileRenderer.createDescriptionTooltip=function(c){var r=[];if(c.getDescription()){r.push(c.getDescription())}if(c.getUnit()){r.push("("+c.getUnit()+")")}return r.join(" ")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ColumnData')){jQuery.sap.declare("sap.suite.ui.commons.ColumnData");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.suite.ui.commons.ColumnData",{metadata:{library:"sap.suite.ui.commons",properties:{"label":{type:"string",group:"Misc",defaultValue:null},"value":{type:"float",group:"Misc",defaultValue:null},"color":{type:"sap.suite.ui.commons.InfoTileValueColor",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileValueColor.Neutral}}}})
/*!
 * @copyright@
 */
};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ColumnMicroChart')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.ColumnMicroChart");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.ColumnMicroChart",{metadata:{library:"sap.suite.ui.commons",properties:{"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileSize.Auto},"width":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},"height":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null}},aggregations:{"columns":{type:"sap.suite.ui.commons.ColumnData",multiple:true,singularName:"column"}},events:{"press":{}}}});sap.suite.ui.commons.ColumnMicroChart.M_EVENTS={'press':'press'};sap.suite.ui.commons.ColumnMicroChart.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons")};sap.suite.ui.commons.ColumnMicroChart.prototype.onAfterRendering=function(){if(this._sChartResizeHandlerId){sap.ui.core.ResizeHandler.deregister(this._sChartResizeHandlerId)}this._sChartResizeHandlerId=sap.ui.core.ResizeHandler.register(jQuery.sap.domById(this.getId()),jQuery.proxy(this._calcColumns,this));this._fChartWidth=undefined;this._fChartHeight=undefined;this._aBars=[];var c=this.getColumns().length;for(var i=0;i<c;i++){this._aBars.push({})}this._calcColumns()};sap.suite.ui.commons.ColumnMicroChart.prototype.exit=function(){sap.ui.core.ResizeHandler.deregister(this._sChartResizeHandlerId)};sap.suite.ui.commons.ColumnMicroChart.prototype._calcColumns=function(){var c=this.getColumns().length;if(c){var C=parseFloat(this.$().css("width"));if(C!=this._fChartWidth){this._fChartWidth=C;var a=0;var b;if(c>1){b=jQuery.sap.byId(this.getId()+"-bar-1");var r=sap.ui.getCore().getConfiguration().getRTL();a=parseInt(b.css("margin-"+(r?"right":"left")))}else{b=jQuery.sap.byId(this.getId()+"-bar-0")}var d=parseInt(b.css("min-width"));this._calcColumnsWidth(a,d,C,this._aBars)}var f=parseFloat(this.$().css("height"));if(f!=this._fChartHeight){this._fChartHeight=f;this._calcColumnsHeight(f,this._aBars)}for(var i=0;i<c;i++){jQuery.sap.byId(this.getId()+"-bar-"+i).css(this._aBars[i])}if(this._aBars.overflow){jQuery.sap.log.warning(this.toString()+" Chart overflow","Some columns were not rendered")}}};sap.suite.ui.commons.ColumnMicroChart.prototype._calcColumnsWidth=function(c,C,f,b){var a=this.getColumns().length;var v=Math.floor((f+c)/(C+c));var d=Math.floor((f+c)/Math.min(v,a))-c;var s=d+"px";for(var i=0;i<a;i++){if(i<v){b[i].width=s;b[i].display="inline-block"}else{b[i].display="none"}}b.overflow=v!=a};sap.suite.ui.commons.ColumnMicroChart.prototype._calcColumnsHeight=function(c,b){var C=this.getColumns().length;var m,M;m=M=0;for(var i=0;i<C;i++){var o=this.getColumns()[i];if(m<o.getValue()){m=o.getValue()}else if(M>o.getValue()){M=o.getValue()}}var d=m-M;var O=d/c;var D,t;D=t=0;for(i=0;i<C;i++){var v=this.getColumns()[i].getValue();if(Math.abs(v)<O){if(v>=0){if(v==m){t=O-v}}else{if(v==M){D=O+v}}}}if(t){m+=t;M-=t}if(D){m-=D;M+=D}var n=0-O;for(i=0;i<C;i++){var v=this.getColumns()[i].getValue();var f=v;if(v>=0){f=Math.max(f+t-D,O)}else{f=Math.min(f+t-D,n)}b[i].value=f}function a(v){return(v/d*100).toFixed(2)+"%"};var z=a(m);for(i=0;i<C;i++){var v=b[i].value;b[i].top=(v<0)?z:a(m-v);b[i].height=a(Math.abs(v))}};sap.suite.ui.commons.ColumnMicroChart.prototype.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,l);if(this.hasListeners("press")){this.$().attr("tabindex",0).attr("role","button").addClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.ColumnMicroChart.prototype.detachEvent=function(e,f,l){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,l);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").attr("role","img").removeClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.ColumnMicroChart.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus()}this.firePress()};sap.suite.ui.commons.ColumnMicroChart.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}};sap.suite.ui.commons.ColumnMicroChart.prototype.getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase())};sap.suite.ui.commons.ColumnMicroChart.prototype.getAltText=function(){var a="";var c=this.getColumns();for(var i=0;i<c.length;i++){var b=c[i];var m=this.getLocalizedColorMeaning(b.getColor());a+=((i==0)?"":"\n")+b.getLabel()+" "+b.getValue()+" "+m}return a};sap.suite.ui.commons.ColumnMicroChart.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){if(t.indexOf("{AltText}")!=-1){T=t.split("{AltText}").join(T)}else{T=t}}return T}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ComparisonChart')){jQuery.sap.declare("sap.suite.ui.commons.ComparisonChart");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.ComparisonChart",{metadata:{library:"sap.suite.ui.commons",properties:{"scale":{type:"string",group:"Misc",defaultValue:null},"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileSize.Auto},"width":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},"colorPalette":{type:"string[]",group:"Misc",defaultValue:[]}},aggregations:{"data":{type:"sap.suite.ui.commons.ComparisonData",multiple:true,singularName:"data"}},events:{"press":{}}}});sap.suite.ui.commons.ComparisonChart.M_EVENTS={'press':'press'};
/*!
 * @copyright@
 */
sap.suite.ui.commons.ComparisonChart.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons")};sap.suite.ui.commons.ComparisonChart.prototype._calculateChartData=function(){var r=[];var d=this.getData();var c=d.length;var m=0;var M=0;var t;var a;var b;var i;for(i=0;i<c;i++){var D=isNaN(d[i].getValue())?0:d[i].getValue();m=Math.max(m,D);M=Math.min(M,D)}t=m-M;a=(t==0)?0:Math.round(m*100/t);if(a==0&&m!=0){a=1}else if(a==100&&M!=0){a=99}b=100-a;for(i=0;i<c;i++){var I={};var D=isNaN(d[i].getValue())?0:d[i].getValue();I.value=(t==0)?0:Math.round(D*100/t);if(I.value==0&&D!=0){I.value=(D>0)?1:-1}else if(I.value==100){I.value=a}else if(I.value==-100){I.value=-b}if(I.value>=0){I.negativeNoValue=b;I.positiveNoValue=a-I.value}else{I.value=-I.value;I.negativeNoValue=b-I.value;I.positiveNoValue=a}r.push(I)}return r};sap.suite.ui.commons.ComparisonChart.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus()}this.firePress()};sap.suite.ui.commons.ComparisonChart.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}};sap.suite.ui.commons.ComparisonChart.prototype.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,l);if(this.hasListeners("press")){this.$().attr("tabindex",0).attr("role","button").addClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.ComparisonChart.prototype.detachEvent=function(e,f,l){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,l);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").attr("role","img").removeClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.ComparisonChart.prototype.getLocalizedColorMeaning=function(c){return this._oRb.getText(("SEMANTIC_COLOR_"+c).toUpperCase())};sap.suite.ui.commons.ComparisonChart.prototype.getAltText=function(){var s=this.getScale();var a="";for(var i=0;i<this.getData().length;i++){var b=this.getData()[i];var m=(this.getColorPalette().length)?"":this.getLocalizedColorMeaning(b.getColor());a+=((i==0)?"":"\n")+b.getTitle()+" "+(b.getDisplayValue()?b.getDisplayValue():b.getValue())+s+" "+m}return a};sap.suite.ui.commons.ComparisonChart.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){if(t.indexOf("{AltText}")!=-1){T=t.split("{AltText}").join(T)}else{T=t}}return T}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ComparisonData')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.ComparisonData");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.suite.ui.commons.ComparisonData",{metadata:{library:"sap.suite.ui.commons",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"value":{type:"float",group:"Misc",defaultValue:0},"color":{type:"sap.suite.ui.commons.InfoTileValueColor",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileValueColor.Neutral},"displayValue":{type:"string",group:"Misc",defaultValue:null}}}});
/*!
 * @copyright@
 */
sap.suite.ui.commons.ComparisonData.prototype.setValue=function(v,s){this._isValueSet=this._fnIsNumber(v);return this.setProperty("value",this._isValueSet?v:NaN,s)};sap.suite.ui.commons.ComparisonData.prototype._fnIsNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n)}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.CountingNavigationItem')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.CountingNavigationItem");jQuery.sap.require('sap.ui.ux3.NavigationItem');sap.ui.ux3.NavigationItem.extend("sap.suite.ui.commons.CountingNavigationItem",{metadata:{library:"sap.suite.ui.commons",properties:{"quantity":{type:"string",group:"Misc",defaultValue:null}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.DateRangeScroller')){jQuery.sap.declare("sap.suite.ui.commons.DateRangeScroller");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.DateRangeScroller",{metadata:{library:"sap.suite.ui.commons",associations:{"ariaDescribedBy":{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},"ariaLabelledBy":{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{"change":{}}}});sap.suite.ui.commons.DateRangeScroller.M_EVENTS={'change':'change'};jQuery.sap.require('sap.ui.commons.Label');jQuery.sap.require('sap.ui.core.format.DateFormat');(function(){var D="d";var W="w";var M="m";var Y="y";var C="c";var w=7;sap.suite.ui.commons.DateRangeScroller.getFormattedDate=function(r,d,o){var a;var f;switch(r){case(D):a=o||sap.ui.core.format.DateFormat.getDateInstance({pattern:"MMMM d, YYYY"});f=a.format(d.startDate,false);break;case(W):case(C):var s=o||sap.ui.core.format.DateFormat.getDateInstance({pattern:'MMMM d'});var e=o||sap.ui.core.format.DateFormat.getDateInstance({pattern:'MMMM d, YYYY'});if(d.startDate.getYear()!==d.endDate.getYear()){s=e}else if(d.startDate.getMonth()===d.endDate.getMonth()){e=o||sap.ui.core.format.DateFormat.getDateInstance({pattern:'d, YYYY'})}var S=s.format(d.startDate,false);var E=e.format(d.endDate,false);f=S+" - "+E;break;case(M):a=o||sap.ui.core.format.DateFormat.getDateInstance({pattern:'MMMM YYYY'});f=a.format(d.startDate,false);break;case(Y):a=o||sap.ui.core.format.DateFormat.getDateInstance({pattern:'YYYY'});f=a.format(d.startDate,false);break;default:f=d.startDate+" - "+d.endDate;break}return f};sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue=function(r,d,R,o){R.setText(sap.suite.ui.commons.DateRangeScroller.getFormattedDate(r,d,o));if(R.isActive()){R.rerender()}};sap.suite.ui.commons.DateRangeScroller.adjustDateByStep=function(d,s){if(s===0){return}d.setDate(d.getDate()+s)};sap.suite.ui.commons.DateRangeScroller.adjustRangeByStep=function(r,s){var S=r.startDate;var e=r.endDate;S.setDate(S.getDate()+s);e.setDate(e.getDate()+s)};sap.suite.ui.commons.DateRangeScroller.isValidDuration=function(d,u){var v=false;if(d===undefined){v=true}else if(!isNaN(d)&&isFinite(d)){if((d>=1)&&(!u||d<=u)){v=true}}if(!v){jQuery.sap.log.error("DateRangeScroller duration value ='"+d+"' is invalid.")}return v};sap.suite.ui.commons.DateRangeScroller.prototype.init=function(){this._sRangeType=D;this._iCustomDuration=1;this._oDateFormat=null;this._oDateRangeLabel=new sap.ui.commons.Label(this.getId()+"-dateRangeLabel",{labelFor:this.getId()});this._oDateRangeLabel.addStyleClass("sapSuiteUiCommonsDateRangeScrollerLabel");var s=new Date();sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(s);var e=new Date();sap.suite.ui.commons.util.DateUtils.resetDateToEndOfDay(e);this._oDateRange={startDate:s,endDate:e};sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(D,this._oDateRange,this._oDateRangeLabel,this._oDateFormat)};sap.suite.ui.commons.DateRangeScroller.prototype.setDateRangeDay=function(i){if(sap.suite.ui.commons.util.DateUtils.isValidDate(i)){this._oDateRange.startDate.setTime(i.getTime());this._oDateRange.endDate.setTime(i.getTime());sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(this._oDateRange.startDate);sap.suite.ui.commons.util.DateUtils.resetDateToEndOfDay(this._oDateRange.endDate);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(D,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);this._sRangeType=D}return this};sap.suite.ui.commons.DateRangeScroller.prototype.setDateRangeWeek=function(i,s){var d=w;var f=1;if(s){d=s.duration;f=s.firstDayOfWeek}if(d===undefined){d=w}else if(d&&!isNaN(d)){d=parseInt(d,10)}if(f===undefined){f=1}else if(f&&!isNaN(f)){f=parseInt(f,10)}if((f===null)||f===""||isNaN(f)||f<0||f>6){jQuery.sap.log.error("DateRangeScroller oSettings.firstDayOfWeek value ='"+s.firstDayOfWeek+"' is invalid.")}else if(sap.suite.ui.commons.util.DateUtils.isValidDate(i)&&sap.suite.ui.commons.DateRangeScroller.isValidDuration(d,w)){this._oDateRange.startDate.setTime(i.getTime());this._oDateRange.endDate.setTime(i.getTime());var a=d;var b=f;sap.suite.ui.commons.util.DateUtils.resetDateToStartOfWeek(this._oDateRange.startDate,f);sap.suite.ui.commons.util.DateUtils.resetDateToEndOfWeek(this._oDateRange.endDate,{iDuration:a,iFirstDayOfWeek:b});sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(W,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);this._sRangeType=W}return this};sap.suite.ui.commons.DateRangeScroller.prototype.setDateRangeMonth=function(i){if(sap.suite.ui.commons.util.DateUtils.isValidDate(i)){this._oDateRange.startDate.setTime(i.getTime());this._oDateRange.endDate.setTime(i.getTime());sap.suite.ui.commons.util.DateUtils.resetDateToStartOfMonth(this._oDateRange.startDate);sap.suite.ui.commons.util.DateUtils.resetDateToEndOfMonth(this._oDateRange.endDate);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(M,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);this._sRangeType=M}return this};sap.suite.ui.commons.DateRangeScroller.prototype.setDateRangeYear=function(i){if(sap.suite.ui.commons.util.DateUtils.isValidDate(i)){this._oDateRange.startDate.setTime(i.getTime());this._oDateRange.endDate.setTime(i.getTime());sap.suite.ui.commons.util.DateUtils.resetDateToStartOfYear(this._oDateRange.startDate);sap.suite.ui.commons.util.DateUtils.resetDateToEndOfYear(this._oDateRange.endDate);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(Y,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);this._sRangeType=Y}return this};sap.suite.ui.commons.DateRangeScroller.prototype.setDateRangeCustom=function(i,d){if(d===undefined){d=this._iCustomDuration}else if(d&&!isNaN(d)){d=parseInt(d,10)}if(sap.suite.ui.commons.util.DateUtils.isValidDate(i)&&sap.suite.ui.commons.DateRangeScroller.isValidDuration(d)){this._oDateRange.startDate.setTime(i.getTime());this._oDateRange.endDate.setTime(i.getTime());sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(this._oDateRange.startDate);sap.suite.ui.commons.DateRangeScroller.adjustDateByStep(this._oDateRange.endDate,d-1);sap.suite.ui.commons.util.DateUtils.resetDateToEndOfDay(this._oDateRange.endDate);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(C,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);this._sRangeType=C;this._iCustomDuration=d}return this};sap.suite.ui.commons.DateRangeScroller.prototype.incrementDateRange=function(){switch(this._sRangeType){case(D):sap.suite.ui.commons.DateRangeScroller.adjustRangeByStep(this._oDateRange,1);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(D,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break;case(W):sap.suite.ui.commons.DateRangeScroller.adjustRangeByStep(this._oDateRange,w);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(W,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break;case(C):sap.suite.ui.commons.DateRangeScroller.adjustRangeByStep(this._oDateRange,this._iCustomDuration);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(C,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break;case(M):var s=this._oDateRange.startDate.getMonth()+1;this._oDateRange.startDate.setMonth(s);this._oDateRange.endDate.setTime(this._oDateRange.startDate.getTime());sap.suite.ui.commons.util.DateUtils.resetDateToEndOfMonth(this._oDateRange.endDate);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(M,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break;case(Y):s=this._oDateRange.startDate.getFullYear()+1;this._oDateRange.startDate.setFullYear(s);this._oDateRange.endDate.setTime(this._oDateRange.startDate.getTime());sap.suite.ui.commons.util.DateUtils.resetDateToEndOfYear(this._oDateRange.endDate);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(Y,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break}var c=this.getDateRange();this.fireChange({dateRange:c});return this};sap.suite.ui.commons.DateRangeScroller.prototype.decrementDateRange=function(){switch(this._sRangeType){case(D):sap.suite.ui.commons.DateRangeScroller.adjustRangeByStep(this._oDateRange,-1);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(D,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break;case(W):sap.suite.ui.commons.DateRangeScroller.adjustRangeByStep(this._oDateRange,-w);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(W,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break;case(C):sap.suite.ui.commons.DateRangeScroller.adjustRangeByStep(this._oDateRange,-this._iCustomDuration);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(C,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break;case(M):var s=this._oDateRange.startDate.getMonth()-1;this._oDateRange.startDate.setMonth(s);this._oDateRange.endDate.setTime(this._oDateRange.startDate.getTime());sap.suite.ui.commons.util.DateUtils.resetDateToEndOfMonth(this._oDateRange.endDate);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(M,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break;case(Y):s=this._oDateRange.startDate.getFullYear()-1;this._oDateRange.startDate.setFullYear(s);this._oDateRange.endDate.setTime(this._oDateRange.startDate.getTime());sap.suite.ui.commons.util.DateUtils.resetDateToEndOfYear(this._oDateRange.endDate);sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(Y,this._oDateRange,this._oDateRangeLabel,this._oDateFormat);break}var c=this.getDateRange();this.fireChange({dateRange:c});return this};sap.suite.ui.commons.DateRangeScroller.prototype.getDateRange=function(){var c={startDate:new Date(this._oDateRange.startDate.getTime()),endDate:new Date(this._oDateRange.endDate.getTime())};return c};sap.suite.ui.commons.DateRangeScroller.prototype.setDateFormat=function(d){if(d&&d instanceof sap.ui.core.format.DateFormat){this._oDateFormat=d}else{this._oDateFormat=null}sap.suite.ui.commons.DateRangeScroller.updateDateRangeValue(this._sRangeType,this._oDateRange,this._oDateRangeLabel,this._oDateFormat)};sap.suite.ui.commons.DateRangeScroller.prototype.onclick=function(e){switch(e.target){case jQuery.sap.byId(this.getId()+'-decrementScrollButton')[0]:this.decrementDateRange();break;case jQuery.sap.byId(this.getId()+'-incrementScrollButton')[0]:this.incrementDateRange();break}jQuery.sap.byId(this.getId()+"-labelarea").focus()};sap.suite.ui.commons.DateRangeScroller.prototype.onsapright=function(e){this.incrementDateRange();e.preventDefault();e.stopPropagation()};sap.suite.ui.commons.DateRangeScroller.prototype.onsapleft=function(e){this.decrementDateRange();e.preventDefault();e.stopPropagation()};sap.suite.ui.commons.DateRangeScroller.prototype.onsapup=function(e){this.incrementDateRange();e.preventDefault();e.stopPropagation()};sap.suite.ui.commons.DateRangeScroller.prototype.onsapdown=function(e){this.decrementDateRange();e.preventDefault();e.stopPropagation()}}())};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.DateRangeSlider')){jQuery.sap.declare("sap.suite.ui.commons.DateRangeSlider");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.DateRangeSlider",{metadata:{library:"sap.suite.ui.commons",properties:{"width":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},"enabled":{type:"boolean",group:"Appearance",defaultValue:true},"editable":{type:"boolean",group:"Behavior",defaultValue:true},"visible":{type:"boolean",group:"Misc",defaultValue:true},"showBubbles":{type:"boolean",group:"Misc",defaultValue:true},"smallStepWidth":{type:"float",group:"Appearance",defaultValue:null},"totalUnits":{type:"int",group:"Appearance",defaultValue:null},"stepLabels":{type:"boolean",group:"Misc",defaultValue:false},"labels":{type:"string[]",group:"Misc",defaultValue:null},"min":{type:"object",group:"Behavior",defaultValue:null},"max":{type:"object",group:"Behavior",defaultValue:null},"value":{type:"object",group:"Behavior",defaultValue:null},"value2":{type:"object",group:"Behavior",defaultValue:null},"pinGrip":{type:"boolean",group:"Misc",defaultValue:false},"pinGrip2":{type:"boolean",group:"Misc",defaultValue:false}},events:{"change":{},"liveChange":{}}}});sap.suite.ui.commons.DateRangeSlider.M_EVENTS={'change':'change','liveChange':'liveChange'};jQuery.sap.require('jquery.sap.resources');(function(){var D="d";var M="m";sap.suite.ui.commons.DateRangeSlider.prototype.init=function(){this._oDateRangeSliderInternal=new sap.suite.ui.commons.DateRangeSliderInternal({id:this.getId()+"-dateRangeSliderInternal"});sap.suite.ui.commons.DateRangeSlider.setPropertiesBasedOnSliderInternal(this);var s=this;this._oDateRangeSliderInternal.attachChange(function(e){s.handleChange(e)});this._oDateRangeSliderInternal.attachLiveChange(function(e){s.handleLiveChange(e)})};sap.suite.ui.commons.DateRangeSlider.areDaysSameBasedOnGranularity=function(f,s,g){var S=false;switch(g){case(D):S=sap.suite.ui.commons.util.DateUtils.dateDaysEqual(f,s);break;case(M):S=sap.suite.ui.commons.util.DateUtils.dateMonthsEqual(f,s);break}return S};sap.suite.ui.commons.DateRangeSlider.isMinBeforeMax=function(m,d,g){var b=false;if(m.getFullYear()<d.getFullYear()){b=true}else if(m.getFullYear()===d.getFullYear()){if(m.getMonth()<d.getMonth()){b=true}else if(m.getMonth()===d.getMonth()&&g===D){if(m.getDate()<d.getDate()){b=true}}}if(!b){jQuery.sap.log.error("DateRangeSlider: Min Date = "+m+" should be before Max Date = "+d)}return b};sap.suite.ui.commons.DateRangeSlider.isValueEqualOrAfterMin=function(m,v,g){var V=false;if(m.getFullYear()<v.getFullYear()){V=true}else if(m.getFullYear()===v.getFullYear()){if(m.getMonth()<v.getMonth()){V=true}else if(m.getMonth()===v.getMonth()&&g===M){V=true}else if(m.getMonth()===v.getMonth()&&g===D){if(m.getDate()<=v.getDate()){V=true}}}if(!V){jQuery.sap.log.error("DateRangeSlider: Value Date = "+v+" should be after or equal to Min Date = "+m)}return V};sap.suite.ui.commons.DateRangeSlider.isValue2EqualOrBeforeMax=function(v,m,g){var V=false;if(v.getFullYear()<m.getFullYear()){V=true}else if(v.getFullYear()===m.getFullYear()){if(v.getMonth()<m.getMonth()){V=true}else if(v.getMonth()===m.getMonth()&&g===M){V=true}else if(v.getMonth()===m.getMonth()&&g===D){if(v.getDate()<=m.getDate()){V=true}}}if(!V){jQuery.sap.log.error("DateRangeSlider: Value2 Date = "+v+" should be before or equal to Max Date = "+m)}return V};sap.suite.ui.commons.DateRangeSlider.isValueBeforeOrEqualValue2=function(v,V,g){var b=false;if(v.getFullYear()<V.getFullYear()){b=true}else if(v.getFullYear()===V.getFullYear()){if(v.getMonth()<V.getMonth()){b=true}else if(v.getMonth()===V.getMonth()&&g===M){b=true}else if(v.getMonth()===V.getMonth()&&g===D){if(v.getDate()<=V.getDate()){b=true}}}if(!b){jQuery.sap.log.error("DateRangeSlider: Value Date = "+v+" should be before or equal to Value2 Date = "+V)}return b};sap.suite.ui.commons.DateRangeSlider.prototype.setMin=function(m){if(sap.suite.ui.commons.util.DateUtils.isValidDate(m)&&sap.suite.ui.commons.DateRangeSlider.isMinBeforeMax(m,new Date(this.getMax()),this._sGranularity)&&!sap.suite.ui.commons.DateRangeSlider.areDaysSameBasedOnGranularity(new Date(this.getMin()),m,this._sGranularity)){sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(m);this._oDateRangeSliderInternal.setMinDate(m);sap.suite.ui.commons.DateRangeSlider.setPropertiesBasedOnSliderInternal(this)}};sap.suite.ui.commons.DateRangeSlider.prototype.setMax=function(m){if(sap.suite.ui.commons.util.DateUtils.isValidDate(m)&&sap.suite.ui.commons.DateRangeSlider.isMinBeforeMax(new Date(this.getMin()),m,this._sGranularity)&&!sap.suite.ui.commons.DateRangeSlider.areDaysSameBasedOnGranularity(new Date(this.getMax()),m,this._sGranularity)){sap.suite.ui.commons.util.DateUtils.resetDateToEndOfDay(m);this._oDateRangeSliderInternal.setMaxDate(m);sap.suite.ui.commons.DateRangeSlider.setPropertiesBasedOnSliderInternal(this)}};sap.suite.ui.commons.DateRangeSlider.prototype.setValue=function(v){if(sap.suite.ui.commons.util.DateUtils.isValidDate(v)&&sap.suite.ui.commons.DateRangeSlider.isValueBeforeOrEqualValue2(v,new Date(this.getValue2()),this._sGranularity)&&sap.suite.ui.commons.DateRangeSlider.isValueEqualOrAfterMin(new Date(this.getMin()),v,this._sGranularity)&&!sap.suite.ui.commons.DateRangeSlider.areDaysSameBasedOnGranularity(new Date(this.getValue()),v,this._sGranularity)){sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(v);this._oDateRangeSliderInternal.setValueDate(v);sap.suite.ui.commons.DateRangeSlider.setPropertiesBasedOnSliderInternal(this)}};sap.suite.ui.commons.DateRangeSlider.prototype.getValue=function(){var v=this._oDateRangeSliderInternal.getValueDate();return v};sap.suite.ui.commons.DateRangeSlider.prototype.setValue2=function(v){if(sap.suite.ui.commons.util.DateUtils.isValidDate(v)&&sap.suite.ui.commons.DateRangeSlider.isValueBeforeOrEqualValue2(new Date(this.getValue()),v,this._sGranularity)&&!sap.suite.ui.commons.DateRangeSlider.areDaysSameBasedOnGranularity(new Date(this.getValue2()),v,this._sGranularity)&&sap.suite.ui.commons.DateRangeSlider.isValue2EqualOrBeforeMax(v,new Date(this.getMax()),this._sGranularity)){sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(v);this._oDateRangeSliderInternal.setValue2Date(v);sap.suite.ui.commons.DateRangeSlider.setPropertiesBasedOnSliderInternal(this)}};sap.suite.ui.commons.DateRangeSlider.prototype.getValue2=function(){var v=this._oDateRangeSliderInternal.getValue2Date();return v};sap.suite.ui.commons.DateRangeSlider.prototype.setVisible=function(v){this._oDateRangeSliderInternal.setVisible(v);this.setProperty("visible",v)};sap.suite.ui.commons.DateRangeSlider.prototype.setEnabled=function(e){this._oDateRangeSliderInternal.setEnabled(e);this.setProperty("enabled",e)};sap.suite.ui.commons.DateRangeSlider.prototype.setLabels=function(l){this._oDateRangeSliderInternal.setLabels(l);this.setProperty("labels",l)};sap.suite.ui.commons.DateRangeSlider.prototype.setStepLabels=function(s){this._oDateRangeSliderInternal.setStepLabels(s);this.setProperty("stepLabels",s)};sap.suite.ui.commons.DateRangeSlider.prototype.setEditable=function(e){this._oDateRangeSliderInternal.setEditable(e);this.setProperty("editable",e)};sap.suite.ui.commons.DateRangeSlider.prototype.setWidth=function(t){this._oDateRangeSliderInternal.setWidth(t);this.setProperty("width",t)};sap.suite.ui.commons.DateRangeSlider.prototype.setShowBubbles=function(s){this._oDateRangeSliderInternal.setShowBubbles(s);this.setProperty("showBubbles",s)};sap.suite.ui.commons.DateRangeSlider.prototype.setSmallStepWidth=function(s){this._oDateRangeSliderInternal.setSmallStepWidth(s);this.setProperty("smallStepWidth",s)};sap.suite.ui.commons.DateRangeSlider.prototype.setTotalUnits=function(t){this._oDateRangeSliderInternal.setTotalUnits(t);this.setProperty("totalUnits",t)};sap.suite.ui.commons.DateRangeSlider.setPropertiesBasedOnSliderInternal=function(d){d.setProperty("min",d._oDateRangeSliderInternal.getMinDate());d.setProperty("max",d._oDateRangeSliderInternal.getMaxDate());d.setProperty("value",d._oDateRangeSliderInternal.getValueDate());d.setProperty("value2",d._oDateRangeSliderInternal.getValue2Date());d._sGranularity=d._oDateRangeSliderInternal._sGranularity};sap.suite.ui.commons.DateRangeSlider.prototype.setDayGranularity=function(){this._oDateRangeSliderInternal.setDayGranularity();if(this._oDateRangeSliderInternal.isActive()){this._oDateRangeSliderInternal.rerender()}sap.suite.ui.commons.DateRangeSlider.setPropertiesBasedOnSliderInternal(this);return this};sap.suite.ui.commons.DateRangeSlider.prototype.setMonthGranularity=function(){var m=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(this.getMin(),this.getMax());if(m>=1){this._oDateRangeSliderInternal.setMonthGranularity();if(this._oDateRangeSliderInternal.isActive()){this._oDateRangeSliderInternal.rerender()}sap.suite.ui.commons.DateRangeSlider.setPropertiesBasedOnSliderInternal(this)}else{jQuery.sap.log.error("DateRangeSlider.setMonthGranularity(): Max Date should be 1 month after Min Date.")}return this};sap.suite.ui.commons.DateRangeSlider.prototype.setDateFormat=function(d){this._oDateRangeSliderInternal.setDateFormat(d);if(this._oDateRangeSliderInternal.isActive()){this._oDateRangeSliderInternal.rerender()}};sap.suite.ui.commons.DateRangeSlider.prototype.setPinGrip=function(p){this._oDateRangeSliderInternal.setPinGrip(p);this.setProperty("pinGrip",p)};sap.suite.ui.commons.DateRangeSlider.prototype.setPinGrip2=function(p){this._oDateRangeSliderInternal.setPinGrip2(p);this.setProperty("pinGrip2",p)};sap.suite.ui.commons.DateRangeSlider.prototype.exit=function(){this._oDateRangeSliderInternal.destroy();this._oDateRangeSliderInternal=null};sap.suite.ui.commons.DateRangeSlider.prototype.handleChange=function(e){var v=e.getParameter("value");var V=e.getParameter("value2");this.fireChange({value:v,value2:V})};sap.suite.ui.commons.DateRangeSlider.prototype.handleLiveChange=function(e){var v=e.getParameter("value");var V=e.getParameter("value2");this.fireLiveChange({value:v,value2:V})}}())};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.DateRangeSliderInternal')){jQuery.sap.declare("sap.suite.ui.commons.DateRangeSliderInternal");jQuery.sap.require('sap.ui.commons.RangeSlider');sap.ui.commons.RangeSlider.extend("sap.suite.ui.commons.DateRangeSliderInternal",{metadata:{library:"sap.suite.ui.commons",properties:{"showBubbles":{type:"boolean",group:"Misc",defaultValue:true},"pinGrip":{type:"boolean",group:"Misc",defaultValue:false},"pinGrip2":{type:"boolean",group:"Misc",defaultValue:false}},events:{"change":{},"liveChange":{}}}});sap.suite.ui.commons.DateRangeSliderInternal.M_EVENTS={'change':'change','liveChange':'liveChange'};jQuery.sap.require('sap.ui.commons.RangeSlider');jQuery.sap.require('jquery.sap.resources');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.core.ResizeHandler');jQuery.sap.require('sap.ui.commons.Label');(function(){var D=12;var a="d";var M="m";sap.suite.ui.commons.DateRangeSliderInternal.prototype.init=function(){this.setSmallStepWidth(1);this._sGranularity=a;this._oDateFormat=null;var m=new Date();this._dMinDate=sap.suite.ui.commons.util.DateUtils.incrementDateByIndex(m,-365);if(!this.getTotalUnits()){this.setTotalUnits(D)}this.setMin(0);this.setMax(365);this.setValue(0);this.setValue2(365);var t=(this.getLabels()&&this.getLabels().length>0);this._bUsingDefaultLabels=this.getStepLabels()&&!t;if(this._bUsingDefaultLabels){sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels(this)}if(this.getShowBubbles()){this._oBubble=new sap.ui.commons.Label({id:this.getId()+'-bubbleTxt'});this._oBubble2=new sap.ui.commons.Label({id:this.getId()+'-bubbleTxt2'});this._oBubble.addStyleClass("sapSuiteUiCommonsDateRangeSliderBubbleLblTxt");this._oBubble2.addStyleClass("sapSuiteUiCommonsDateRangeSliderBubbleLblTxt");this._oBubble.setText(this.getFormattedDate(this.getValueDate()));this._oBubble2.setText(this.getFormattedDate(this.getValue2Date()))}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setVertical=function(v){jQuery.sap.log.error("DateRangeSliderInternal.setVertical method is not yet supported!")};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setHeight=function(h){jQuery.sap.log.error("DateRangeSliderInternal.setHeight method is not yet supported!")};sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels=function(d){var r=[];var t=d.getTotalUnits();var s=(d.getMax()-d.getMin())/t;for(var i=0;i<=t;i++){var b=Math.round(parseFloat(d.getMin()+i*s));if(b>d.getMax()){b=d.getMax()}var T=null;if(d._sGranularity===a){T=sap.suite.ui.commons.util.DateUtils.incrementDateByIndex(d.getMinDate(),b)}else if(d._sGranularity===M){T=sap.suite.ui.commons.util.DateUtils.incrementMonthByIndex(d.getMinDate(),b)}r[i]=d.getFormattedDate(T)}d.setProperty("labels",r);return r};sap.suite.ui.commons.DateRangeSliderInternal.repositionBubbles=function(d){var g=d.getId()+'-grip';var G=jQuery.sap.domById(g);var l=G.style.left;var L=l.substring(0,l.length-2);var i=parseInt(L,10);var s=d.getId()+'-grip2';var o=jQuery.sap.domById(s);var b=o.style.left;var c=b.substring(0,b.length-2);var e=parseInt(c,10);var B=d.getId()+'-bubble';var f=jQuery.sap.domById(B);var h=d.getId()+'-bubble2';var j=jQuery.sap.domById(h);var k=null,m=null;var n=f.style.left;if(n){k=n.substring(0,n.length-2)}var p=j.style.left;if(p){m=p.substring(0,p.length-2)}var w=jQuery(f).css("width");var W=parseInt(w,10);var q=41;if(((i+W)<e)||(!k&&!m)){f.style.left=(i-q)+"px";j.style.left=(e-q)+"px"}if(sap.ui.getCore().getConfiguration().getRTL()&&((e+W)<i)){f.style.left=(i-q)+"px";j.style.left=(e-q)+"px"}var v=d.getFormattedDate(d.getValueDate());var V=d.getFormattedDate(d.getValue2Date());d._oBubble.setText(v);d._oBubble2.setText(V);if(d.isActive()){d._oBubble.rerender();d._oBubble2.rerender()}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.changeGrip=function(n,N,g){sap.ui.commons.Slider.prototype.changeGrip.apply(this,arguments);if(!isNaN(n)){var d=Math.round(n);var t=null;if(this._sGranularity===a){t=sap.suite.ui.commons.util.DateUtils.incrementDateByIndex(this._dMinDate,d)}else if(this._sGranularity===M){t=sap.suite.ui.commons.util.DateUtils.incrementMonthByIndex(this._dMinDate,d)}g.title=this.getFormattedDate(t)}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setAriaState=function(){var d=this.getFormattedDate(this.getValueDate());var b=this.getFormattedDate(this.getValue2Date());if(this.oMovingGrip===this.oGrip){this.oMovingGrip.setAttribute('aria-valuetext',d);this.oMovingGrip.setAttribute('aria-valuenow',this.getValue());this.oGrip2.setAttribute('aria-valuemin',d)}else{this.oMovingGrip.setAttribute('aria-valuetext',b);this.oMovingGrip.setAttribute('aria-valuenow',this.getValue2());this.oGrip.setAttribute('aria-valuemax',b)}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.getFormattedDate=function(d){var f=null;switch(this._sGranularity){case(a):f=this._oDateFormat||sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});break;case(M):f=this._oDateFormat||sap.ui.core.format.DateFormat.getDateInstance({pattern:'MMM YYYY'});break}return f.format(d)};sap.suite.ui.commons.DateRangeSliderInternal.updateLabelBubbleToolTipValues=function(d){if(d._bUsingDefaultLabels){sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels(d)}if(d.getShowBubbles()){var v=d.getFormattedDate(d.getValueDate());var V=d.getFormattedDate(d.getValue2Date());d._oBubble.setText(v);d._oBubble2.setText(V)}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.getDateFormat=function(){return this._oDateFormat};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setDateFormat=function(d){if(d&&d instanceof sap.ui.core.format.DateFormat){this._oDateFormat=d}else{this._oDateFormat=null}sap.suite.ui.commons.DateRangeSliderInternal.updateLabelBubbleToolTipValues(this)};sap.suite.ui.commons.DateRangeSliderInternal.prototype.getDateRange=function(){var v=this.getValueDate();var V=this.getValue2Date();var c={valueDate:v,value2Date:V};return c};sap.suite.ui.commons.DateRangeSliderInternal.prototype.handleFireChange=function(){if(this.getShowBubbles()){sap.suite.ui.commons.DateRangeSliderInternal.repositionBubbles(this)}var r=this.getDateRange();this.fireChange({value:r.valueDate,value2:r.value2Date});this.fireLiveChange({value:r.valueDate,value2:r.value2Date})};sap.suite.ui.commons.DateRangeSliderInternal.prototype.handleFireChangeWithoutLive=function(){if(this.getShowBubbles()){sap.suite.ui.commons.DateRangeSliderInternal.repositionBubbles(this)}var r=this.getDateRange();this.fireChange({value:r.valueDate,value2:r.value2Date})};sap.suite.ui.commons.DateRangeSliderInternal.prototype.fireLiveChangeForGrip=function(g,n,o){if(this.getShowBubbles()&&o!==n){sap.suite.ui.commons.DateRangeSliderInternal.repositionBubbles(this)}var r;if(g===this.oGrip){if(o!==n){r=this.getDateRange();this.fireLiveChange({value:r.valueDate,value2:r.value2Date})}}else if(g===this.oGrip2){if(o!==n){r=this.getDateRange();this.fireLiveChange({value:r.valueDate,value2:r.value2Date})}}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.onAfterRendering=function(){sap.ui.commons.RangeSlider.prototype.onAfterRendering.apply(this);if(this.getShowBubbles()){sap.suite.ui.commons.DateRangeSliderInternal.repositionBubbles(this)}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.onresize=function(e){sap.ui.commons.RangeSlider.prototype.onresize.apply(this,arguments);if(this.getDomRef()){if(this.getShowBubbles()){sap.suite.ui.commons.DateRangeSliderInternal.repositionBubbles(this)}}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setStepLabels=function(s){this.setProperty("stepLabels",s);if(s===true){var t=(this.getLabels()&&this.getLabels().length>0);if(!t){sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels(this);this._bUsingDefaultLabels=true}}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setLabels=function(l){this.setProperty("labels",l);var t=(this.getLabels()&&this.getLabels().length>0);if(this.getStepLabels()&&!t){sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels(this);this._bUsingDefaultLabels=true}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setSmallStepWidth=function(s){this.setProperty("smallStepWidth",Math.round(s))};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setTotalUnits=function(t){this.setProperty("totalUnits",t);if(this._bUsingDefaultLabels){sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels(this)}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.getMaxDate=function(){var m=null;switch(this._sGranularity){case(a):m=sap.suite.ui.commons.util.DateUtils.incrementDateByIndex(this._dMinDate,this.getMax());sap.suite.ui.commons.util.DateUtils.resetDateToEndOfDay(m);break;case(M):m=sap.suite.ui.commons.util.DateUtils.incrementMonthByIndex(this._dMinDate,this.getMax());sap.suite.ui.commons.util.DateUtils.resetDateToEndOfMonth(m);break}return m};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setMaxDate=function(m){var d=this.getMinDate();var v=this.getValueDate();var V=this.getValue2Date();var f=false;var n=0,N=0,i=0;switch(this._sGranularity){case(a):n=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(d,m);N=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(d,v);i=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(d,V);break;case(M):n=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(d,m);N=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(d,v);i=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(d,V);break}f=N>n||i>n;N=N>n?n:N;i=i>n?n:i;this.setProperty('min',0,true);this.setProperty('max',n,true);this.setProperty('value',N,true);this.setProperty('value2',i,true);if(this._bUsingDefaultLabels){sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels(this)}if(f){var r=this.getDateRange();this.fireChange({value:r.valueDate,value2:r.value2Date})}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.getMinDate=function(){var m=new Date(this._dMinDate);switch(this._sGranularity){case(a):sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(m);break;case(M):sap.suite.ui.commons.util.DateUtils.resetDateToStartOfMonth(m);break}return m};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setMinDate=function(m){var d=this.getMaxDate();var v=this.getValueDate();var V=this.getValue2Date();this._dMinDate=new Date(m);var f=false;var n=0,N=0,i=0;switch(this._sGranularity){case(a):n=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(m,d);N=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(m,v);i=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(m,V);break;case(M):n=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(m,d);N=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(m,v);i=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(m,V);break}f=N<0||i<0;N=N<0?0:N;i=i<0?0:i;this.setProperty('min',0,true);this.setProperty('max',n,true);this.setProperty('value',N,true);this.setProperty('value2',i,true);if(this._bUsingDefaultLabels){sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels(this)}if(f){var r=this.getDateRange();this.fireChange({value:r.valueDate,value2:r.value2Date})}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.getValue2Date=function(){var v=null;switch(this._sGranularity){case(a):v=sap.suite.ui.commons.util.DateUtils.incrementDateByIndex(this._dMinDate,this.getValue2());sap.suite.ui.commons.util.DateUtils.resetDateToEndOfDay(v);break;case(M):v=sap.suite.ui.commons.util.DateUtils.incrementMonthByIndex(this._dMinDate,this.getValue2());sap.suite.ui.commons.util.DateUtils.resetDateToEndOfMonth(v);break}return v};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setValue2Date=function(v){var n=0;switch(this._sGranularity){case(a):n=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(this._dMinDate,v);break;case(M):n=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(this._dMinDate,v);break}this.setProperty('value2',n,true);var r=this.getDateRange();this.fireChange({value:r.valueDate,value2:r.value2Date})};sap.suite.ui.commons.DateRangeSliderInternal.prototype.getValueDate=function(){var v=null;switch(this._sGranularity){case(a):v=sap.suite.ui.commons.util.DateUtils.incrementDateByIndex(this._dMinDate,this.getValue());sap.suite.ui.commons.util.DateUtils.resetDateToStartOfDay(v);break;case(M):v=sap.suite.ui.commons.util.DateUtils.incrementMonthByIndex(this._dMinDate,this.getValue());sap.suite.ui.commons.util.DateUtils.resetDateToStartOfMonth(v);break}return v};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setValueDate=function(v){var n=0;switch(this._sGranularity){case(a):n=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(this._dMinDate,v);break;case(M):n=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(this._dMinDate,v);break}this.setProperty('value',n,true);var r=this.getDateRange();this.fireChange({value:r.valueDate,value2:r.value2Date})};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setDayGranularity=function(){var m=this.getMinDate();var v=this.getValueDate();var V=this.getValue2Date();var d=this.getMaxDate();var n=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(m,v);var N=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(m,V);var i=sap.suite.ui.commons.util.DateUtils.numberOfDaysApart(m,d);this.setProperty('min',0,true);this.setProperty('value',n,true);this.setProperty('value2',N,true);this.setProperty('max',i,true);this._sGranularity=a;if(this._bUsingDefaultLabels){sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels(this)}var r=this.getDateRange();this.fireChange({value:r.valueDate,value2:r.value2Date})};sap.suite.ui.commons.DateRangeSliderInternal.prototype.setMonthGranularity=function(){var m=this.getMinDate();var v=this.getValueDate();var V=this.getValue2Date();var d=this.getMaxDate();var n=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(m,v);var N=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(m,V);var i=sap.suite.ui.commons.util.DateUtils.numberOfMonthsApart(m,d);this.setProperty('min',0,true);this.setProperty('value',n,true);this.setProperty('value2',N,true);this.setProperty('max',i,true);this._sGranularity=M;sap.suite.ui.commons.util.DateUtils.resetDateToStartOfMonth(this._dMinDate);if(this._bUsingDefaultLabels){sap.suite.ui.commons.DateRangeSliderInternal.createRailLabels(this)}var r=this.getDateRange();this.fireChange({value:r.valueDate,value2:r.value2Date})};sap.suite.ui.commons.DateRangeSliderInternal.prototype.handleMove=function(e){if((this.oMovingGrip===this.oGrip2&&!this.getPinGrip2())||(this.oMovingGrip===this.oGrip&&!this.getPinGrip())){sap.ui.commons.RangeSlider.prototype.handleMove.apply(this,[e])}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.onsapend=function(e){if((this.oMovingGrip===this.oGrip2&&!this.getPinGrip2())||(this.oMovingGrip===this.oGrip&&!this.getPinGrip())){sap.ui.commons.RangeSlider.prototype.onsapend.apply(this,[e])}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.onsaphome=function(e){if((this.oMovingGrip===this.oGrip2&&!this.getPinGrip2())||(this.oMovingGrip===this.oGrip&&!this.getPinGrip())){sap.ui.commons.RangeSlider.prototype.onsaphome.apply(this,[e])}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.onsaprightmodifiers=function(e){if((this.oMovingGrip===this.oGrip2&&!this.getPinGrip2())||(this.oMovingGrip===this.oGrip&&!this.getPinGrip())){sap.ui.commons.RangeSlider.prototype.onsaprightmodifiers.apply(this,[e])}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.onsapleftmodifiers=function(e){if((this.oMovingGrip===this.oGrip2&&!this.getPinGrip2())||(this.oMovingGrip===this.oGrip&&!this.getPinGrip())){sap.ui.commons.RangeSlider.prototype.onsapleftmodifiers.apply(this,[e])}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.onsapright=function(e){if((this.oMovingGrip===this.oGrip2&&!this.getPinGrip2())||(this.oMovingGrip===this.oGrip&&!this.getPinGrip())){sap.ui.commons.RangeSlider.prototype.onsapright.apply(this,[e])}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.onsapleft=function(e){if((this.oMovingGrip===this.oGrip2&&!this.getPinGrip2())||(this.oMovingGrip===this.oGrip&&!this.getPinGrip())){sap.ui.commons.RangeSlider.prototype.onsapleft.apply(this,[e])}};sap.suite.ui.commons.DateRangeSliderInternal.prototype.onclick=function(e){var m=this.oMovingGrip;if(this.getEditable()&&this.getEnabled()){var f;var s=e.target.getAttribute('ID');var n=this.getValue();var N=this.getOffsetLeft(this.oGrip)+this.iShiftGrip;switch(s){case(this.oBar.id):case(this.oHiLi.id):if(this.getVertical()){f=this.getBarWidth()-this.getOffsetX(e)}else{f=this.getOffsetX(e)}if(s===this.oHiLi.id){if(this.getVertical()){f-=this.getOffsetLeft(this.oHiLi)}else{f+=this.getOffsetLeft(this.oHiLi)}}n=this.convertRtlValue(this.getMin()+(((this.getMax()-this.getMin())/this.getBarWidth())*f));N=this.getOffsetX(e);if(s===this.oHiLi.id){N+=this.getOffsetLeft(this.oHiLi)}if(this.oStartTarget&&this.targetIsGrip(this.oStartTarget.id)){m=this.oStartTarget}else if(this.targetIsGrip(s)){m=e.target}else{m=this.getNearestGrip(N)}break;case(this.getId()+'-left'):N=0;if(this.getVertical()){n=this.getMax();m=this.getRightGrip()}else{n=this.getMin();m=this.getLeftGrip()}break;case(this.getId()+'-right'):N=this.getBarWidth();if(!this.getVertical()){n=this.getMax();m=this.getRightGrip()}else{n=this.getMin();m=this.getLeftGrip()}break;default:if(this.targetIsGrip(s)){return}var t=s.search('-tick');if(t>=0){var T=parseInt(s.slice(this.getId().length+5),10);N=this.fTickDist*T;n=this.convertRtlValue(this.getMin()+(((this.getMax()-this.getMin())/this.getTotalUnits())*T));if(this.oStartTarget&&this.targetIsGrip(this.oStartTarget.id)){m=this.oStartTarget}else if(this.targetIsGrip(s)){m=e.target}else{m=this.getNearestGrip(N)}break}var o=jQuery(this.oBar).offset();var O=jQuery(e.target).offset();if(this.getVertical()){N=this.getOffsetX(e)-(o.top-O.top)}else{N=this.getOffsetX(e)-(o.left-O.left)}if(N<=0){N=0;if(this.getVertical()){n=this.getMax()}else{n=this.getMin()}}else{if(N>=this.getBarWidth()){N=this.getBarWidth();if(this.getVertical()){n=this.getMin()}else{n=this.getMax()}}else{if(this.getVertical()){f=this.getBarWidth()-N}else{f=N}n=this.getMin()+(((this.getMax()-this.getMin())/this.getBarWidth())*f)}}n=this.convertRtlValue(n);if(this.oStartTarget&&this.targetIsGrip(this.oStartTarget.id)){m=this.oStartTarget}else if(this.targetIsGrip(s)){m=e.target}else{m=this.getNearestGrip(N)}break}if((m===this.oGrip2&&this.getPinGrip2())||(m===this.oGrip&&this.getPinGrip())){return}var v=this.validateNewPosition(n,N,m,(this.getValueForGrip(m)>n));n=v.fNewValue;N=v.iNewPos;this.changeGrip(n,N,m);this.handleFireChange()}m.focus();this.oMovingGrip=m;this.oStartTarget=null}}())};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.DynamicContainer')){jQuery.sap.declare("sap.suite.ui.commons.DynamicContainer");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.DynamicContainer",{metadata:{library:"sap.suite.ui.commons",properties:{"displayTime":{type:"int",group:"Appearance",defaultValue:5000},"transitionTime":{type:"int",group:"Appearance",defaultValue:500}},aggregations:{"tiles":{type:"sap.suite.ui.commons.GenericTile",multiple:true,singularName:"tile"}}}});sap.suite.ui.commons.DynamicContainer.prototype.init=function(){this._oDelegate={onAfterRendering:function(e){e.srcControl.$().removeAttr("tabindex")}};this._oPauseIcon=new sap.ui.core.Icon(this.getId()+"-pause-icon",{src:"sap-icon://media-pause",});this._oPauseIcon.addStyleClass("sapSuiteDCIcon")};sap.suite.ui.commons.DynamicContainer.prototype.onAfterRendering=function(){var t=this.getTiles().length;this._bAnimationPause=false;this._iCurrAnimationTime=0;if(t){this._scrollToNextTile();if(t>1){this._startAnimation()}}};sap.suite.ui.commons.DynamicContainer.prototype._handleSwipeLeft=function(e){if(sap.ui.getCore().getConfiguration().getRTL()){e.data.parent._scrollToPrevTile(true)}else{e.data.parent._scrollToNextTile(true)}clearTimeout(this._sTimerId);e.data.parent._bPreventEndEvent=true};sap.suite.ui.commons.DynamicContainer.prototype._handleSwipeRight=function(e){if(sap.ui.getCore().getConfiguration().getRTL()){e.data.parent._scrollToNextTile(true)}else{e.data.parent._scrollToPrevTile(true)}clearTimeout(this._sTimerId);e.data.parent._bPreventEndEvent=true};sap.suite.ui.commons.DynamicContainer.prototype._toggleAnimation=function(){if(this.getTiles().length>1){if(this._bAnimationPause){this._startAnimation();this.$().unbind("swipeleft");this.$().unbind("swiperight");this._oPauseIcon.$().hide()}else{this._stopAnimation();this.$().bind("swipeleft",{parent:this},this._handleSwipeLeft);this.$().bind("swiperight",{parent:this},this._handleSwipeRight);this._oPauseIcon.$().css("display","block");var t=this;setTimeout(function(){t._oPauseIcon.$().hide(1000)},this.getPauseTriggerTime())}}this._bAnimationPause=!this._bAnimationPause};sap.suite.ui.commons.DynamicContainer.prototype._stopAnimation=function(){this._iCurrAnimationTime+=Date.now()-this._iStartTime;clearTimeout(this._sTimerId);if(this._iCurrentTile!=undefined){var w=jQuery.sap.byId(this.getId()+"-wrapper-"+this._iCurrentTile);w.stop()}if(this._iPrvTile!=undefined){var W=jQuery.sap.byId(this.getId()+"-wrapper-"+this._iPrvTile);W.stop()}};sap.suite.ui.commons.DynamicContainer.prototype.onBeforeRendering=function(){this._stopAnimation();this._sWidth=this._sHeight=undefined;this._iCurrentTile=this._iPrvTile=undefined};sap.suite.ui.commons.DynamicContainer.prototype._startAnimation=function(){var d=this.getDisplayTime()-this._iCurrAnimationTime;var t=this;clearTimeout(this._sTimerId);this._sTimerId=setTimeout(function(){t._scrollToNextTile()},d);this._iStartTime=Date.now()};sap.suite.ui.commons.DynamicContainer.prototype.exit=function(){this._stopAnimation();this.$().unbind("taphold");this.$().unbind("swipeleft");this.$().unbind("swiperight")};sap.suite.ui.commons.DynamicContainer.prototype._scrollToNextTile=function(p){var t=this._iCurrAnimationTime-this.getDisplayTime();t=this.getTransitionTime()-(t>0?t:0);var f=t==this.getTransitionTime();if(f){var n=this._getNextTileIndex(this._iCurrentTile);this._iPrvTile=this._iCurrentTile;this._iCurrentTile=n}var w=jQuery.sap.byId(this.getId()+"-wrapper-"+this._iCurrentTile);var d=this._iPrvTile!=undefined;var D=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";if(d){var W=jQuery.sap.byId(this.getId()+"-wrapper-"+this._iPrvTile);var s=W.css("width");var a=parseFloat(w.css("width"));var b=parseFloat(s);var c=b<a;if(c){this._changeSizeTo(this._iCurrentTile)}if(f){w.css(D,s)}var o={};o[D]="-"+s;var e=this;W.animate(o,{duration:t,done:function(){if(!c){e._changeSizeTo(e._iCurrentTile)}W.css(D,"")}});o[D]="0px";w.animate(o,{duration:t,done:function(){e._iCurrAnimationTime=0;if(!p){e._startAnimation()}}})}else{this._changeSizeTo(this._iCurrentTile);w.css(D,"0px")}};sap.suite.ui.commons.DynamicContainer.prototype._scrollToPrevTile=function(p){var t=this._iCurrAnimationTime-this.getDisplayTime();t=this.getTransitionTime()-(t>0?t:0);var f=t==this.getTransitionTime();if(f){var n=this._getPrevTileIndex(this._iCurrentTile);this._iPrvTile=this._iCurrentTile;this._iCurrentTile=n}var w=jQuery.sap.byId(this.getId()+"-wrapper-"+this._iCurrentTile);var d=this._iPrvTile!=undefined;var D=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";if(d){var W=jQuery.sap.byId(this.getId()+"-wrapper-"+this._iPrvTile);var s=W.css("width");var a=w.css("width");var b=parseFloat(a);var c=parseFloat(s);var C=c<b;if(C){this._changeSizeTo(this._iCurrentTile)}if(f){w.css(D,"-"+a)}var e=this;var o={};o[D]="0px";w.animate(o,{duration:t,done:function(){e._iCurrAnimationTime=0;if(!p){e._startAnimation()}}});o[D]=a;W.animate(o,{duration:t,done:function(){if(!C){e._changeSizeTo(e._iCurrentTile)}W.css(D,"")}})}else{this._changeSizeTo(this._iCurrentTile);w.css(D,"0px")}};sap.suite.ui.commons.DynamicContainer.prototype._changeSizeTo=function(n){var N=this.getTiles()[n];if(this._sFrameType){this.$().removeClass(this._sFrameType)}if(this._sSize){this.$().removeClass(this._sSize)}this.$().addClass(N.getFrameType()).addClass(N.getSize());this._sFrameType=N.getFrameType();this._sSize=N.getSize()};sap.suite.ui.commons.DynamicContainer.prototype._getNextTileIndex=function(i){if(i+1<this.getTiles().length){return i+1}return 0};sap.suite.ui.commons.DynamicContainer.prototype._getPrevTileIndex=function(i){if(i-1>=0){return i-1}return this.getTiles().length-1};sap.suite.ui.commons.DynamicContainer.prototype.onsaptouchstart=function(e){this.addStyleClass("sapSuiteDCHvr")};sap.suite.ui.commons.DynamicContainer.prototype.onsaptouchend=function(e){this.removeStyleClass("sapSuiteDCHvr")};sap.suite.ui.commons.DynamicContainer.prototype.ontouchstart=function(e){this.addStyleClass("sapSuiteDCHvr")};sap.suite.ui.commons.DynamicContainer.prototype.ontouchend=function(e){this.removeStyleClass("sapSuiteDCHvr");if(!jQuery.device.is.desktop){if(this._bPreventEndEvent){this._bPreventEndEvent=false;e.preventDefault();return}this.getTiles()[this._iCurrentTile].firePress()}};sap.suite.ui.commons.DynamicContainer.prototype.insertAggregation=function(a,o,i,s){if(a==="tiles"){o.addDelegate(this._oDelegate);o.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(o,e,d,f,l)}}return sap.ui.core.Control.prototype.insertAggregation.call(this,a,o,i,s)};sap.suite.ui.commons.DynamicContainer.prototype.addAggregation=function(a,o,s){if(a==="tiles"){o.addDelegate(this._oDelegate);o.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(o,e,d,f,l)}}return sap.ui.core.Control.prototype.addAggregation.call(this,a,o,s)};sap.suite.ui.commons.DynamicContainer.prototype.removeAggregation=function(a,o,s){var O=sap.ui.core.Control.prototype.removeAggregation.call(this,a,o,s);if(a==="tiles"){O.removeDelegate(this._oDelegate);delete O.attachEvent}return O};sap.suite.ui.commons.DynamicContainer.prototype.removeAllAggregation=function(a,s){var o=sap.ui.core.Control.prototype.removeAllAggregation.call(this,a,s);if(a==="tiles"){for(var i=0;i<o.length;i++){o[i].removeDelegate(this._oDelegate);delete o[i].attachEvent}}return o};sap.suite.ui.commons.DynamicContainer.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER){this.getTiles()[this._iCurrentTile].firePress()}};sap.suite.ui.commons.DynamicContainer.prototype.onmouseup=function(e){this.removeStyleClass("sapSuiteDCHvr");if(jQuery.device.is.desktop){if(this._bPreventEndEvent){this._bPreventEndEvent=false;e.preventDefault();return}this.getTiles()[this._iCurrentTile].firePress()}};sap.suite.ui.commons.DynamicContainer.prototype.onmousedown=function(e){this.addStyleClass("sapSuiteDCHvr")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.FacetOverview')){jQuery.sap.declare("sap.suite.ui.commons.FacetOverview");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.FacetOverview",{metadata:{library:"sap.suite.ui.commons",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"quantity":{type:"int",group:"Misc",defaultValue:-1},"width":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'auto'},"height":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'10rem',deprecated:true},"rowSpan":{type:"int",group:"Misc",defaultValue:1,deprecated:true},"heightType":{type:"sap.suite.ui.commons.FacetOverviewHeight",group:"Misc",defaultValue:sap.suite.ui.commons.FacetOverviewHeight.None}},aggregations:{"content":{type:"sap.ui.core.Control",multiple:false}},events:{"press":{},"heightChange":{}}}});sap.suite.ui.commons.FacetOverview.M_EVENTS={'press':'press','heightChange':'heightChange'};jQuery.sap.require('sap.ui.core.IconPool');sap.suite.ui.commons.FacetOverview.prototype.init=function(){var t=this;this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");if(jQuery.device.is.desktop){this._oHoverIcon=sap.ui.core.IconPool.createControlByURI({id:this.getId()+"-hover-icon-img",src:"sap-icon://slim-arrow-right"})}else{sap.ui.Device.orientation.attachHandler(function(e){t._updateTitleMaxWidth(e)})}this._oNoDataLabel=new sap.m.Label(this.getId()+"-no-content",{text:this._rb.getText("FACETOVERVIEW_NO_ITEMS_TEXT")})};sap.suite.ui.commons.FacetOverview.prototype.exit=function(){var t=this;if(this._oHoverIcon){this._oHoverIcon.destroy()}sap.ui.core.ResizeHandler.deregister(this._sTitleResizeHandlerId);sap.ui.Device.orientation.detachHandler(function(){t._updateTitleMaxWidth()});this._oNoDataLabel.destroy()};sap.suite.ui.commons.FacetOverview.prototype._updateTitleMaxWidth=function(e){this._handleTitleResize()};sap.suite.ui.commons.FacetOverview.prototype._handleTitleResize=function(){var t=jQuery.sap.byId(this.getId()+"-title").width();if(this._iTitleWidth!=t){var T=t-jQuery.sap.byId(this.getId()+"-qty").outerWidth()-15;jQuery.sap.byId(this.getId()+"-title-text").css("max-width",T);this._iTitleWidth=t}};sap.suite.ui.commons.FacetOverview.prototype.onAfterRendering=function(){if(jQuery.device.is.desktop){if(this._sTitleResizeHandlerId){sap.ui.core.ResizeHandler.deregister(this._sTitleResizeHandlerId)}var t=jQuery.sap.domById(this.getId()+"-title");this._sTitleResizeHandlerId=sap.ui.core.ResizeHandler.register(t,jQuery.proxy(this._handleTitleResize,this))}this._handleTitleResize();if(jQuery.device.is.desktop){var a=this;this.$()[0].addEventListener("focusin",function(e){a.$().find("[data-tabindex]").attr("tabindex",function(){return this.getAttribute("data-tabindex")})},true);this.onsapfocusleave()}};sap.suite.ui.commons.FacetOverview.prototype.onclick=function(e){if(e.srcControl.getMetadata().getName()!="sap.m.Link"){this.firePress({id:this.getId()})}};sap.suite.ui.commons.FacetOverview.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER){this.onclick(e)}};sap.suite.ui.commons.FacetOverview.prototype.onsapfocusleave=function(e){if(jQuery.device.is.desktop){this.$().find("[data-tabindex]").removeAttr("data-tabindex");this.$().find("[tabindex]").attr("data-tabindex",function(){return this.getAttribute("tabindex")}).attr("tabindex","-1")}};sap.suite.ui.commons.FacetOverview.prototype.onsaptouchstart=function(e){if(this.hasListeners("press")){if(e.srcControl.getMetadata().getName()!="sap.m.Link"){this.addStyleClass("sapSuiteFovSelected")}}};sap.suite.ui.commons.FacetOverview.prototype.onsaptouchend=function(e){if(this.hasListeners("press")){this.removeStyleClass("sapSuiteFovSelected")}};sap.suite.ui.commons.FacetOverview.prototype.ontouchmove=function(e){if(this.hasListeners("press")){this.removeStyleClass("sapSuiteFovSelected")}};sap.suite.ui.commons.FacetOverview.prototype.ontouchstart=function(e){if(this.hasListeners("press")){if(e.srcControl.getMetadata().getName()!="sap.m.Link"){this.addStyleClass("sapSuiteFovSelected")}}};sap.suite.ui.commons.FacetOverview.prototype.ontouchend=function(e){if(this.hasListeners("press")){this.removeStyleClass("sapSuiteFovSelected")}};sap.suite.ui.commons.FacetOverview.prototype.ontouchmove=function(e){if(this.hasStyleClass("sapSuiteFovSelected")){this.removeStyleClass("sapSuiteFovSelected")}};sap.suite.ui.commons.FacetOverview.prototype.getHeight=function(){switch(this.getHeightType()){case sap.suite.ui.commons.FacetOverviewHeight.XS:return"4rem";case sap.suite.ui.commons.FacetOverviewHeight.S:return"6rem";case sap.suite.ui.commons.FacetOverviewHeight.M:return"10rem";case sap.suite.ui.commons.FacetOverviewHeight.L:return"14rem";case sap.suite.ui.commons.FacetOverviewHeight.XL:return"21rem";case sap.suite.ui.commons.FacetOverviewHeight.XXL:return"32rem";case sap.suite.ui.commons.FacetOverviewHeight.Auto:return"auto";case sap.suite.ui.commons.FacetOverviewHeight.None:default:return this.getProperty("height")}};sap.suite.ui.commons.FacetOverview.prototype.setHeight=function(h){this.setProperty("height",h);this.fireHeightChange();return this};sap.suite.ui.commons.FacetOverview.prototype.setHeightType=function(e){this.setProperty("heightType",e);this.fireHeightChange();return this}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.FeedItem')){jQuery.sap.declare("sap.suite.ui.commons.FeedItem");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.suite.ui.commons.FeedItem",{metadata:{library:"sap.suite.ui.commons",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"image":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"link":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"source":{type:"string",group:"Misc",defaultValue:null},"publicationDate":{type:"object",group:"Misc",defaultValue:null}}}});sap.suite.ui.commons.FeedItem.prototype.setImage=function(i){if(i){var v=jQuery.sap.validateUrl(i);if(v){this.setProperty("image",i)}else{jQuery.sap.log.error("Invalid Url:'"+i+"'. Property 'image' of FeedItem not set")}}};sap.suite.ui.commons.FeedItem.prototype.setLink=function(l){if(l){var v=jQuery.sap.validateUrl(l);if(v){this.setProperty("link",l)}else{jQuery.sap.log.error("Invalid Url:'"+l+"'. Property 'link' of FeedItem not set")}}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.FeedItemHeader')){jQuery.sap.declare("sap.suite.ui.commons.FeedItemHeader");jQuery.sap.require('sap.m.ListItemBase');sap.m.ListItemBase.extend("sap.suite.ui.commons.FeedItemHeader",{metadata:{library:"sap.suite.ui.commons",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"image":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"link":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"source":{type:"string",group:"Misc",defaultValue:null},"publicationDate":{type:"object",group:"Misc",defaultValue:null},"description":{type:"string",group:"Misc",defaultValue:null}}}});sap.suite.ui.commons.FeedItemHeader.prototype.exit=function(e){if(this._htmlControl){this._htmlControl.destroy()}sap.m.ListItemBase.prototype.exit.apply(this)};sap.suite.ui.commons.FeedItemHeader.prototype.setImage=function(i){if(i){var v=jQuery.sap.validateUrl(i);if(v){this.setProperty("image",i)}else{jQuery.sap.log.error("Invalid Url:'"+i+"'. Property 'image' of FeedItemHeader not set")}}};sap.suite.ui.commons.FeedItemHeader.prototype.setLink=function(l){if(l){var v=jQuery.sap.validateUrl(l);if(v){this.setProperty("link",l)}else{jQuery.sap.log.error("Invalid Url:'"+l+"'. Property 'link' of FeedItemHeader not set")}}};sap.suite.ui.commons.FeedItemHeader.prototype.onclick=function(e){this.firePress({link:this.getLink()});e.preventDefault()};sap.suite.ui.commons.FeedItemHeader.prototype._getHtmlControl=function(){if(!this._htmlControl){this._htmlControl=new sap.ui.core.HTML({id:this.getId()+"-feedItemHeaderDescription",sanitizeContent:true})}return this._htmlControl}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.FeedItemHeaderRenderer')){
// @copyright 
jQuery.sap.declare("sap.suite.ui.commons.FeedItemHeaderRenderer");jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.m.ListItemBaseRenderer');sap.suite.ui.commons.FeedItemHeaderRenderer=sap.ui.core.Renderer.extend(sap.m.ListItemBaseRenderer);sap.suite.ui.commons.FeedItemHeaderRenderer.renderLIContent=function(r,f){var m=true;if(jQuery.browser.msie&&jQuery.browser.version.substring(0,2)<10){m=false}r.write("<div");r.writeControlData(f);r.addClass("sapSuiteUiCommonsFeedItemHeader");r.addClass("sapSuiteUiCommonsPointer");r.writeClasses();r.write(">");r.write('<div id="'+f.getId()+'-feedItemHeaderImage"');r.write(" style='background-image:url(");r.writeEscaped(f.getImage());r.write(");'");r.addClass("sapSuiteUiCommonsFeedItemHeaderImage");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteUiCommonsFeedItemHeaderLowerText");r.writeClasses();r.write(">");r.write('<div id="'+f.getId()+'-feedItemHeaderSource"');r.addClass("sapSuiteUiCommonsFeedItemHeaderSource");r.writeClasses();r.writeAttribute("tabindex",0);r.write(">");r.writeEscaped(f.getSource());r.write("</div>");r.write('<div id="'+f.getId()+'-feedItemHeaderAge"');r.addClass("sapSuiteUiCommonsFeedItemHeaderAge");r.writeClasses();r.writeAttribute("tabindex",0);r.write(">");r.writeEscaped(sap.suite.ui.commons.util.FeedItemUtils.calculateFeedItemAge(f.getPublicationDate()));r.write("</div>");r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsFeedItemHeaderText");r.writeClasses();r.write(">");r.write('<div id="'+f.getId()+'-feedItemHeaderTitleAndDesc"');r.addClass("sapSuiteUiCommonsFeedItemHeaderDescription");if(m){r.addClass("sapSuiteUiCommonsFeedItemHeaderDescriptionMultiCol")}r.writeClasses();r.write(">");r.write('<div id="'+f.getId()+'-feedItemHeaderTitle"');r.addClass("sapSuiteUiCommonsFeedItemHeaderTitle");if(m){r.addClass("sapSuiteUiCommonsFeedItemHeaderTitleMultiCol")}r.writeClasses();r.writeAttribute("tabindex",0);r.write(">");r.writeEscaped(f.getTitle());r.write("</div>");r.write('<div id="'+f.getId()+'-feedItemHeaderDesc"');r.addClass("sapSuiteUiCommonsFeedItemHeaderHeight");r.writeClasses();r.writeAttribute("tabindex",0);r.write(">");var h=f._getHtmlControl();h.setContent('<div>'+f.getDescription()+'</div>');r.renderControl(h);r.write("</div>");r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.FeedTile')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.FeedTile");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.FeedTile",{metadata:{library:"sap.suite.ui.commons",properties:{"displayDuration":{type:"int",group:"Misc",defaultValue:5},"displayArticleImage":{type:"boolean",group:"Behavior",defaultValue:true},"source":{type:"string",group:"Misc",defaultValue:null},"defaultImages":{type:"sap.ui.core.URI[]",group:"Misc",defaultValue:null}},aggregations:{"items":{type:"sap.suite.ui.commons.FeedItem",multiple:true,singularName:"item"}},events:{"press":{}}}});sap.suite.ui.commons.FeedTile.M_EVENTS={'press':'press'};(function(){sap.suite.ui.commons.FeedTile.prototype.init=function(){this._currentItemIndex=0;this._stagedModel=null;this._defaultImageIndex=-1};sap.suite.ui.commons.FeedTile.prototype.cycle=function(){if(this._stagedModel){jQuery.sap.log.debug("FeedTile: Updating news tile with new model");this.setModel(this._stagedModel);this._stagedModel=null;var n=this.getItems().length;if(this._currentItemIndex>=n){this._currentItemIndex=0}return}var i=this.getItems();this._currentItemIndex=(this._currentItemIndex+1)%i.length;var $=jQuery("#"+this.getId()+"-next-feedTileImage");var a=jQuery("#"+this.getId()+"-feedTileImage");var f=this;if(jQuery.support.cssTransitions){$.addClass("sapSuiteFTItemRight").removeClass('sapSuiteFTItemHidden');a.addClass('sapSuiteFTItemCenter');setTimeout(function(){var o=false;var A=null;A=function(){jQuery(this).unbind("webkitTransitionEnd transitionend");if(!o){o=true}else{$.removeClass("sapSuiteFTItemSliding");a.removeClass("sapSuiteFTItemSliding").addClass("sapSuiteFTItemHidden").removeClass("sapSuiteFTItemLeft").addClass("sapSuiteFTItemRight");a.detach();$.after(a);f.flipIds($,a);setTimeout(function(){f.setNextItemValues(f)},100);f._timeoutId=setTimeout(function(){f.cycle()},f.getDisplayDuration()*1000)}};a.bind("webkitTransitionEnd transitionend",A);$.bind("webkitTransitionEnd transitionend",A);a.addClass('sapSuiteFTItemSliding').removeClass('sapSuiteFTItemCenter').addClass('sapSuiteFTItemLeft');$.addClass('sapSuiteFTItemSliding').removeClass('sapSuiteFTItemRight').addClass('sapSuiteFTItemCenter')},60)}else{$.css("left","100%");$.removeClass("sapSuiteFTItemHidden");$.animate({left:"0%"},400);a.animate({left:"-100%"},400,function(){a.addClass("sapSuiteFTItemHidden");a.css("left","0");f.flipIds($,a);setTimeout(function(){f.setNextItemValues(f)},100);f._timeoutId=setTimeout(function(){f.cycle()},f.getDisplayDuration()*1000)})}};sap.suite.ui.commons.FeedTile.prototype.onAfterRendering=function(){var d=this.getDisplayDuration()*1000;var t=this;if(this.getItems().length>1){if(typeof this._timeoutId==="number"){clearTimeout(this._timeoutId);delete this._timeoutId}this._timeoutId=setTimeout(function(){t.cycle()},d)}};sap.suite.ui.commons.FeedTile.prototype.onclick=function(e){var c=this.getCurrentItem();var i="";if(c&&c.getId()){i=c.getId()}this.firePress({itemId:i})};sap.suite.ui.commons.FeedTile.prototype.getCurrentItem=function(){var i=this.getItems();if(i.length){return i[this._currentItemIndex]}};sap.suite.ui.commons.FeedTile.prototype.getNextItem=function(){var i=this.getItems();if(i.length&&i.length>1){return i[(this._currentItemIndex+1)%i.length]}};sap.suite.ui.commons.FeedTile.prototype.setNextItemValues=function(){var n=this.getNextItem();var i=this.getId();var b=n.getImage();if(!b||!this.getDisplayArticleImage()){b=this.getDefaultImage()}jQuery("#"+i+"-next-feedTileImage").css("background-image","url("+jQuery.sap.encodeCSS(b)+")");jQuery("#"+i+"-next-feedTileTitle").html(jQuery.sap.encodeHTML(n.getTitle()));jQuery("#"+i+"-next-feedTileSource").html(jQuery.sap.encodeHTML(n.getSource()));jQuery("#"+i+"-next-feedTileAge").html(jQuery.sap.encodeHTML(sap.suite.ui.commons.util.FeedItemUtils.calculateFeedItemAge(n.getPublicationDate())))};sap.suite.ui.commons.FeedTile.prototype.flipIds=function($,a){var i=this.getId();a.attr("id",i+"-next-feedTileImage");a.find("#"+i+"-feedTileText").attr("id",i+"-next-feedTileText");a.find("#"+i+"-feedTileTitle").attr("id",i+"-next-feedTileTitle");a.find("#"+i+"-feedTileSource").attr("id",i+"-next-feedTileSource");a.find("#"+i+"-feedTileAge").attr("id",i+"-next-feedTileAge");$.attr("id",i+"-feedTileImage");$.find("#"+i+"-next-feedTileText").attr("id",i+"-feedTileText");$.find("#"+i+"-next-feedTileTitle").attr("id",i+"-feedTileTitle");$.find("#"+i+"-next-feedTileSource").attr("id",i+"-feedTileSource");$.find("#"+i+"-next-feedTileAge").attr("id",i+"-feedTileAge")};sap.suite.ui.commons.FeedTile.prototype.setDisplayDuration=function(d){if(d<3){d=3;jQuery.sap.log.error("FeedTile: displayDuration should be equal or more than 3 seconds.")}this.setProperty("displayDuration",d)};sap.suite.ui.commons.FeedTile.prototype.stageModel=function(m){this._stagedModel=m};sap.suite.ui.commons.FeedTile.prototype.getDefaultImage=function(){var d="";var D=this.getDefaultImages();if(D&&D.length>0){var l=D.length;if(this._defaultImageIndex===-1){var r=Math.floor(Math.random()*l);this._defaultImageIndex=r;d=D[r]}else{var i=(this._defaultImageIndex+1)>=l?0:this._defaultImageIndex+1;this._defaultImageIndex=i;d=D[i]}}return d};sap.suite.ui.commons.FeedTile.prototype.setDefaultImages=function(d){if(d&&d.length>0){var v=[];var D=null;for(var i=0;i<d.length;i++){D=d[i];var a=jQuery.sap.validateUrl(D);if(a){v.push(D)}else{jQuery.sap.log.error("Invalid Url:'"+D)}}if(v.length<=0){jQuery.sap.log.error("Default Images are not set because supplied Urls are invalid")}else{this.setProperty("defaultImages",v)}}}}())};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.FeedTileRenderer')){
// @copyright 
jQuery.sap.declare("sap.suite.ui.commons.FeedTileRenderer");sap.suite.ui.commons.FeedTileRenderer={};sap.suite.ui.commons.FeedTileRenderer.render=function(r,f){var l=sap.ui.getCore().getConfiguration().getLanguage();var R=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons",l);var c=f.getCurrentItem();r.write("<div");r.writeControlData(f);r.writeAttribute("tabindex","0");r.addClass("sapSuiteUiCommonsFeedTile");r.addClass("sapSuiteUiCommonsPointer");r.writeClasses();var F="";if(f.getTooltip_AsString()){r.writeAttributeEscaped("title",f.getTooltip_AsString());F=f.getTooltip_AsString()}var n="";if(c){n=c.getTitle()}r.writeAccessibilityState(f,{role:'link',label:F+" "+n});r.write(">");if(c){sap.suite.ui.commons.FeedTileRenderer.renderFeedItem(r,f,c,f.getId());var N=f.getNextItem();if(N){sap.suite.ui.commons.FeedTileRenderer.renderFeedItem(r,f,N,f.getId()+'-next',true)}}else{var b=f.getDefaultImage();if(b){r.write('<div id="'+f.getId()+'-feedTileImage"');r.write(" style='background-image:url(");r.writeEscaped(b);r.write(");'");r.addClass("sapSuiteUiCommonsFeedTileBackground");r.writeClasses();r.write(">")}var t=R.getText("FEEDTILE_NOARTICLE_TITLE");r.write('<div id="'+f.getId()+'-feedTileText"');r.addClass("sapSuiteUiCommonsFeedTileText");r.writeClasses();r.write(">");r.write('<div id="'+f.getId()+'-feedTileTitle"');r.addClass("sapSuiteUiCommonsFeedTileTitle");r.writeClasses();r.write(">");r.writeEscaped(t);r.write("</div>");r.write("</div>");if(b){r.write("</div>")}}r.write("</div>")};sap.suite.ui.commons.FeedTileRenderer.renderFeedItem=function(r,f,F,i,h){var b=F.getImage();if(!b||!f.getDisplayArticleImage()){b=f.getDefaultImage()}if(b){r.write('<div id="'+i+'-feedTileImage"');r.write(" style='background-image:url(");r.writeEscaped(b);r.write(");'");r.addClass("sapSuiteUiCommonsFeedTileBackground");if(h){r.addClass("sapSuiteFTItemHidden")}r.writeClasses();r.write(">")}r.write('<div id="'+i+'-feedTileText"');r.addClass("sapSuiteUiCommonsFeedTileText");r.writeClasses();r.write(">");var t=F.getTitle();if(t){r.write('<div id="'+i+'-feedTileTitle"');r.addClass("sapSuiteUiCommonsFeedTileTitle");r.writeClasses();r.write(">");r.writeEscaped(t);r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsFeedTileLowerText");r.writeClasses();r.write(">");r.write('<div id="'+i+'-feedTileSource"');r.addClass("sapSuiteUiCommonsFeedTileSource");r.writeClasses();r.write(">");r.writeEscaped(F.getSource());r.write("</div>");r.write('<div id="'+i+'-feedTileAge"');r.addClass("sapSuiteUiCommonsFeedTileAge");r.writeClasses();r.write(">");r.writeEscaped(sap.suite.ui.commons.util.FeedItemUtils.calculateFeedItemAge(F.getPublicationDate()));r.write("</div>");r.write("</div>")}r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.GenericTile')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.GenericTile");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.GenericTile",{metadata:{library:"sap.suite.ui.commons",properties:{"header":{type:"string",group:"Appearance",defaultValue:null},"subheader":{type:"string",group:"Appearance",defaultValue:null},"failedText":{type:"string",group:"Appearance",defaultValue:null},"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileSize.Auto},"frameType":{type:"sap.suite.ui.commons.FrameType",group:"Misc",defaultValue:sap.suite.ui.commons.FrameType.OneByOne},"backgroundImage":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"headerImage":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"state":{type:"sap.suite.ui.commons.LoadState",group:"Misc",defaultValue:sap.suite.ui.commons.LoadState.Loaded}},aggregations:{"tileContent":{type:"sap.suite.ui.commons.TileContent",multiple:true,singularName:"tileContent"},"icon":{type:"sap.ui.core.Control",multiple:false},"titleText":{type:"sap.m.Text",multiple:false,visibility:"hidden"},"failedMessageText":{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{"press":{}}}});sap.suite.ui.commons.GenericTile.M_EVENTS={'press':'press'};jQuery.sap.require('sap.m.Text');jQuery.sap.require('sap.ui.core.IconPool');sap.suite.ui.commons.GenericTile.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._oTitle=new sap.m.Text(this.getId()+"-title",{maxLines:2});this._oTitle.addStyleClass("sapSuiteGTTitle");this._oTitle.cacheLineHeight=false;this.setAggregation("titleText",this._oTitle);this._sFailedToLoad=this._rb.getText("INFOTILE_CANNOT_LOAD_TILE");this._oFailed=new sap.m.Text(this.getId()+"-failed-txt",{maxLines:2});this._oFailed.cacheLineHeight=false;this._oFailed.addStyleClass("sapSuiteGTFailed");this.setAggregation("failedMessageText",this._oFailed);this._oWarningIcon=new sap.ui.core.Icon(this.getId()+"-warn-icon",{src:"sap-icon://notification",size:"1.37rem"});this._oWarningIcon.addStyleClass("sapSuiteGTFtrFldIcnMrk");this._oBusy=new sap.ui.core.HTML(this.getId()+"-overlay");this._oBusy.addStyleClass("sapSuiteGenericTileLoading");this._oBusy.setBusyIndicatorDelay(0)};sap.suite.ui.commons.GenericTile.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus()}this.firePress()};sap.suite.ui.commons.GenericTile.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}};sap.suite.ui.commons.GenericTile.prototype._handleOvrlClick=function(e){e.stopPropagation()};sap.suite.ui.commons.GenericTile.prototype.onBeforeRendering=function(){var t=this.getTileContent().length;for(var i=0;i<t;i++){this.getTileContent()[i].setDisabled(this.getState()=="Disabled",true)}var c=this.getFailedText();var f=c?c:this._sFailedToLoad;this._oFailed.setText(f);this._oFailed.setTooltip(f)};sap.suite.ui.commons.GenericTile.prototype.onAfterRendering=function(){this._checkFooter(this.getState());if("Disabled"==this.getState()){this._oBusy.$().bind("tap",jQuery.proxy(this._handleOvrlClick,this))}else{this._oBusy.$().unbind("tap",this._handleOvrlClick)}};sap.suite.ui.commons.GenericTile.prototype.getHeader=function(){return this._oTitle.getText()};sap.suite.ui.commons.GenericTile.prototype.setHeader=function(t){this._oTitle.setProperty("text",t,true);this.invalidate();return this};sap.suite.ui.commons.GenericTile.prototype.exit=function(){this._oWarningIcon.destroy();if(this._oImage){this._oImage.destroy()}this._oBusy.destroy()};sap.suite.ui.commons.GenericTile.prototype.setHeaderImage=function(i){var v=!jQuery.sap.equal(this.getHeaderImage(),i);if(v){if(this._oImage){this._oImage.destroy();this._oImage=undefined}if(i){this._oImage=sap.ui.core.IconPool.createControlByURI({id:this.getId()+"-icon-image",src:i},sap.m.Image);this._oImage.addStyleClass("sapSuiteGTHdrIconImage")}}return this.setProperty("headerImage",i)};sap.suite.ui.commons.GenericTile.prototype.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,l);if(this.hasListeners("press")&&this.getState()!="Disabled"){this.$().attr("tabindex",0).addClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.GenericTile.prototype.setState=function(s,i){this._checkFooter(s);this.setProperty("state",s,i);return this};sap.suite.ui.commons.GenericTile.prototype._checkFooter=function(s){var t=jQuery.sap.byId(this.getId()).find(".sapSuiteTileCntFtrTxt");if(s==="Failed"&&t.is(":visible")){t.hide()}else if(t.is(":hidden")){t.show()}};sap.suite.ui.commons.GenericTile.prototype.detachEvent=function(e,f,l){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,l);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.GenericTile.prototype.onsaptouchstart=function(e){this.addStyleClass("sapSuiteGTHvrOutln")};sap.suite.ui.commons.GenericTile.prototype.onsaptouchend=function(e){this.removeStyleClass("sapSuiteGTHvrOutln")};sap.suite.ui.commons.GenericTile.prototype.ontouchstart=function(e){this.addStyleClass("sapSuiteGTHvrOutln")};sap.suite.ui.commons.GenericTile.prototype.ontouchend=function(e){this.removeStyleClass("sapSuiteGTHvrOutln")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.HeaderCell')){jQuery.sap.declare("sap.suite.ui.commons.HeaderCell");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.HeaderCell",{metadata:{library:"sap.suite.ui.commons",properties:{"heigth":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'100px',deprecated:true},"height":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'106px'}},aggregations:{"west":{type:"sap.suite.ui.commons.HeaderCellItem",multiple:false},"north":{type:"sap.suite.ui.commons.HeaderCellItem",multiple:false},"east":{type:"sap.suite.ui.commons.HeaderCellItem",multiple:false},"south":{type:"sap.suite.ui.commons.HeaderCellItem",multiple:false}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.HeaderCellItem')){jQuery.sap.declare("sap.suite.ui.commons.HeaderCellItem");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.suite.ui.commons.HeaderCellItem",{metadata:{library:"sap.suite.ui.commons",properties:{"height":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null}},aggregations:{"content":{type:"sap.ui.core.Control",multiple:false}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.HeaderContainer')){jQuery.sap.declare("sap.suite.ui.commons.HeaderContainer");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.HeaderContainer",{metadata:{interfaces:["sap.m.ObjectHeaderContainer"],library:"sap.suite.ui.commons",properties:{"scrollStep":{type:"int",group:"Misc",defaultValue:300},"scrollTime":{type:"int",group:"Misc",defaultValue:500}},aggregations:{"scrollContainer":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},"items":{type:"sap.ui.core.Control",multiple:true,singularName:"item"},"buttonPrev":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},"buttonNext":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ui.core.Icon');jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');sap.suite.ui.commons.HeaderContainer.prototype.init=function(){this._bRtl=sap.ui.getCore().getConfiguration().getRTL();this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._oScrollCntr=new sap.m.ScrollContainer(this.getId()+"-scrl-cntnr",{width:"100%",horizontal:!jQuery.device.is.desktop});this.setAggregation("scrollContainer",this._oScrollCntr);var t=this;if(jQuery.device.is.desktop){this._oArrowPrev=new sap.m.Button({id:this.getId()+"-scrl-prev-button",icon:"sap-icon://navigation-left-arrow",type:sap.m.ButtonType.Transparent,tooltip:this._rb.getText("HEADERCONTAINER_BUTTON_PREV_SECTION"),press:function(e){t._scroll(-t.getScrollStep(),t.getScrollTime())}});this._oArrowPrev.addStyleClass("sapSuiteHdrCntrBtn").addStyleClass("sapSuiteHdrCntrLeft");this.setAggregation("buttonPrev",this._oArrowPrev);this._oArrowNext=new sap.m.Button({id:this.getId()+"-scrl-next-button",icon:"sap-icon://navigation-right-arrow",type:sap.m.ButtonType.Transparent,tooltip:this._rb.getText("HEADERCONTAINER_BUTTON_NEXT_SECTION"),press:function(e){t._scroll(t.getScrollStep(),t.getScrollTime())}});this._oArrowNext.addStyleClass("sapSuiteHdrCntrBtn").addStyleClass("sapSuiteHdrCntrRight");this.setAggregation("buttonNext",this._oArrowNext);this._oScrollCntr.addDelegate({onAfterRendering:function(o){if(jQuery.device.is.desktop){var f=jQuery.sap.domById(t.getId()+"-scrl-cntnr-scroll");var F=jQuery.sap.byId(t.getId()+"-scrl-cntnr-scroll");var d=F.find("[tabindex=0]");if(!t._oItemNavigation){t._oItemNavigation=new sap.ui.core.delegate.ItemNavigation();t.addDelegate(t._oItemNavigation);t._oItemNavigation.attachEvent(sap.ui.core.delegate.ItemNavigation.Events.BorderReached,t._handleBorderReached,t);t._oItemNavigation.attachEvent(sap.ui.core.delegate.ItemNavigation.Events.AfterFocus,t._handleBorderReached,t)}t._oItemNavigation.setRootDomRef(f);t._oItemNavigation.setItemDomRefs(d);t._oItemNavigation.setCycling(false)}},onBeforeRendering:function(o){if(jQuery.device.is.desktop){jQuery.sap.require("sap.ui.core.delegate.ScrollEnablement");t._oScrollCntr._oScroller=new sap.ui.core.delegate.ScrollEnablement(t._oScrollCntr,t._oScrollCntr.getId()+"-scroll",{horizontal:true,vertical:false,zynga:true,preventDefault:false,nonTouchScrolling:"scrollbar"})}}})}};sap.suite.ui.commons.HeaderContainer.prototype._scroll=function(d,D){var o=jQuery.sap.domById(this.getId()+"-scrl-cntnr");var s=o.scrollLeft;if(!sap.ui.Device.browser.internet_explorer&&this._bRtl){d=-d}var S=s+d;this._oScrollCntr.scrollTo(S,0,D)};sap.suite.ui.commons.HeaderContainer.prototype._checkOverflow=function(){var b=jQuery.sap.domById(this.getId()+"-scrl-cntnr");var s=false;if(b){if(b.scrollWidth>b.clientWidth){s=true}}this._lastScrolling=s;if(b){var S=b.scrollLeft;var a=false;var c=false;var r=b.scrollWidth;var d=b.clientWidth;if(Math.abs(r-d)==1){r=d}if(!this._bRtl){if(S>0){a=true}if((r>d)&&(S+d<r)){c=true}}else{var l=jQuery(b);if(l.scrollLeftRTL()>0){c=true}if(l.scrollRightRTL()>0){a=true}}var o=jQuery.sap.byId(this.getId()+"-scroll-area");if(!a){jQuery.sap.byId(this._oArrowPrev.getId()).hide();o.css(this._bRtl?"padding-right":"padding-left","0rem")}else{jQuery.sap.byId(this._oArrowPrev.getId()).show();o.css(this._bRtl?"padding-right":"padding-left","2rem")}if(!c){jQuery.sap.byId(this._oArrowNext.getId()).hide();o.css(this._bRtl?"padding-left":"padding-right","0rem")}else{jQuery.sap.byId(this._oArrowNext.getId()).show();o.css(this._bRtl?"padding-left":"padding-right","2rem")}}};sap.suite.ui.commons.HeaderContainer.prototype._handleBorderReached=function(o){var i=o.getParameter("index");if(i==0){this._scroll(-this.getScrollStep(),this.getScrollTime())}else if(i==this.getItems().length-1){this._scroll(this.getScrollStep(),this.getScrollTime())}};sap.suite.ui.commons.HeaderContainer.prototype.addItem=function(i,s){return this._oScrollCntr.addContent(i.addStyleClass("sapSuiteHrdrCntrInner"),s)};sap.suite.ui.commons.HeaderContainer.prototype.insertItem=function(i,I,s){return this._oScrollCntr.insertContent(i.addStyleClass("sapSuiteHrdrCntrInner"),I,s)};sap.suite.ui.commons.HeaderContainer.prototype._callMethodInManagedObject=function(f,a){var b=Array.prototype.slice.call(arguments);if(a==="items"){b[1]="content";return this._oScrollCntr[f].apply(this._oScrollCntr,b.slice(1))}else{return sap.ui.base.ManagedObject.prototype[f].apply(this,b.slice(1))}};sap.suite.ui.commons.HeaderContainer.prototype.onBeforeRendering=function(){if(jQuery.device.is.desktop){sap.ui.getCore().attachIntervalTimer(this._checkOverflow,this)}if(jQuery.device.is.desktop){this.$().unbind("click",this.handleSwipe)}};sap.suite.ui.commons.HeaderContainer.prototype.onAfterRendering=function(){jQuery.sap.byId(this.getId()+"-scrl-next-button").attr("tabindex","-1");jQuery.sap.byId(this.getId()+"-scrl-prev-button").attr("tabindex","-1");if(jQuery.device.is.desktop){this.$().bind("swipe",jQuery.proxy(this.handleSwipe,this))}};sap.suite.ui.commons.HeaderContainer.prototype.handleSwipe=function(e){e.preventDefault();e.stopPropagation();this._isDragEvent=true};sap.suite.ui.commons.HeaderContainer.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy()}};sap.suite.ui.commons.HeaderContainer.prototype.onclick=function(e){if(this._isDragEvent){e.preventDefault();e.stopPropagation();this._isDragEvent=false}};sap.suite.ui.commons.HeaderContainer.prototype.validateAggregation=function(a,o,m){return this._callMethodInManagedObject("validateAggregation",a,o,m)};sap.suite.ui.commons.HeaderContainer.prototype.getAggregation=function(a,o,s){return this._callMethodInManagedObject("getAggregation",a,o,s)};sap.suite.ui.commons.HeaderContainer.prototype.setAggregation=function(a,o,s){this._callMethodInManagedObject("setAggregation",a,o,s);return this};sap.suite.ui.commons.HeaderContainer.prototype.indexOfAggregation=function(a,o){return this._callMethodInManagedObject("indexOfAggregation",a,o)};sap.suite.ui.commons.HeaderContainer.prototype.insertAggregation=function(a,o,i,s){this._callMethodInManagedObject("insertAggregation",a,o,i,s);return this};sap.suite.ui.commons.HeaderContainer.prototype.addAggregation=function(a,o,s){this._callMethodInManagedObject("addAggregation",a,o,s);return this};sap.suite.ui.commons.HeaderContainer.prototype.removeAggregation=function(a,o,s){return this._callMethodInManagedObject("removeAggregation",a,o,s)};sap.suite.ui.commons.HeaderContainer.prototype.removeAllAggregation=function(a,s){return this._callMethodInManagedObject("removeAllAggregation",a,s)};sap.suite.ui.commons.HeaderContainer.prototype.destroyAggregation=function(a,s){this._callMethodInManagedObject("destroyAggregation",a,s);return this}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.InfoTile')){jQuery.sap.declare("sap.suite.ui.commons.InfoTile");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.InfoTile",{metadata:{library:"sap.suite.ui.commons",properties:{"description":{type:"string",group:"Appearance",defaultValue:null},"title":{type:"string",group:"Appearance",defaultValue:null},"footer":{type:"string",group:"Appearance",defaultValue:null},"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:"Auto"},"state":{type:"sap.suite.ui.commons.LoadState",group:"Misc",defaultValue:sap.suite.ui.commons.LoadState.Loading}},aggregations:{"content":{type:"sap.ui.core.Control",multiple:false},"titleText":{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{"press":{}}}});sap.suite.ui.commons.InfoTile.M_EVENTS={'press':'press'};jQuery.sap.require('sap.m.Text');sap.suite.ui.commons.InfoTile.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._oTitle=new sap.m.Text(this.getId()+"-title",{maxLines:2});this.setAggregation("titleText",this._oTitle);this._sFailedToLoad=this._rb.getText("INFOTILE_CANNOT_LOAD_TILE");this._oWarningIcon=new sap.ui.core.Icon(this.getId()+"-warn-icon",{src:"sap-icon://notification"})};sap.suite.ui.commons.InfoTile.prototype.ontap=function(e){this.firePress()};sap.suite.ui.commons.InfoTile.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress()}};sap.suite.ui.commons.InfoTile.prototype.getTitle=function(){return this._oTitle.getText()};sap.suite.ui.commons.InfoTile.prototype.setTitle=function(d){this._oTitle.setProperty("text",d,true);this.invalidate();return this};sap.suite.ui.commons.InfoTile.prototype.exit=function(){this._oWarningIcon.destroy()}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.JamContent')){jQuery.sap.declare("sap.suite.ui.commons.JamContent");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.JamContent",{metadata:{library:"sap.suite.ui.commons",properties:{"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileSize.Auto},"contentText":{type:"string",group:"Misc",defaultValue:null},"subheader":{type:"string",group:"Misc",defaultValue:null},"value":{type:"string",group:"Misc",defaultValue:null},"valueColor":{type:"sap.suite.ui.commons.InfoTileValueColor",group:"Misc",defaultValue:null},"truncateValueTo":{type:"int",group:"Misc",defaultValue:4}},aggregations:{"contentTextAgr":{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{"press":{}}}});sap.suite.ui.commons.JamContent.M_EVENTS={'press':'press'};sap.suite.ui.commons.JamContent.prototype.init=function(){this._oCText=new sap.m.Text(this.getId()+"-content-text",{maxLines:3});this._oCText.cacheLineHeight=false;this.setAggregation("contentTextAgr",this._oCText)};sap.suite.ui.commons.JamContent.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus()}this.firePress()};sap.suite.ui.commons.JamContent.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}};sap.suite.ui.commons.JamContent.prototype.getContentText=function(){return this._oCText.getText()};sap.suite.ui.commons.JamContent.prototype.setContentText=function(t){this._oCText.setText(t);return this};sap.suite.ui.commons.JamContent.prototype.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,l);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.JamContent.prototype.detachEvent=function(e,f,l){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,l);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiCommonsPointer")}return this}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.KpiTile')){jQuery.sap.declare("sap.suite.ui.commons.KpiTile");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.KpiTile",{metadata:{library:"sap.suite.ui.commons",properties:{"value":{type:"string",group:"Misc",defaultValue:null},"description":{type:"string",group:"Misc",defaultValue:null},"doubleFontSize":{type:"boolean",group:"Misc",defaultValue:true},"valueUnit":{type:"string",group:"Misc",defaultValue:null},"valueScale":{type:"string",group:"Misc",defaultValue:null},"valueStatus":{type:"sap.suite.ui.commons.ValueStatus",group:"Misc",defaultValue:sap.suite.ui.commons.ValueStatus.Neutral}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.LaunchTile')){jQuery.sap.declare("sap.suite.ui.commons.LaunchTile");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.LaunchTile",{metadata:{library:"sap.suite.ui.commons",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"link":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null}},events:{"press":{}}}});sap.suite.ui.commons.LaunchTile.M_EVENTS={'press':'press'};jQuery.sap.require('sap.ui.core.IconPool');sap.suite.ui.commons.LaunchTile.prototype.exit=function(){if(this._iconImage){this._iconImage.destroy();this._iconImage=undefined}};sap.suite.ui.commons.LaunchTile.prototype.setIcon=function(u){this.setProperty("icon",u,true);var i=this.getId()+"-img";var s="72px";var p={src:u,height:s,width:s,size:s};this._iconImage=sap.m.ImageHelper.getImageControl(i,this._iconImage,this,p);return this};sap.suite.ui.commons.LaunchTile.prototype.onclick=function(e){this.firePress({title:this.getTitle(),link:this.getLink()})}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.LinkActionSheet')){jQuery.sap.declare("sap.suite.ui.commons.LinkActionSheet");jQuery.sap.require('sap.m.ActionSheet');sap.m.ActionSheet.extend("sap.suite.ui.commons.LinkActionSheet",{metadata:{library:"sap.suite.ui.commons",aggregations:{"items":{type:"sap.ui.core.Control",multiple:true,singularName:"item"}},events:{"itemPress":{allowPreventDefault:true}}}});sap.suite.ui.commons.LinkActionSheet.M_EVENTS={'itemPress':'itemPress'};sap.suite.ui.commons.LinkActionSheet.prototype.init=function(){if(jQuery.device.is.desktop){sap.m.ActionSheet.prototype.init.apply(this);this.getButtons=this.getItems}else{this._setItemNavigation=function(){};this.attachBeforeOpen(function(){this.onclick=function(e){e.preventDefault()}}).attachAfterOpen(function(){this.onclick=function(e){}})}};sap.suite.ui.commons.LinkActionSheet.prototype._preProcessActionItem=function(i){if(sap.m.Dialog._bOneDesign){if(i.getType&&i.getType()!==sap.m.ButtonType.Accept&&i.getType()!==sap.m.ButtonType.Reject){i.setType(sap.m.ButtonType.Transparent);i.addStyleClass("sapMBtnInverted")}}i.onsapenter=function(){this._bEnterWasPressed=true};return this};sap.suite.ui.commons.LinkActionSheet.prototype._itemSelected=function(e){var i=e.getSource();if(this.fireItemPress({item:i})){if(!(jQuery.device.is.ipad||(sap.m.Dialog._bOneDesign&&!jQuery.device.is.phone))&&this._parent){this._parent._oCloseTrigger=this}this.close()}i._bEnterWasPressed=undefined};sap.suite.ui.commons.LinkActionSheet.prototype.addItem=function(i){this.addAggregation("items",i,false);this._preProcessActionItem(i);i.attachPress(this._itemSelected,this);return this};sap.suite.ui.commons.LinkActionSheet.prototype.insertItem=function(i,I){this.insertAggregation("items",i,I,false);this._preProcessActionItem(i);i.attachPress(this._itemSelected,this);return this};sap.suite.ui.commons.LinkActionSheet.prototype.removeItem=function(i){var r=this.removeAggregation("items",i,false);if(r){r.detachPress(this._itemSelected,this);i.onsapenter=undefined}return r};sap.suite.ui.commons.LinkActionSheet.prototype.removeAllItems=function(){var r=this.removeAllAggregation("items",false);var t=this;jQuery.each(r,function(i,I){I.detachPress(t._itemSelected,t);I.onsapenter=undefined});return r};sap.suite.ui.commons.LinkActionSheet.prototype.clone=function(){var I=this.getItems();for(var i=0;i<I.length;i++){var o=I[i];o.detachPress(this._itemSelected,this)}var c=sap.ui.core.Control.prototype.clone.apply(this,arguments);for(var i=0;i<I.length;i++){var o=I[i];o.attachPress(this._itemSelected,this)}return c}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.MicroAreaChart')){jQuery.sap.declare("sap.suite.ui.commons.MicroAreaChart");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.MicroAreaChart",{metadata:{library:"sap.suite.ui.commons",properties:{"width":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'200px'},"height":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'190px'},"maxXValue":{type:"float",group:"Misc",defaultValue:null},"minXValue":{type:"float",group:"Misc",defaultValue:null},"maxYValue":{type:"float",group:"Misc",defaultValue:null},"minYValue":{type:"float",group:"Misc",defaultValue:null}},aggregations:{"chart":{type:"sap.suite.ui.commons.MicroAreaChartItem",multiple:false},"maxThreshold":{type:"sap.suite.ui.commons.MicroAreaChartItem",multiple:false},"innerMaxThreshold":{type:"sap.suite.ui.commons.MicroAreaChartItem",multiple:false},"innerMinThreshold":{type:"sap.suite.ui.commons.MicroAreaChartItem",multiple:false},"minThreshold":{type:"sap.suite.ui.commons.MicroAreaChartItem",multiple:false},"target":{type:"sap.suite.ui.commons.MicroAreaChartItem",multiple:false},"firstXLabel":{type:"sap.suite.ui.commons.MicroAreaChartLabel",multiple:false},"firstYLabel":{type:"sap.suite.ui.commons.MicroAreaChartLabel",multiple:false},"lastXLabel":{type:"sap.suite.ui.commons.MicroAreaChartLabel",multiple:false},"lastYLabel":{type:"sap.suite.ui.commons.MicroAreaChartLabel",multiple:false},"maxLabel":{type:"sap.suite.ui.commons.MicroAreaChartLabel",multiple:false},"minLabel":{type:"sap.suite.ui.commons.MicroAreaChartLabel",multiple:false}},events:{"press":{}}}});sap.suite.ui.commons.MicroAreaChart.M_EVENTS={'press':'press'};sap.suite.ui.commons.MicroAreaChart.prototype._getCssValues=function(){this._cssHelper.className=Array.prototype.slice.call(arguments).join(" ");var c=window.getComputedStyle(this._cssHelper);if(c.backgroundColor==undefined){c.backgroundColor=c["background-color"]}return c};sap.suite.ui.commons.MicroAreaChart.prototype._fillThresholdArea=function(c,p,P,a){c.beginPath();c.moveTo(p[0].x,p[0].y);for(var i=1,l=p.length;i<l;i++){c.lineTo(p[i].x,p[i].y)}for(var i=P.length-1;i>=0;i--){c.lineTo(P[i].x,P[i].y)}c.closePath();c.fillStyle="white";c.fill();c.fillStyle=a;c.fill();c.lineWidth=1;c.strokeStyle="white";c.stroke();c.strokeStyle=a;c.stroke()};sap.suite.ui.commons.MicroAreaChart.prototype._renderLine=function(c,p,d){c.beginPath();c.moveTo(p[0].x,p[0].y);for(var i=1,l=p.length;i<l;i++){c.lineTo(p[i].x,p[i].y)}c.stroke()};sap.suite.ui.commons.MicroAreaChart.prototype.renderTarget=function(c,d){if(d.target.length>1){var C=this._getCssValues("sapSuiteMacTarget",this.getTarget().getColor());c.strokeStyle=C.color;c.lineWidth=parseFloat(C.width);this._renderLine(c,d.target,d)}else if(d.target.length==1){jQuery.sap.log.warning("Target is not rendered because only 1 point was given")}};sap.suite.ui.commons.MicroAreaChart.prototype.fillMaxThreshold=function(c,d){if(d.maxThreshold.length>1){var C=this._getCssValues("sapSuiteMacThreshold",this.getMaxThreshold().getColor());this._fillThresholdArea(c,d.maxThreshold,[{x:d.maxThreshold[0].x,y:d.minY},{x:d.maxThreshold[d.maxThreshold.length-1].x,y:d.minY}],C.backgroundColor)}else if(d.maxThreshold.length==1){jQuery.sap.log.warning("Max Threshold is not rendered because only 1 point was given")}};sap.suite.ui.commons.MicroAreaChart.prototype.fillMinThreshold=function(c,d){if(d.minThreshold.length>1){var C=this._getCssValues("sapSuiteMacThreshold",this.getMinThreshold().getColor());this._fillThresholdArea(c,d.minThreshold,[{x:d.minThreshold[0].x,y:d.maxY},{x:d.minThreshold[d.minThreshold.length-1].x,y:d.maxY}],C.backgroundColor)}else if(d.minThreshold.length==1){jQuery.sap.log.warning("Min Threshold is not rendered because only 1 point was given")}};sap.suite.ui.commons.MicroAreaChart.prototype.fillThresholdArea=function(c,d){if(d.minThreshold.length>1&&d.maxThreshold.length>1){var C=this._getCssValues("sapSuiteMacThreshold","Critical");this._fillThresholdArea(c,d.maxThreshold,d.minThreshold,C.backgroundColor)}};sap.suite.ui.commons.MicroAreaChart.prototype.fillInnerThresholdArea=function(c,d){if(d.innerMinThreshold.length>1&&d.innerMaxThreshold.length>1){var C=this._getCssValues("sapSuiteMacThreshold",this.getInnerMaxThreshold().getColor());this._fillThresholdArea(c,d.innerMaxThreshold,d.innerMinThreshold,C.backgroundColor)}else if(d.innerMinThreshold.length||d.innerMaxThreshold.length){jQuery.sap.log.warning("Inner threshold area is not rendered because inner min and max threshold were not correctly set")}};sap.suite.ui.commons.MicroAreaChart.prototype.renderChart=function(c,d){if(d.chart.length>1){var C=this._getCssValues("sapSuiteMacChart",this.getChart().getColor());c.strokeStyle=C.color;c.lineWidth=parseFloat(C.width);this._renderLine(c,d.chart,d)}else if(d.chart.length==1){jQuery.sap.log.warning("Actual values are not rendered because only 1 point was given")}};sap.suite.ui.commons.MicroAreaChart.prototype.renderCanvas=function(){this._cssHelper=document.getElementById(this.getId()+"-css-helper");var a=document.getElementById(this.getId()+"-canvas");var b=window.getComputedStyle(a);a.setAttribute("width",parseFloat(b.width));a.setAttribute("height",parseFloat(b.height));var c=a.getContext("2d");c.lineJoin=c.lineCap="round";var d=this._calculateDimensions(a.width,a.height);this.fillMaxThreshold(c,d);this.fillMinThreshold(c,d);this.fillThresholdArea(c,d);this.fillInnerThresholdArea(c,d);this.renderTarget(c,d);this.renderChart(c,d)};sap.suite.ui.commons.MicroAreaChart.prototype._calculateDimensions=function(w,h){var m,b,c,d;m=b=c=d=undefined;var t=this;function e(){if(!t._isMinXValue||!t._isMaxXValue||!t._isMinYValue||!t._isMaxYValue){var l=[];if(t.getMaxThreshold()){l.push(t.getMaxThreshold())}if(t.getMinThreshold()){l.push(t.getMinThreshold())}if(t.getChart()){l.push(t.getChart())}if(t.getTarget()){l.push(t.getTarget())}if(t.getInnerMaxThreshold()){l.push(t.getInnerMaxThreshold())}if(t.getInnerMinThreshold()){l.push(t.getInnerMinThreshold())}for(var i=0,n=l.length;i<n;i++){var p=l[i].getPoints();for(var o=0,a=p.length;o<a;o++){var q=p[o].getXValue();if(q>m||m===undefined){m=q}if(q<c||c===undefined){c=q}q=p[o].getYValue();if(q>b||b===undefined){b=q}if(q<d||d===undefined){d=q}}}}if(t._isMinXValue){c=t.getMinXValue()}if(t._isMaxXValue){m=t.getMaxXValue()}if(t._isMinYValue){d=t.getMinYValue()}if(t._isMaxYValue){b=t.getMaxYValue()}};e();var r={minY:0,minX:0,maxY:h,maxX:w};var k=undefined;var D=m-c;if(D>0){k=w/D}else if(D==0){k=0;r.maxX/=2}else{jQuery.sap.log.warning("Min X is more than max X")}var f=undefined;var g=b-d;if(g>0){f=h/(b-d)}else if(g==0){f=0;r.maxY/=2}else{jQuery.sap.log.warning("Min Y is more than max Y")}function j(l){var R=sap.ui.getCore().getConfiguration().getRTL();var C=function(V){var x=k*(V-c);if(R){x=r.maxX-x}return x};var a=function(V){return r.maxY-f*(V-d)};var n=[];if(l&&k!=undefined&&f!=undefined){var p=l.getPoints();var L=p.length;var o,y,q,s;if(L==1){q=p[0].getXValue();s=p[0].getYValue();if(q==undefined^s==undefined){var u,v;if(q==undefined){v=y=a(s);o=r.minX;u=r.maxX}else{u=o=C(q);y=r.minY;v=r.maxY}n.push({x:o,y:y},{x:u,y:v})}else{jQuery.sap.log.warning("Point with coordinates ["+q+" "+s+"] ignored")}}else{for(var i=0;i<L;i++){q=p[i].getXValue();s=p[i].getYValue();if(q!=undefined&&s!=undefined){o=C(q);y=a(s);n.push({x:o,y:y})}else{jQuery.sap.log.warning("Point with coordinates ["+q+" "+s+"] ignored")}}}}return n};r.maxThreshold=j(t.getMaxThreshold());r.minThreshold=j(t.getMinThreshold());r.chart=j(t.getChart());r.target=j(t.getTarget());r.innerMaxThreshold=j(t.getInnerMaxThreshold());r.innerMinThreshold=j(t.getInnerMinThreshold());return r};sap.suite.ui.commons.MicroAreaChart.prototype.setMinXValue=function(v,s){this._isMinXValue=this._isNumber(v);return this.setProperty("minXValue",this._isMinXValue?v:NaN,s)};sap.suite.ui.commons.MicroAreaChart.prototype.setMaxXValue=function(v,s){this._isMaxXValue=this._isNumber(v);return this.setProperty("maxXValue",this._isMaxXValue?v:NaN,s)};sap.suite.ui.commons.MicroAreaChart.prototype.setMinYValue=function(v,s){this._isMinYValue=this._isNumber(v);return this.setProperty("minYValue",this._isMinYValue?v:NaN,s)};sap.suite.ui.commons.MicroAreaChart.prototype.setMaxYValue=function(v,s){this._isMaxYValue=this._isNumber(v);return this.setProperty("maxYValue",this._isMaxYValue?v:NaN,s)};sap.suite.ui.commons.MicroAreaChart.prototype._isNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n)};sap.suite.ui.commons.MicroAreaChart.prototype.onAfterRendering=function(){this.renderCanvas()};sap.suite.ui.commons.MicroAreaChart.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus()}this.firePress()};sap.suite.ui.commons.MicroAreaChart.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}};sap.suite.ui.commons.MicroAreaChart.prototype.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,l);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.MicroAreaChart.prototype.detachEvent=function(e,f,l){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,l);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiCommonsPointer")}return this}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.MicroAreaChartItem')){jQuery.sap.declare("sap.suite.ui.commons.MicroAreaChartItem");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.suite.ui.commons.MicroAreaChartItem",{metadata:{library:"sap.suite.ui.commons",properties:{"color":{type:"sap.suite.ui.commons.InfoTileValueColor",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileValueColor.Neutral}},aggregations:{"points":{type:"sap.suite.ui.commons.MicroAreaChartPoint",multiple:true,singularName:"point",bindable:"bindable"}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.MicroAreaChartLabel')){jQuery.sap.declare("sap.suite.ui.commons.MicroAreaChartLabel");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.suite.ui.commons.MicroAreaChartLabel",{metadata:{library:"sap.suite.ui.commons",properties:{"label":{type:"string",group:"Misc",defaultValue:null},"color":{type:"sap.suite.ui.commons.InfoTileValueColor",group:"Misc",defaultValue:"Neutral"}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.MicroAreaChartPoint')){jQuery.sap.declare("sap.suite.ui.commons.MicroAreaChartPoint");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.suite.ui.commons.MicroAreaChartPoint",{metadata:{publicMethods:["getXValue","getYValue"],library:"sap.suite.ui.commons",properties:{"x":{type:"float",group:"Misc",defaultValue:null},"y":{type:"float",group:"Misc",defaultValue:null}}}});sap.suite.ui.commons.MicroAreaChartPoint.prototype.setX=function(v,s){this._isXValue=this._isNumber(v);return this.setProperty("x",this._isXValue?v:NaN,s)};sap.suite.ui.commons.MicroAreaChartPoint.prototype.setY=function(v,s){this._isYValue=this._isNumber(v);return this.setProperty("y",this._isYValue?v:NaN,s)};sap.suite.ui.commons.MicroAreaChartPoint.prototype.getXValue=function(){return this._isXValue?this.getX():undefined};sap.suite.ui.commons.MicroAreaChartPoint.prototype.getYValue=function(){return this._isYValue?this.getY():undefined};sap.suite.ui.commons.MicroAreaChartPoint.prototype._isNumber=function(n){return typeof n=='number'&&!isNaN(n)&&isFinite(n)}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.MonitoringContent')){jQuery.sap.declare("sap.suite.ui.commons.MonitoringContent");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.MonitoringContent",{metadata:{library:"sap.suite.ui.commons",properties:{"value":{type:"string",group:"Misc",defaultValue:null},"iconSrc":{type:"string",group:"Misc",defaultValue:null},"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileSize.Auto},"state":{type:"sap.suite.ui.commons.LoadState",group:"Misc",defaultValue:sap.suite.ui.commons.LoadState.Loaded},"animateTextChange":{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{"icon":{type:"sap.ui.core.Icon",multiple:false}},events:{"press":{}}}});sap.suite.ui.commons.MonitoringContent.M_EVENTS={'press':'press'};sap.suite.ui.commons.MonitoringContent.prototype.init=function(){this._oIcon=new sap.ui.core.Icon(this.getId()+"-icon");this.setAggregation("icon",this._oIcon)};sap.suite.ui.commons.MonitoringContent.prototype.onAfterRendering=function(){if(sap.suite.ui.commons.LoadState.Loaded==this.getState()||this.getAnimateTextChange()){jQuery.sap.byId(this.getId()).animate({opacity:"1"},1000)}};sap.suite.ui.commons.MonitoringContent.prototype.setIconSrc=function(i){this._oIcon.setSrc(i);return this};sap.suite.ui.commons.MonitoringContent.prototype.getIconSrc=function(){return this._oIcon.getImageSrc()};sap.suite.ui.commons.MonitoringContent.prototype.ontap=function(e){this.firePress()};sap.suite.ui.commons.MonitoringContent.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.MonitoringTile')){jQuery.sap.declare("sap.suite.ui.commons.MonitoringTile");sap.suite.ui.commons.InfoTile.extend("sap.suite.ui.commons.MonitoringTile",{metadata:{library:"sap.suite.ui.commons",properties:{"value":{type:"string",group:"Misc",defaultValue:null},"iconSrc":{type:"string",group:"Misc",defaultValue:null},"footerColor":{type:"sap.suite.ui.commons.InfoTileTextColor",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileTextColor.Positive}}}});sap.suite.ui.commons.MonitoringTile.prototype.init=function(){this._oTileCnt=new sap.suite.ui.commons.MonitoringContent(this.getId()+"-monitoring-tile-cnt");this.setContent(this._oTileCnt);sap.suite.ui.commons.InfoTile.prototype.init.apply(this)};sap.suite.ui.commons.MonitoringTile.prototype.setScale=function(t){this._oTileCnt.setScale(t);return this};sap.suite.ui.commons.MonitoringTile.prototype.getScale=function(){return this._oTileCnt.getScale()};sap.suite.ui.commons.MonitoringTile.prototype.setValue=function(t){this._oTileCnt.setValue(t);return this};sap.suite.ui.commons.MonitoringTile.prototype.getValue=function(){return this._oTileCnt.getValue()};sap.suite.ui.commons.MonitoringTile.prototype.setSize=function(s){this._oTileCnt.setSize(s);return this};sap.suite.ui.commons.MonitoringTile.prototype.getSize=function(){return this._oTileCnt.getSize()};sap.suite.ui.commons.MonitoringTile.prototype.setState=function(s){this._oTileCnt.setProperty("state",s,true);this.setProperty("state",s);return this};sap.suite.ui.commons.MonitoringTile.prototype.getState=function(){return this._oTileCnt.getState()};sap.suite.ui.commons.MonitoringTile.prototype.setIconSrc=function(i){this._oTileCnt.setIconSrc(i);return this};sap.suite.ui.commons.MonitoringTile.prototype.getIconSrc=function(){return this._oTileCnt.getIconSrc()}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NewsContent')){jQuery.sap.declare("sap.suite.ui.commons.NewsContent");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.NewsContent",{metadata:{library:"sap.suite.ui.commons",properties:{"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileSize.Auto},"contentText":{type:"string",group:"Misc",defaultValue:null},"subheader":{type:"string",group:"Misc",defaultValue:null}},aggregations:{"contentTextAgr":{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{"press":{}}}});sap.suite.ui.commons.NewsContent.M_EVENTS={'press':'press'};sap.suite.ui.commons.NewsContent.prototype.init=function(){this._oCText=new sap.m.Text(this.getId()+"-content-text",{maxLines:2});this._oCText.cacheLineHeight=false;this.setAggregation("contentTextAgr",this._oCText)};sap.suite.ui.commons.NewsContent.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus()}this.firePress()};sap.suite.ui.commons.NewsContent.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}};sap.suite.ui.commons.NewsContent.prototype.getContentText=function(){return this._oCText.getText()};sap.suite.ui.commons.NewsContent.prototype.setContentText=function(t){this._oCText.setText(t);return this};sap.suite.ui.commons.NewsContent.prototype.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,l);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.NewsContent.prototype.detachEvent=function(e,f,l){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,l);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiCommonsPointer")}return this}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NoteTaker')){jQuery.sap.declare("sap.suite.ui.commons.NoteTaker");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.NoteTaker",{metadata:{publicMethods:["getAllTags","setNextCardUid","uploadAttachment","setAttachmentData","handleAttachmentUploadFail","setNextCardAttachmentUrl"],library:"sap.suite.ui.commons",properties:{"visibleNotes":{type:"int",group:"Misc",defaultValue:2},"cardViewAllTrigger":{type:"int",group:"Misc",defaultValue:1800},"filterCriteria":{type:"object",group:"Misc",defaultValue:null},"attachmentUploadUrl":{type:"string",group:"Misc",defaultValue:null},"attachmentName":{type:"string",group:"Misc",defaultValue:'attachment'}},aggregations:{"cards":{type:"sap.suite.ui.commons.NoteTakerCard",multiple:true,singularName:"card"},"carousel":{type:"sap.ui.commons.Carousel",multiple:false,visibility:"hidden"}},events:{"addCard":{},"deleteCard":{},"editCard":{},"attachmentSelect":{},"attachmentUploadComplete":{},"attachmentDelete":{},"attachmentClick":{}}}});sap.suite.ui.commons.NoteTaker.M_EVENTS={'addCard':'addCard','deleteCard':'deleteCard','editCard':'editCard','attachmentSelect':'attachmentSelect','attachmentUploadComplete':'attachmentUploadComplete','attachmentDelete':'attachmentDelete','attachmentClick':'attachmentClick'};jQuery.sap.require('sap.ui.commons.Carousel');jQuery.sap.require('sap.ui.commons.SearchField');(function(){sap.suite.ui.commons.NoteTaker.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._bFilterTagPopupOpen=false;this._bSearchPopupOpen=false;var t=this;this._carousel=new sap.ui.commons.Carousel({id:this.getId()+"-carousel",height:"540px"});this.setAggregation("carousel",this._carousel);this._carousel.addContent(this._createFeederAndAddToThis());this._notFilteredCards=[];this._oHomeButton=new sap.ui.commons.Button({id:this.getId()+"-home-button",tooltip:this._rb.getText("NOTETAKER_BUTTON_HOME_TOOLTIP"),press:function(){t._handleHomeButton()}});this._oHomeButton.addStyleClass("sapSuiteUiCommonsNoteTakerHomeButton");this._oFilterTagButton=new sap.ui.commons.Button({id:this.getId()+"-filterTag-button",tooltip:this._rb.getText("NOTETAKER_BUTTON_FILTER_TAG_TOOLTIP"),press:function(){t._toggleFilterTagPopup()}});this._oFilterTagButton.addStyleClass("sapSuiteUiCommonsNoteTakerFilterTagButton");this._oFilterThumbUpButton=new sap.ui.commons.Button({id:this.getId()+"-filter-thumb-up-button",tooltip:this._rb.getText("NOTETAKER_BUTTON_FILTER_THUMB_UP_TOOLTIP"),press:function(){t._handleFilteringByThumbUp()}});this._oFilterThumbUpButton.addStyleClass("sapSuiteUiCommonsNoteTakerFilterThumbUpButton");this._oFilterThumbDownButton=new sap.ui.commons.Button({id:this.getId()+"-filter-thumb-down-button",tooltip:this._rb.getText("NOTETAKER_BUTTON_FILTER_THUMB_DOWN_TOOLTIP"),press:function(){t._handleFilteringByThumbDown()}});this._oFilterThumbDownButton.addStyleClass("sapSuiteUiCommonsNoteTakerFilterThumbDownButton");this._oFilterAllButton=new sap.ui.commons.Button({id:this.getId()+"-filterAll-button",text:this._rb.getText("NOTETAKER_BUTTON_FILTER_ALL_TEXT"),tooltip:this._rb.getText("NOTETAKER_BUTTON_FILTER_ALL_TOOLTIP"),press:function(){t._handleResetFilters()}});this._oFilterAllButton.addStyleClass("sapSuiteUiCommonsNoteTakerFilterAllButton");this._oSearchButton=new sap.ui.commons.Button({id:this.getId()+"-filter-search-button",tooltip:this._rb.getText("NOTETAKER_BUTTON_SEARCH_TOOLTIP"),press:function(){t._handleSearchPopup()}});this._oSearchButton.addStyleClass("sapSuiteUiCommonsNoteTakerSearchBtn");this._oFilterSearchField=new sap.ui.commons.SearchField({id:this.getId()+"-filter-searchField",tooltip:this._rb.getText("NOTETAKER_BUTTON_SEARCH_TOOLTIP"),showListExpander:false,enableFilterMode:true,enableListSuggest:false,search:function(e){t._handleSearchingByText(e.getParameter("query"))}});this._oFilterSearchField.addStyleClass("suiteUiNtFilterSearchField");this._oFilterTagList=new sap.ui.commons.ListBox({id:this.getId()+"-filterTag-listBox",allowMultiSelect:true,visibleItems:10,width:"100%",height:"194px"});this._oCancelFilterTagButton=new sap.ui.commons.Button({id:this.getId()+"-cancel-filterTags-button",text:this._rb.getText("NOTETAKERFEEDER_BUTTON_CANCEL_TAGS"),tooltip:this._rb.getText("NOTETAKERFEEDER_BUTTON_CANCEL_TAGS_TOOLTIP"),press:function(){t._toggleFilterTagPopup()}});this._oCancelFilterTagButton.addStyleClass("sapSuiteUiCommonsNoteTakerCancelFilterTagButton");this._oApplyFilterTagButton=new sap.ui.commons.Button({id:this.getId()+"-apply-filterTags-button",text:this._rb.getText("NOTETAKER_BUTTON_FILTER_TAG_APPLY_TEXT"),tooltip:this._rb.getText("NOTETAKER_BUTTON_FILTER_TAG_APPLY_TOOLTIP"),press:function(){t._toggleFilterTagPopup();setTimeout(function(){t._handleFilteringByTags()},400)}})};sap.suite.ui.commons.NoteTaker.prototype.onBeforeRendering=function(){this._carousel.setVisibleItems(this.getVisibleNotes());this._adjustFilteringButtonsStyle();this._feeder.setAttachmentName(this.getAttachmentName())};sap.suite.ui.commons.NoteTaker.prototype.onAfterRendering=function(){this._adjustPopupState();if(!this.getAttachmentUploadUrl()){jQuery.sap.byId(this._feeder._oAddAttachButton.getId()).hide()};jQuery.sap.byId(this._oFilterThumbUpButton.getId()).attr("aria-pressed",this.getFilterCriteria()&&this.getFilterCriteria().thumbUp);jQuery.sap.byId(this._oFilterThumbDownButton.getId()).attr("aria-pressed",this.getFilterCriteria()&&this.getFilterCriteria().thumbDown)};sap.suite.ui.commons.NoteTaker.prototype.exit=function(){this.destroyAggregation("carousel",true);this._carousel=null;this._oHomeButton.destroy();this._oHomeButton=null;this._oFilterTagButton.destroy();this._oFilterTagButton=null;this._oFilterThumbUpButton.destroy();this._oFilterThumbUpButton=null;this._oFilterThumbDownButton.destroy();this._oFilterThumbDownButton=null;this._oFilterAllButton.destroy();this._oFilterAllButton=null;this._oFilterTagList.destroy();this._oFilterTagList=null;this._oCancelFilterTagButton.destroy();this._oCancelFilterTagButton=null;this._oApplyFilterTagButton.destroy();this._oApplyFilterTagButton=null;this._oFilterSearchField.destroy();this._oFilterSearchField=null;this._oSearchButton.destroy();this._oSearchButton=null};sap.suite.ui.commons.NoteTaker.prototype._handleAddNote=function(e){var t=e.getParameter("title");var b=e.getParameter("body");var a=e.getParameter("timestamp");var c=e.getParameter("tags");var d=e.getParameter("thumbUp");var f=e.getParameter("thumbDown");var g=e.getParameter("attachmentFilename");var h={};h.title=t;h.body=b;h.timestamp=a;h.viewAllTrigger=this.getCardViewAllTrigger();h.tags=c;h.thumbUp=d;h.thumbDown=f;h.attachmentFilename=g;h.uid=this._nextCardUid;h.attachmentUrl=this._nextCardAttachmentUrl;var B=this.getBinding("cards");if(B){this.fireAddCard(h);var T=new sap.ui.model.Sorter("timestamp",true);B.sort(T)}else{var n=new sap.suite.ui.commons.NoteTakerCard();n.setBody(b);n.setHeader(t);n.setTimestamp(a);n.setViewAllTrigger(this.getCardViewAllTrigger());n.setTags(c);n.setThumbUp(d);n.setThumbDown(f);n.setAttachmentFilename(g);n.setUid(this._nextCardUid);n.setAttachmentUrl(this._nextCardAttachmentUrl);this.insertCard(n,0);h.card=n;this.fireAddCard(h)}this._nextCardUid=null;this._nextCardAttachmentUrl=null;this._filter()};sap.suite.ui.commons.NoteTaker.prototype.addCard=function(c){this._addDeleteDelegate(c);this._addEditDelegate(c);this._addAttachmentDelegate(c);this.getNotFilteredCards().push(c);this._carousel.addContent(c);this._sortIfNeeded();this._spreadTagList();return this};sap.suite.ui.commons.NoteTaker.prototype.getCards=function(){return this._carousel.getContent().slice(1)};sap.suite.ui.commons.NoteTaker.prototype.insertCard=function(c,i){this._addDeleteDelegate(c);this._addEditDelegate(c);this._addAttachmentDelegate(c);this.getNotFilteredCards().push(c);this._carousel.insertContent(c,++i);this._spreadTagList();return this};sap.suite.ui.commons.NoteTaker.prototype.removeCard=function(c){this._spreadTagList();return this._carousel.removeContent(c)};sap.suite.ui.commons.NoteTaker.prototype.removeAllCards=function(){var c=this._carousel.removeAllContent();this._feeder.setTags([]);this._carousel.addContent(this._feeder);return c.slice(1)};sap.suite.ui.commons.NoteTaker.prototype.indexOfCard=function(c){var i=this._carousel.indexOfContent(c);return(i>0)?--i:-1};sap.suite.ui.commons.NoteTaker.prototype.destroyCards=function(){this._carousel.destroyContent();this._carousel.addContent(this._createFeederAndAddToThis());return this};sap.suite.ui.commons.NoteTaker.prototype._createFeederAndAddToThis=function(){var t=this;this._feeder=new sap.suite.ui.commons.NoteTakerFeeder({id:this.getId()+"-feeder",attachmentName:t.getAttachmentName(),addNote:function(e){t._handleAddNote(e)},attachmentUploadUrl:t.getAttachmentUploadUrl(),attachmentSelect:function(e){var a={filename:e.getParameter("filename")};t.fireAttachmentSelect(a)},attachmentUploadComplete:function(e){var a={response:e.getParameter("response"),uid:t._nextCardUid};t.fireAttachmentUploadComplete(a);this._oAttachmentLink.setHref(t._nextCardAttachmentUrl);this._oAttachmentLink.rerender()},attachmentDelete:function(e){var a={filename:e.getParameter("filename"),uid:t._nextCardUid};t.fireAttachmentDelete(a)},attachmentClick:function(e){var a={filename:e.getParameter("filename"),uid:t._nextCardUid,isCardAttachment:false};t.fireAttachmentClick(a)}});this._spreadTagList();return this._feeder};sap.suite.ui.commons.NoteTaker.prototype._sortIfNeeded=function(){var b=this.getBinding();if(b==undefined){var c=this.getCards();c.sort(function(C,o){return o.getTimestamp().getTime()-C.getTimestamp().getTime()});this.removeAllCards();for(var i=0;i<c.length;i++){this._carousel.addContent(c[i])}}};sap.suite.ui.commons.NoteTaker.prototype.getAllTags=function(){var b=this.getBinding("cards");var c=b?this.getCards():this.getNotFilteredCards();var t={};var r=[];for(var i=0;i<c.length;i++){var T=c[i].getTags();for(var j=0;j<T.length;j++){if(T[j]!=""){t[T[j]]=true}}}for(var a in t){r.push(a)}return r.sort()};sap.suite.ui.commons.NoteTaker.prototype._handleDeleteNote=function(e){var b=this.getBinding("cards");var a={};a.title=e.getParameter("title");a.timestamp=e.getParameter("timestamp");a.body=e.getParameter("body");a.uid=e.getParameter("uid");a.thumbUp=e.getParameter("thumbUp");a.thumbDown=e.getParameter("thumbDown");if(b){this.fireDeleteCard(a)}else{var c=e.getParameter("cardId");var d=this.getNotFilteredCards();for(var i=0;i<d.length;i++){if(d[i].getId()==c){d.splice(i,1)}}this.removeCard(c);this.fireDeleteCard(a)}};sap.suite.ui.commons.NoteTaker.prototype._handleEditNote=function(e){var a={};a.title=e.getParameter("title");a.timestamp=e.getParameter("timestamp");a.body=e.getParameter("body");a.uid=e.getParameter("uid");a.thumbUp=e.getParameter("thumbUp");a.thumbDown=e.getParameter("thumbDown");a.tags=e.getParameter("tags");this.fireEditCard(a);this._sortIfNeeded();this._spreadTagList()};sap.suite.ui.commons.NoteTaker.prototype._addDeleteDelegate=function(c){var t=this;c.attachDeleteNote(function(e){t._handleDeleteNote(e)})};sap.suite.ui.commons.NoteTaker.prototype._addEditDelegate=function(c){var t=this;c.attachEditNote(function(e){t._handleEditNote(e)})};sap.suite.ui.commons.NoteTaker.prototype._handleHomeButton=function(){this._carousel.setFirstVisibleIndex(0);this._feeder._focusDefaultControl()};sap.suite.ui.commons.NoteTaker.prototype.setFilterCriteria=function(f){this.setProperty("filterCriteria",f);this._filter();return this};sap.suite.ui.commons.NoteTaker.prototype._toggleFilterTagPopup=function(){if(this._bFilterTagPopupOpen){jQuery.sap.byId(this.getId()+"-filterTag-panel").slideToggle();this._bFilterTagPopupOpen=false}else{this._addTagsToFilterListBox(this.getAllTags());jQuery.sap.byId(this.getId()+"-filterTag-panel").slideToggle();this._oFilterTagList.focus();this._bFilterTagPopupOpen=true}};sap.suite.ui.commons.NoteTaker.prototype._addTagsToFilterListBox=function(t){var s=[];var f=this._getFilterTags();var l=jQuery.map(t,function(v,i){if(f.indexOf){if(f.indexOf(v)>=0){s.push(i)}}else{for(var k in f){if(f[k]==v){s.push(i);break}}}return new sap.ui.core.ListItem({text:v})});this._oFilterTagList.setItems(l,true);this._oFilterTagList.setSelectedIndices(s);this._oFilterTagList.rerender()};sap.suite.ui.commons.NoteTaker.prototype._cloneFilterCriteria=function(){var f=this.getFilterCriteria();var n={};if(f){for(var p in f){n[p]=f[p]}}return n};sap.suite.ui.commons.NoteTaker.prototype._handleFilteringByTags=function(){var f=this._cloneFilterCriteria();var s=this._oFilterTagList.getSelectedItems();var t=[];for(var i in s){t.push(s[i].getText())}f.tags=t;this.setFilterCriteria(f)};sap.suite.ui.commons.NoteTaker.prototype._handleFilteringByThumbUp=function(){var f=this._cloneFilterCriteria();f.thumbUp=!f.thumbUp;this.setFilterCriteria(f)};sap.suite.ui.commons.NoteTaker.prototype._handleFilteringByThumbDown=function(){var f=this._cloneFilterCriteria();f.thumbDown=!f.thumbDown;this.setFilterCriteria(f)};sap.suite.ui.commons.NoteTaker.prototype._handleResetFilters=function(){var f=this.getFilterCriteria();var n=null;if(f&&f.search&&f.search.length>0){n={};n.search=f.search}this.setFilterCriteria(n)};sap.suite.ui.commons.NoteTaker.prototype._handleSearchingByText=function(s){var f=this._cloneFilterCriteria();var S=[];var n=s.split(new RegExp("\\s+"));for(var i=0;i<n.length;i++){if(n[i].length>0){S.push(n[i])}}f.search=S;this.setFilterCriteria(f)};sap.suite.ui.commons.NoteTaker.prototype._adjustFilterTagButton=function(){var f=this._getFilterTags();if(f.length){this._oFilterTagButton.setTooltip(this._rb.getText("NOTETAKER_BUTTON_FILTER_TAG_APPLY_SELECTED_TOOLTIP")+": "+f.join(" "));this._oFilterTagButton.addStyleClass("sapSuiteUiCommonsNoteTakerFilterButtonSelected")}else{this._oFilterTagButton.setTooltip(this._rb.getText("NOTETAKER_BUTTON_FILTER_TAG_TOOLTIP"));this._oFilterTagButton.removeStyleClass("sapSuiteUiCommonsNoteTakerFilterButtonSelected")}};sap.suite.ui.commons.NoteTaker.prototype._handleSearchPopup=function(){if(this._bSearchPopupOpen){jQuery.sap.byId(this.getId()+"-search-panel").slideToggle();this._bSearchPopupOpen=false}else{var p=jQuery.sap.byId(this.getId()+"-filter-search-button").position();jQuery.sap.byId(this.getId()+"-search-panel").css("right",p.right-20).slideToggle();this._oFilterSearchField.focus();this._bSearchPopupOpen=true}};sap.suite.ui.commons.NoteTaker.prototype._adjustSearchButton=function(){var s=this._oFilterSearchField.getValue();if(s.length){this._oSearchButton.setTooltip(this._rb.getText("NOTETAKER_BUTTON_SEARCHED_BY_TOOLTIP")+": "+s);this._oFilterSearchField.setTooltip(this._rb.getText("NOTETAKER_BUTTON_SEARCHED_BY_TOOLTIP")+": "+s);this._oSearchButton.addStyleClass("sapSuiteUiCommonsNoteTakerFilterButtonSelected")}else{this._oSearchButton.setTooltip(this._rb.getText("NOTETAKER_BUTTON_SEARCH_TOOLTIP"));this._oFilterSearchField.setTooltip(this._rb.getText("NOTETAKER_BUTTON_SEARCH_TOOLTIP"));this._oSearchButton.removeStyleClass("sapSuiteUiCommonsNoteTakerFilterButtonSelected")}};sap.suite.ui.commons.NoteTaker.prototype._getFilterTags=function(){var f=this.getFilterCriteria();if(f&&f.tags&&f.tags.length){return f.tags}else{return[]}};sap.suite.ui.commons.NoteTaker.prototype._adjustPopupState=function(){var t=jQuery.sap.byId(this.getId()+"-filterTag-button").position();jQuery.sap.byId(this.getId()+"-filterTag-panel").css("left",t.left-20);if(this._bFilterTagPopupOpen){jQuery.sap.byId(this.getId()+"-filterTag-panel").show()}if(this._bSearchPopupOpen){jQuery.sap.byId(this.getId()+"-search-panel").show()}};sap.suite.ui.commons.NoteTaker.prototype._adjustFilteringButtonsStyle=function(){this._adjustFilterTagButton();this._adjustFilteringByThumbUpButtonStyle();this._adjustFilteringByThumbDownButtonStyle();this._adjustSearchButton()};sap.suite.ui.commons.NoteTaker.prototype._adjustFilteringByThumbUpButtonStyle=function(){if(this.getFilterCriteria()&&this.getFilterCriteria().thumbUp){this._oFilterThumbUpButton.addStyleClass("sapSuiteUiCommonsNoteTakerFilterButtonSelected")}else{this._oFilterThumbUpButton.removeStyleClass("sapSuiteUiCommonsNoteTakerFilterButtonSelected")}};sap.suite.ui.commons.NoteTaker.prototype._adjustFilteringByThumbDownButtonStyle=function(){if(this.getFilterCriteria()&&this.getFilterCriteria().thumbDown){this._oFilterThumbDownButton.addStyleClass("sapSuiteUiCommonsNoteTakerFilterButtonSelected")}else{this._oFilterThumbDownButton.removeStyleClass("sapSuiteUiCommonsNoteTakerFilterButtonSelected")}};sap.suite.ui.commons.NoteTaker.prototype.getNotFilteredCards=function(){if(!this._notFilteredCards){this._notFilteredCards=[]}return this._notFilteredCards};sap.suite.ui.commons.NoteTaker.prototype._spreadTagList=function(){var a=this.getAllTags();this._feeder.setTags(a);var c=this.getCards();for(var i=0;i<c.length;i++){c[i].setAllTags(a)}};sap.suite.ui.commons.NoteTaker.prototype._filter=function(){var b=this.getBinding("cards");var c;var i;if(b){var m=this.getModel().oData['cards'];for(i=0;i<m.length;i++){c=m[i];c.isFiltered=this._applyFilters(c)}this.getModel().updateBindings();b.filter([new sap.ui.model.Filter("isFiltered",sap.ui.model.FilterOperator.EQ,false)])}else{var n=this.getNotFilteredCards();var v=this.getCards();if(n.length==0&&v.length>0){this.setNotFilteredCards(v);n=v}for(i=0;i<n.length;i++){c=n[i];c.setIsFiltered(this._applyFilters(c));if(c.getIsFiltered()){this.removeCard(c)}else if(this.indexOfCard(c)<0){this.addCard(c)}}}};sap.suite.ui.commons.NoteTaker.prototype._applyFilters=function(c){var f=true;if(this.getFilterCriteria()){for(var i=0;(i<this._filters.length)&&f;i++){var F=this._filters[i];f=F.call(this,c)}}return!f};sap.suite.ui.commons.NoteTaker.prototype._validateCardByThumbsFilter=function(c){if(c.getThumbUp&&c.getThumbDown){return this._applyThumbsFilter(c.getThumbUp(),c.getThumbDown())}else{return this._applyThumbsFilter(c.thumbUp,c.thumbDown)}};sap.suite.ui.commons.NoteTaker.prototype._validateCardByTagsFilter=function(c){if(c.getTags){return this._applyTagsFilter(c.getTags())}else{return this._applyTagsFilter(c.tags)}};sap.suite.ui.commons.NoteTaker.prototype._validateCardByTextSearch=function(c){if(c.getBody){return this._applyTextSearch(c.getBody(),c.getHeader())}else{return this._applyTextSearch(c.body,c.header)}};sap.suite.ui.commons.NoteTaker.prototype._applyThumbsFilter=function(t,T){var r=true;var f=this.getFilterCriteria();if(f.thumbUp&&f.thumbDown){r=t||T}else if(f.thumbUp){r=t}else if(f.thumbDown){r=T}return r};sap.suite.ui.commons.NoteTaker.prototype._applyTagsFilter=function(t){var r=true;var f=this.getFilterCriteria();if(f.tags&&f.tags.length>0){var i,j;var T=f.tags;r=false;for(i=0;i<T.length&&!r;i++){for(j=0;t&&(j<t.length);j++){if(T[i]==t[j]){r=true;break}}}}return r};sap.suite.ui.commons.NoteTaker.prototype._applyTextSearch=function(b,h){var r=true;var f=this.getFilterCriteria();if(f.search&&f.search.length>0){var s=f.search;r=false;b=b.toLowerCase();h=h?h.toLowerCase():null;for(var i=0;i<s.length;i++){var w=s[i].toLowerCase();if((b.indexOf(w)>=0)||(h&&h.indexOf(w)>=0)){r=true;break}}}return r};sap.suite.ui.commons.NoteTaker.prototype.setAttachmentUploadUrl=function(u){this.setProperty("attachmentUploadUrl",u,true);this._feeder.setAttachmentUploadUrl(u);return this};sap.suite.ui.commons.NoteTaker.prototype._filters=[sap.suite.ui.commons.NoteTaker.prototype._validateCardByThumbsFilter,sap.suite.ui.commons.NoteTaker.prototype._validateCardByTagsFilter,sap.suite.ui.commons.NoteTaker.prototype._validateCardByTextSearch];sap.suite.ui.commons.NoteTaker.prototype.setNextCardUid=function(u){this._nextCardUid=u;return this};sap.suite.ui.commons.NoteTaker.prototype._addAttachmentDelegate=function(c){var t=this;c.attachAttachmentClick(function(e){t._handleCardAttachmentClick(e)})};sap.suite.ui.commons.NoteTaker.prototype._handleCardAttachmentClick=function(e){var a={filename:e.getParameter("filename"),uid:e.getParameter("uid"),isCardAttachment:true};this.fireAttachmentClick(a)};sap.suite.ui.commons.NoteTaker.prototype.uploadAttachment=function(){this._feeder._oFileUploader.upload()};sap.suite.ui.commons.NoteTaker.prototype.setAttachmentData=function(a){this._feeder._oFileUploader.setAdditionalData(a);return this};sap.suite.ui.commons.NoteTaker.prototype.handleAttachmentUploadFail=function(){this._feeder._handleDeleteAttachUI();return this};sap.suite.ui.commons.NoteTaker.prototype.setNextCardAttachmentUrl=function(u){this._nextCardAttachmentUrl=u;return this}}())};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NoteTakerCard')){jQuery.sap.declare("sap.suite.ui.commons.NoteTakerCard");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.NoteTakerCard",{metadata:{library:"sap.suite.ui.commons",properties:{"header":{type:"string",group:"Misc",defaultValue:null},"body":{type:"string",group:"Misc",defaultValue:null},"timestamp":{type:"object",group:"Misc",defaultValue:new Date()},"tags":{type:"object",group:"Misc",defaultValue:[]},"viewAllTrigger":{type:"int",group:"Misc",defaultValue:1800},"uid":{type:"string",group:"Misc",defaultValue:null},"isFiltered":{type:"boolean",group:"Misc",defaultValue:false},"thumbUp":{type:"boolean",group:"Misc",defaultValue:null},"thumbDown":{type:"boolean",group:"Misc",defaultValue:null},"allTags":{type:"object",group:"Misc",defaultValue:[]},"attachmentFilename":{type:"string",group:"Misc",defaultValue:null},"attachmentUrl":{type:"string",group:"Misc",defaultValue:null}},events:{"editNote":{},"deleteNote":{},"attachmentClick":{}}}});sap.suite.ui.commons.NoteTakerCard.M_EVENTS={'editNote':'editNote','deleteNote':'deleteNote','attachmentClick':'attachmentClick'};jQuery.sap.require('sap.ui.core.Locale');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.ux3.OverlayContainer');jQuery.sap.require('sap.ui.commons.Link');jQuery.sap.require('sap.ui.commons.MessageBox');sap.suite.ui.commons.NoteTakerCard.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");var t=this;this._oEditButton=new sap.ui.commons.Button({id:this.getId()+"-edit-button",press:function(e){t._handleEdit()},tooltip:this._rb.getText("NOTETAKERCARD_BUTTON_OPEN_EDIT_TOOLTIP")});this._oEditButton.addStyleClass("sapSuiteUiCommonsNoteTakerCardEditButton");this._oDeleteButton=new sap.ui.commons.Button({id:this.getId()+"-delete-button",tooltip:this._rb.getText("NOTETAKERCARD_BUTTON_DELETE_TOOLTIP"),press:function(){t._handleDelete()}});this._oDeleteButton.addStyleClass("sapSuiteUiCommonsNoteTakerCardDeleteButton");this._oViewAllLink=new sap.ui.commons.Link({id:this.getId()+"-viewAll-link",text:this._rb.getText("NOTETAKERCARD_LINK_VIEW_ALL_TEXT"),tooltip:this._rb.getText("NOTETAKERCARD_LINK_VIEW_ALL_TOOLTIP"),press:function(){t._openOverlay()}});this._oOverlayCard=new sap.ui.ux3.OverlayContainer(this.getId()+"-overlay",{openButtonVisible:false,close:function(e){t._handleOverlayCloseEvent(e.getSource());e.preventDefault()}});this._oOverlayCard.addDelegate({onAfterRendering:function(){var o=jQuery.sap.byId(t.getId()+"-overlayTimestamp");if(o){o.html(t.getFormattedTimestamp())}}});this._oOverlayCard._superOnsapselect=this._oOverlayCard.onsapselect;this._oOverlayCard.onsapselect=function(e){var c=e.srcControl.getId();if(c.indexOf("-overlayBody")<0&&c.indexOf("-inputTag")<0&&c.indexOf("-overlayCardTitle")<0){e.stopPropagation();e.preventDefault()}setTimeout(function(){t._oOverlayCard._superOnsapselect(e)},10)};this._oOverlayCard.addStyleClass("sapSuiteCommonsNoteTakerCardOverlayWindow");this._oOverlayCard._tagControls={}};sap.suite.ui.commons.NoteTakerCard.prototype.exit=function(){this._oDeleteButton.destroy();this._oDeleteButton=null;this._oEditButton.destroy();this._oEditButton=null;this._oViewAllLink.destroy();this._oViewAllLink=null;this._oOverlayCard.destroy();this._oOverlayCard=null};sap.suite.ui.commons.NoteTakerCard.prototype.getFormattedTimestamp=function(){var l=sap.ui.getCore().getConfiguration().getLocale();var d=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"medium"},l);return d.format(this.getTimestamp())};sap.suite.ui.commons.NoteTakerCard.prototype._handleOverlayCloseEvent=function(c){if(c.bEditMode){var t=this;sap.ui.commons.MessageBox.show(this._rb.getText("NOTETAKERCARD_CONFIRMATION_CANCEL_EDIT_MESSAGE"),sap.ui.commons.MessageBox.Icon.QUESTION,this._rb.getText("NOTETAKERCARD_CONFIRMATION_CANCEL_EDIT_TITLE"),[sap.ui.commons.MessageBox.Action.YES,sap.ui.commons.MessageBox.Action.NO],function(r){if(r==sap.ui.commons.MessageBox.Action.YES){t._closeOverlay();t._oEditButton.focus()}else{jQuery.sap.focus(jQuery.sap.domById(t.getId()+"-overlayBody"))}},sap.ui.commons.MessageBox.Action.NO)}else{this._closeOverlay()}};sap.suite.ui.commons.NoteTakerCard.prototype._closeOverlay=function(){this._destroyTagControls();this._oOverlayCard.bEditMode=false;this._oOverlayCard.destroyContent();this._oOverlayCard.close()};sap.suite.ui.commons.NoteTakerCard.prototype._openOverlay=function(e){var i;if(!this._oOverlayCard.isOpen()){this._oOverlayCard.bThumbUp=this.getThumbUp();this._oOverlayCard.bThumbDown=this.getThumbDown();this._prepareOverlayLayouts();this._prepareOverlayToolbar(e);this._prepareOverlayHeaderBtns(e);this._prepareOverlayBody();this._prepareOverlayButtons(e);if(e){i=this.getId()+"-overlayBody"}else{i=this.getId()+"-overlay-close"}this._oOverlayCard.open(i);jQuery.sap.byId(this.getId()+"-overlay-thumb-down-button").attr("aria-pressed",this.getThumbDown());jQuery.sap.byId(this.getId()+"-overlay-thumb-up-button").attr("aria-pressed",this.getThumbUp())}};sap.suite.ui.commons.NoteTakerCard.prototype._getFormattedBody=function(){var b=[];var t=this.getBody();do{var p=t.search(/[\s<>]/);var s="",w="";if(p<0){w=t}else{w=t.slice(0,p);s=t.slice(p,p+1);t=t.slice(p+1)}switch(true){case(this._isFullUrl(w)):this.wrapFullUrl(b,w,s);break;case(this._isShortUrl(w)):this._wrapShortUrl(b,w,s);break;case(this._isEmail(w)):this._wrapEmail(b,w,s);break;default:b.push(jQuery.sap.encodeHTML(w+s))}}while(p>=0);return b.join("")};sap.suite.ui.commons.NoteTakerCard.prototype._isFullUrl=function(w){return/^(https?|ftp):\/\//i.test(w)&&jQuery.sap.validateUrl(w)};sap.suite.ui.commons.NoteTakerCard.prototype._isShortUrl=function(w){return/^(www\.)/i.test(w)&&jQuery.sap.validateUrl("http://"+w)};sap.suite.ui.commons.NoteTakerCard.prototype._isEmail=function(w){return/^[\w\.=-]+@[\w\.-]+\.[\w]{2,5}$/.test(w)};sap.suite.ui.commons.NoteTakerCard.prototype.wrapFullUrl=function(b,w,s){b.push('<a class="sapUiLnk" ');b.push('href = '+'"'+jQuery.sap.encodeHTML(w)+'"');b.push(' target = "_blank"');b.push('>');b.push(jQuery.sap.encodeHTML(w));b.push('</a>'+s)};sap.suite.ui.commons.NoteTakerCard.prototype._wrapShortUrl=function(b,w,s){b.push('<a class="sapUiLnk" ');b.push('href = '+'"'+jQuery.sap.encodeHTML("http://"+w)+'"');b.push(' target = "_blank"');b.push('>');b.push(jQuery.sap.encodeHTML(w));b.push('</a>'+s)};sap.suite.ui.commons.NoteTakerCard.prototype._wrapEmail=function(b,w,s){b.push('<a class="sapUiLnk" ');b.push('href = "mailto:'+jQuery.sap.encodeHTML(w)+'"');b.push('>');b.push(jQuery.sap.encodeHTML(w));b.push('</a>'+s)};sap.suite.ui.commons.NoteTakerCard.prototype._wrapBodyToDiv=function(t){return"<div class='sapSuiteUiCommonsNoteTakerCardBody'>"+t+"</div>"};sap.suite.ui.commons.NoteTakerCard.prototype._wrapTagPanelToDiv=function(t,e){if(e){return"<div class='suiteUiNtcOverlayTagPanelEditMode'>"+t+"</div>"}else{return"<div class='suiteUiNtcOverlayTagPanelViewMode'>"+t+"</div>"}};sap.suite.ui.commons.NoteTakerCard.prototype._handleEdit=function(){this._openOverlay(true)};sap.suite.ui.commons.NoteTakerCard.prototype._getFormattedTags=function(){var b=[];var t;if(this._oOverlayCard.isOpen()){t=this._oOverlayCard._selectedTags}else{t=this.getTags()}b.push("<div id='"+this.getId()+"-tag-list' class='sapSuiteUiCommonsNoteTakerCardTagList'>");if(t.length==0){b.push(this._rb.getText("NOTETAKERCARD_LABEL_TAGS_EMPTY"))}else{b.push(this._rb.getText("NOTETAKERCARD_LABEL_TAGS_FULL")+": ");var T=jQuery.sap.encodeHTML(t.sort().join(" "));b.push("<span title='"+T+"'>");b.push(T);b.push("</span>")}b.push("</div>");return b.join("")};sap.suite.ui.commons.NoteTakerCard.prototype._handleDelete=function(c){var t=this;sap.ui.commons.MessageBox.show(this._rb.getText("NOTETAKERCARD_CONFIRMATION_DELETE_MESSAGE"),sap.ui.commons.MessageBox.Icon.QUESTION,this._rb.getText("NOTETAKERCARD_CONFIRMATION_DELETE_TITLE"),[sap.ui.commons.MessageBox.Action.YES,sap.ui.commons.MessageBox.Action.NO],function(r){if(r==sap.ui.commons.MessageBox.Action.YES){if(c){t._closeOverlay()}t._handleDeleteClick()}},sap.ui.commons.MessageBox.Action.NO)};sap.suite.ui.commons.NoteTakerCard.prototype._handleDeleteClick=function(){var e={};e.uid=this.getUid();e.cardId=this.getId();e.title=this.getHeader();e.timestamp=this.getTimestamp();e.body=this.getBody();e.thumbUp=this.getThumbUp();e.thumbDown=this.getThumbDown();this.fireDeleteNote(e)};sap.suite.ui.commons.NoteTakerCard.prototype.setUid=function(u){this.setProperty("uid",u,true);return this};sap.suite.ui.commons.NoteTakerCard.prototype._wrapThumbToDiv=function(i){var c=null;var t=null;if(this.getThumbUp()&&!this.getThumbDown()){c="sapSuiteUiCommonsNoteTakerCardThumbUp";t=this._rb.getText("NOTETAKERCARD_ICON_THUMB_UP_TOOLTIP");this._oOverlayCard.removeStyleClass("suiteUiNtcNegativeCard");this._oOverlayCard.addStyleClass("suiteUiNtcPositiveCard")}else if(!this.getThumbUp()&&this.getThumbDown()){c="sapSuiteUiCommonsNoteTakerCardThumbDown";t=this._rb.getText("NOTETAKERCARD_ICON_THUMB_DOWN_TOOLTIP");this._oOverlayCard.removeStyleClass("suiteUiNtcPositiveCard");this._oOverlayCard.addStyleClass("suiteUiNtcNegativeCard")}else{this._oOverlayCard.removeStyleClass("suiteUiNtcPositiveCard");this._oOverlayCard.removeStyleClass("suiteUiNtcNegativeCard")}var b=[];b.push("<div");if(i){b.push(" id='");b.push(i);b.push("'")}if(c){b.push(" class='");b.push(c);b.push("'");b.push(" title='");b.push(t);b.push("'")}b.push("></div>");return b.join("")};sap.suite.ui.commons.NoteTakerCard.prototype._handleAddTag=function(t){this._oOverlayCard._selectedTags=[];var n=t.split(new RegExp("\\s+"));var T={};for(var i=0;i<n.length;i++){if(n[i].length!=0){T[n[i]]=0}}for(var f in T){this._oOverlayCard._selectedTags.push(f)}var o=sap.ui.getCore().byId(this.getId()+'-overlayTagPanel');o.setContent(this._wrapTagPanelToDiv(this._getFormattedTags(),true));this._adjustTagButton()};sap.suite.ui.commons.NoteTakerCard.prototype._adjustTagButton=function(){var t=this._oOverlayCard._tagControls.tagButton;if(this._oOverlayCard._selectedTags.length){t.addStyleClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")}else{t.removeStyleClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")}};sap.suite.ui.commons.NoteTakerCard.prototype._toggleTagPopup=function(){var s=this._oOverlayCard._selectedTags;if(this._bTagPopupOpen){jQuery.sap.byId(this.getId()+"-selectTag-panel").slideToggle();this._focusDefaultControl();this._bTagPopupOpen=false}else{this._addTagsToListBox(this.getAllTags());jQuery.sap.byId(this.getId()+"-selectTag-panel").slideToggle();jQuery.sap.byId(this.getId()+"-inputTag").val(s.length==0?"":s.join(" ")+" ");this._oOverlayCard._tagControls.tagInput.focus();this._bTagPopupOpen=true}};sap.suite.ui.commons.NoteTakerCard.prototype._focusDefaultControl=function(){this._oOverlayCard._tagControls.tagButton.focus()};sap.suite.ui.commons.NoteTakerCard.prototype._handleTagInputLive=function(e){var l=e.getParameter("liveValue");var n=l.split(" ");var c=n[n.length-1];this._filterListBox(c)};sap.suite.ui.commons.NoteTakerCard.prototype._filterListBox=function(i){if(i.length==0){this._addTagsToListBox(this.getAllTags());return}var f=jQuery.grep(this.getAllTags(),function(a){if(a.indexOf(i)>=0){return true}});this._addTagsToListBox(f)};sap.suite.ui.commons.NoteTakerCard.prototype._addTagsToListBox=function(t){var l=jQuery.map(t,function(v,i){return new sap.ui.core.ListItem({text:v})});this._oOverlayCard._tagControls.tagList.setItems(l,true);this._oOverlayCard._tagControls.tagList.rerender()};sap.suite.ui.commons.NoteTakerCard.prototype._handleListSelect=function(e){var s=e.getParameter("selectedItem").getText();var t=this._oOverlayCard._tagControls.tagInput;var T=t.getValue();var n=T.split(" ");n.pop();if(n.length==0){t.setValue(s+" ")}else{t.setValue(n.join(" ")+" "+s+" ")}this._oOverlayCard._tagControls.tagList.setSelectedIndex(-1);t.focus()};sap.suite.ui.commons.NoteTakerCard.prototype._destroyTagControls=function(){var t=this._oOverlayCard._tagControls;for(var c in t){t[c].destroy()}this._oOverlayCard._tagControls={}};sap.suite.ui.commons.NoteTakerCard.prototype._createTagSelectorControl=function(){var t=this._oOverlayCard._tagControls;var T=new sap.ui.commons.layout.VerticalLayout({id:this.getId()+"-selectTag-panel"});T.addStyleClass("sapSuiteUiCommonsNoteTakerFeederSelectTagPanel");T.addStyleClass("sapUiShd");t.tagSelectorLayout=T;T.addContent(new sap.ui.core.HTML(this.getId()+"-selectTag-arrow",{content:"<div class='sapSuiteUiCommonsNoteTakerFeederSelectTagArrow' ></div>"}));T.addContent(new sap.ui.core.HTML(this.getId()+"-selectTag-header",{content:["<div class='sapSuiteUiCommonsNoteTakerFeederSelectTagHeader' >",this._rb.getText("NOTETAKERFEEDER_TOOLPOPUP_TITLE"),"</div>"].join("")}));T.addContent(t.tagInput);T.addContent(t.tagList);var o=new sap.ui.commons.layout.HorizontalLayout();o.addStyleClass("sapSuiteUiCommonsNoteTakerFeederSelectTagButtons");o.addContent(t.tagApplyBtn);o.addContent(t.tagCancelBtn);T.addContent(o);return T};sap.suite.ui.commons.NoteTakerCard.prototype._prepareAttachmentPanel=function(i){var I=i?"-overlay":"";var c=i?"Overlay":"";var s=[this.getId(),I,"-attachmentPanel"].join("");var C=sap.ui.getCore().byId(s);if(C){C.destroy()}var a=new sap.ui.commons.layout.HorizontalLayout(s);a.addStyleClass(["suiteUiNtc",c,"AttachmentPanel"].join(""));a.addContent(new sap.ui.core.HTML({content:"<div class='suiteUiNtcAttachmentIcon'></div>"}));var A=new sap.ui.commons.Link({id:[this.getId(),I,"-attachmentLink"].join(""),text:this.getAttachmentFilename(),tooltip:this._rb.getText("NOTETAKERCARD_LINK_ATTACHMENT_TOOLTIP"),press:this._handleAttachmentDownload,href:this.getAttachmentUrl()});A._ntc=this;a.addContent(A);return a};sap.suite.ui.commons.NoteTakerCard.prototype._prepareOverlayLayouts=function(){var t=new sap.ui.commons.layout.VerticalLayout();var h=new sap.ui.commons.layout.VerticalLayout();h.addStyleClass("sapSuiteUiCommonsNtcOverlayTitle");var H=new sap.ui.commons.layout.HorizontalLayout();H.addStyleClass("sapSuiteUiCommonsNtcHeaderButtons");var o=new sap.ui.commons.layout.HorizontalLayout(this.getId()+'-overlayHeader',{content:[h,H]});o.addStyleClass("sapSuiteUiCommonsNtcOverlayHeader");t.addContent(o);var T=new sap.ui.commons.layout.HorizontalLayout(this.getId()+'-overlayToolbar');T.addStyleClass("suiteUiNtcToolbar");var a=new sap.ui.commons.layout.HorizontalLayout();a.addStyleClass("suiteUiNtcOverlayToolbarLeftPanel");var b=new sap.ui.commons.layout.HorizontalLayout();b.addStyleClass("suiteUiNtcOverlayToolbarRightPanel");T.addContent(a);T.addContent(b);t.addContent(T);this._oOverlayCard.addContent(t);var B=new sap.ui.commons.layout.VerticalLayout();B.addStyleClass("sapSuiteUiCommonsNoteTakerCardContent");var c=new sap.ui.commons.layout.HorizontalLayout(this.getId()+"-buttons");c.addStyleClass("sapSuiteUiCommonsNoteTakerCardOverlayButtonPanel");this._oOverlayCard.layouts={topSection:t,headerLeft:h,headerRight:H,toolbar:T,toolbarLeft:a,toolbarRight:b,body:B,buttons:c}};sap.suite.ui.commons.NoteTakerCard.prototype._prepareOverlayHeaderBtns=function(e){var t=this;var E=new sap.ui.commons.Button(this.getId()+"-editButton",{tooltip:this._rb.getText("NOTETAKERCARD_BUTTON_EDIT_TOOLTIP"),press:function(){t._fnEdit()}});t._oOverlayCard.layouts.headerRight.addContent(E,0);if(e){E.setEnabled(false);E.addStyleClass("sapSuiteUiCommonsNoteTakerCardEditButtonDsbl")}else{E.setEnabled(true);E.addStyleClass("sapSuiteUiCommonsNoteTakerCardEditButton")}var d=new sap.ui.commons.Button(this.getId()+"-deleteButton",{tooltip:this._rb.getText("NOTETAKERCARD_BUTTON_DELETE_TOOLTIP"),press:function(){t._handleDelete(true)}});d.addStyleClass("sapSuiteUiCommonsNoteTakerCardDeleteButton");t._oOverlayCard.layouts.headerRight.addContent(d,1);var T=new sap.ui.commons.Label(this.getId()+"-overlayTimestamp",{text:t.getFormattedTimestamp()});T.addStyleClass("sapSuiteUiCommonsNoteTakerCardTimestamp");t._oOverlayCard.layouts.headerLeft.addContent(T,1)};sap.suite.ui.commons.NoteTakerCard.prototype._prepareOverlayToolbar=function(e){this._oOverlayCard._selectedTags=this.getTags();if(this.getAttachmentFilename()!==""){var a=this._prepareAttachmentPanel(true);this._oOverlayCard.layouts.topSection.addContent(a);this._oOverlayCard.layouts.body.addStyleClass("suiteUiNtcOverlayWithAttachment")}else{this._oOverlayCard.layouts.body.addStyleClass("suiteUiNtcOverlayWithoutAttachment")}};sap.suite.ui.commons.NoteTakerCard.prototype._prepareOverlayBody=function(){this._oOverlayCard.addContent(this._oOverlayCard.layouts.body)};sap.suite.ui.commons.NoteTakerCard.prototype._prepareOverlayButtons=function(e){var t=this;var c=new sap.ui.commons.Button(this.getId()+"-closeButton",{text:this._rb.getText("NOTETAKERCARD_BUTTON_CLOSE_OVERLAY"),tooltip:this._rb.getText("NOTETAKERCARD_BUTTON_CLOSE_OVERLAY_TOOLTIP"),press:function(){t._handleOverlayCloseEvent(t._oOverlayCard)}});c.addStyleClass("sapSuiteUiCommonsNoteTakerCardOverlayButtonClose");var s=new sap.ui.commons.Button(this.getId()+"-saveButton",{text:this._rb.getText("NOTETAKERCARD_BUTTON_SAVE_TEXT"),tooltip:this._rb.getText("NOTETAKERCARD_BUTTON_SAVE_TOOLTIP"),press:function(){t._fnSave()}});s.addStyleClass("sapSuiteUiCommonsNoteTakerCardOverlayButtonSave");t._oOverlayCard.layouts.buttons.addContent(c,0);t._oOverlayCard.layouts.buttons.addContent(s,1);if(e){s.setEnabled(true);this._fnCreateInEditMode()}else{s.setEnabled(false);this._fnCreateInViewMode()}this._oOverlayCard.addContent(this._oOverlayCard.layouts.buttons)};sap.suite.ui.commons.NoteTakerCard.prototype._fnCreateInViewMode=function(){var t=this;t._oOverlayCard.bEditMode=false;var c=new sap.ui.commons.Label(t.getId()+"-overlayCardHeader",{text:t.getHeader()});c.addStyleClass("sapSuiteUiCommonsNoteTakerCardTitle");t._oOverlayCard.layouts.headerLeft.insertContent(c,0);var T=new sap.ui.core.HTML(t.getId()+'-overlayTagPanel');T.setContent(t._wrapTagPanelToDiv(t._getFormattedTags(),t._oOverlayCard.bEditMode));t._oOverlayCard.layouts.toolbarLeft.addContent(T);var o=new sap.ui.core.HTML({id:t.getId()+"-overlay-thumb",content:t._wrapThumbToDiv()});t._oOverlayCard.layouts.toolbarRight.addContent(o);var C=new sap.ui.core.HTML(t.getId()+"-overlayBody");C.setContent(t._wrapBodyToDiv(t._getFormattedBody()));C.addStyleClass("sapSuiteUiCommonsNoteTakerCardBody");t._oOverlayCard.layouts.body.addContent(C);var s=t._oOverlayCard.layouts.buttons.getContent()[1];s.setEnabled(false);var e=t._oOverlayCard.layouts.headerRight.getContent()[0];e.setEnabled(true);e.removeStyleClass("sapSuiteUiCommonsNoteTakerCardEditButtonDsbl");e.addStyleClass("sapSuiteUiCommonsNoteTakerCardEditButton")};sap.suite.ui.commons.NoteTakerCard.prototype._fnCreateInEditMode=function(){var t=this;t._oOverlayCard.bEditMode=true;var c=new sap.ui.commons.TextField(t.getId()+"-overlayCardTitle",{maxLength:50});c.setValue(t.getHeader());c.addStyleClass("sapSuiteUiCommonsNoteTakerCardTitle");var T=new sap.ui.commons.InPlaceEdit(t.getId()+"-overlayCardTitleEdit",{content:c,tooltip:t._rb.getText("NOTETAKERCARD_EDITFIELD_TITLE_TOOLTIP"),design:sap.ui.commons.TextViewDesign.H2,undoEnabled:false});T.addStyleClass("sapSuiteUiCommonsNtcdTitleEdit");t._oOverlayCard.layouts.headerLeft.insertContent(T,0);var o=new sap.ui.core.HTML(t.getId()+'-overlayTagPanel');o.setContent(t._wrapTagPanelToDiv(t._getFormattedTags(),t._oOverlayCard.bEditMode));t._oOverlayCard.layouts.toolbarLeft.addContent(o);var a=new sap.ui.commons.Button({id:t.getId()+"-tag-button",tooltip:t._rb.getText("NOTETAKERCARD_BUTTON_TAG_TOOLTIP"),press:function(){t._toggleTagPopup()}});a.addStyleClass("sapSuiteUiCommonsNoteTakerFeederTagButton");var b=new sap.ui.commons.ListBox({id:t.getId()+"-tagListBox",visibleItems:10,width:"100%",height:"194px",select:function(e){t._handleListSelect(e)}});var d=new sap.ui.commons.TextField({id:t.getId()+"-inputTag",liveChange:function(e){t._handleTagInputLive(e)}});d.onsapdown=function(e){e.preventDefault();e.stopPropagation();jQuery("#"+t.getId()+"-tagListBox li:eq(0)").focus()};var C=new sap.ui.commons.Button({id:t.getId()+"-cancel-tags-button",text:t._rb.getText("NOTETAKERFEEDER_BUTTON_CANCEL_TAGS"),tooltip:t._rb.getText("NOTETAKERFEEDER_BUTTON_CANCEL_TAGS_TOOLTIP"),press:function(){t._toggleTagPopup()}});C.addStyleClass("sapSuiteUiCommonsNoteTakerFeederCancelTagButton");var A=new sap.ui.commons.Button({id:t.getId()+"-add-tags-button",text:t._rb.getText("NOTETAKERFEEDER_BUTTON_ADD_TAGS"),tooltip:t._rb.getText("NOTETAKERFEEDER_BUTTON_ADD_TAGS_TOOLTIP"),press:function(){t._handleAddTag(d.getValue());a.rerender();t._toggleTagPopup()}});t._oOverlayCard._tagControls={tagButton:a,tagList:b,tagInput:d,tagCancelBtn:C,tagApplyBtn:A};t._oOverlayCard.addContent(t._createTagSelectorControl());var f=new sap.ui.commons.Button({id:t.getId()+"-overlay-thumb-up-button",press:function(e){t._oOverlayCard.bThumbUp=!t._oOverlayCard.bThumbUp;if(t._oOverlayCard.bThumbUp){t._oOverlayCard.bThumbDown=false}s()},tooltip:t._rb.getText("NOTETAKERFEEDER_BUTTON_THUMB_UP_TOOLTIP")});f.addStyleClass("sapSuiteUiCommonsNoteTakerThumbUpBtn");var g=new sap.ui.commons.Button({id:t.getId()+"-overlay-thumb-down-button",press:function(e){t._oOverlayCard.bThumbDown=!t._oOverlayCard.bThumbDown;if(t._oOverlayCard.bThumbDown){t._oOverlayCard.bThumbUp=false}s()},tooltip:t._rb.getText("NOTETAKERFEEDER_BUTTON_THUMB_DOWN_TOOLTIP")});g.addStyleClass("sapSuiteUiCommonsNoteTakerThumbDownBtn");var s=function(){if(t._oOverlayCard.bThumbUp){f.addStyleClass("sapSuiteUiCommonsNoteTakerCardSelectedBtn");t._oOverlayCard.addStyleClass("suiteUiNtcPositiveCard")}else{f.removeStyleClass("sapSuiteUiCommonsNoteTakerCardSelectedBtn");t._oOverlayCard.removeStyleClass("suiteUiNtcPositiveCard")}if(t._oOverlayCard.bThumbDown){g.addStyleClass("sapSuiteUiCommonsNoteTakerCardSelectedBtn");t._oOverlayCard.addStyleClass("suiteUiNtcNegativeCard")}else{g.removeStyleClass("sapSuiteUiCommonsNoteTakerCardSelectedBtn");t._oOverlayCard.removeStyleClass("suiteUiNtcNegativeCard")}jQuery.sap.byId(f.getId()).attr("aria-pressed",t._oOverlayCard.bThumbUp);jQuery.sap.byId(g.getId()).attr("aria-pressed",t._oOverlayCard.bThumbDown)};s();t._oOverlayCard.layouts.toolbarLeft.insertContent(a,0);t._oOverlayCard.layouts.toolbarRight.addContent(f);t._oOverlayCard.layouts.toolbarRight.addContent(g);var S=t._oOverlayCard.layouts.buttons.getContent()[1];S.setEnabled(true);var h=new sap.ui.commons.TextArea(t.getId()+"-overlayBody",{liveChange:function(e){var i=e.getParameter("liveValue");var j=(i!=null)&&!/^\s*$/.test(i);if(j!==S.getEnabled()){S.setEnabled(j)}}});h.setValue(t.getBody());h.addStyleClass("sapSuiteUiCommonsNoteTakerCardBody");t._oOverlayCard.layouts.body.addContent(h);var E=t._oOverlayCard.layouts.headerRight.getContent()[0];E.setEnabled(false);E.removeStyleClass("sapSuiteUiCommonsNoteTakerCardEditButton");E.addStyleClass("sapSuiteUiCommonsNoteTakerCardEditButtonDsbl")};sap.suite.ui.commons.NoteTakerCard.prototype._fnSave=function(){var t=this;var T=t._oOverlayCard.layouts.headerLeft.getContent()[0];var c=T.getContent();var C=t._oOverlayCard.layouts.body.getContent()[0];if(C.getValue()){if(!this.getBinding("body")){t.setHeader(c.getValue());t.setBody(C.getValue());t.setTimestamp(new Date());t.setThumbUp(t._oOverlayCard.bThumbUp);t.setThumbDown(t._oOverlayCard.bThumbDown);t.setTags(t._oOverlayCard._selectedTags)}var e={};e.uid=t.getUid();e.title=c.getValue();e.body=C.getValue();e.timestamp=new Date();e.thumbUp=t._oOverlayCard.bThumbUp;e.thumbDown=t._oOverlayCard.bThumbDown;e.tags=t._oOverlayCard._selectedTags;t.fireEditNote(e);t._oOverlayCard.layouts.headerLeft.removeContent(T);T.destroy();c.destroy();t._oOverlayCard.layouts.body.removeContent(C);C.destroy();t._destroyTagControls();t._oOverlayCard.layouts.toolbarLeft.destroyContent();t._oOverlayCard.layouts.toolbarRight.destroyContent();t._fnCreateInViewMode();jQuery.sap.byId(t.getId()+"-overlayTimestamp").html(t.getFormattedTimestamp());jQuery.sap.byId(t.getId()+"-overlay-close").focus()}else{}};sap.suite.ui.commons.NoteTakerCard.prototype._fnEdit=function(){var t=this;var c=t._oOverlayCard.layouts.headerLeft.getContent()[0];var C=t._oOverlayCard.layouts.body.getContent()[0];t._oOverlayCard.layouts.topSection.removeContent(c);c.destroy();t._oOverlayCard.layouts.body.removeContent(C);C.destroy();t._oOverlayCard.layouts.toolbarLeft.destroyContent();t._oOverlayCard.layouts.toolbarRight.destroyContent();t._fnCreateInEditMode();t._oOverlayCard.layouts.topSection.rerender();t._oOverlayCard.layouts.body.rerender();jQuery.sap.focus(jQuery.sap.domById(t.getId()+"-overlayBody"))};sap.suite.ui.commons.NoteTakerCard.prototype._handleAttachmentDownload=function(){var t=this._ntc;var e={};e.uid=t.getUid();e.url=t.getAttachmentUrl();e.filename=t.getAttachmentFilename();t.fireAttachmentClick(e)}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NoteTakerCardRenderer')){jQuery.sap.declare("sap.suite.ui.commons.NoteTakerCardRenderer");sap.suite.ui.commons.NoteTakerCardRenderer={};sap.suite.ui.commons.NoteTakerCardRenderer.render=function(r,c){var f=c.getHeader();var t=this.getTruncatedHeader(f);var s=c.getBody().length>c.getViewAllTrigger();var S=c.getAttachmentFilename()!=="";var a=new sap.suite.ui.commons.util.RenderingHelper(r);var T=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(T){r.writeAttributeEscaped("title",T)}r.addClass("sapSuiteUiCommonsNoteTakerCard");if(c.getThumbUp()){r.addClass("suiteUiNtcPositiveCard")}if(c.getThumbDown()){r.addClass("suiteUiNtcNegativeCard")}r.writeClasses();r.writeAttribute("tabindex","0");var b={role:'region'};if(!jQuery.browser.msie){b.describedby=[c.getId()+"-headerLabel",c.getId()+"-timestamp",c.getId()+"-toolbar",c.getId()+"-body"].join(" ")}r.writeAccessibilityState(c,b);r.write(">");a.writeOpeningTag('div',{attributes:{id:c.getId()+"-header"},classes:['sapSuiteUiCommonsNoteTakerCardHeader']});a.writeOpeningTag('div',{attributes:{id:c.getId()+"-header-buttons"},classes:['sapSuiteUiCommonsNoteTakerCardHeaderButtons']});r.renderControl(c._oEditButton);r.renderControl(c._oDeleteButton);a.writeClosingTag('div');if(!f){r.write("&nbsp;")}else{r.write("<label");r.writeAttribute("id",c.getId()+"-headerLabel");if(f!==t){r.writeAttributeEscaped("title",f)}r.write(">");r.writeEscaped(t);r.write("</label>")}r.write("<div");r.writeAttribute("id",c.getId()+"-timestamp");r.addClass("sapSuiteUiCommonsNoteTakerCardTimestamp");r.writeClasses();r.write(">");r.writeEscaped(c.getFormattedTimestamp());r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsNoteTakerCardBodyContent");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-toolbar");r.addClass("suiteUiNtcToolbar");r.writeClasses();r.write(">");this.renderToolbar(r,c);r.write("</div>");if(S){r.renderControl(c._prepareAttachmentPanel(false))}r.write("<div");r.writeAttribute("id",c.getId()+"-body");r.addClass("sapSuiteUiCommonsNoteTakerCardBody");if(S&&s){r.addClass("sapSuiteUiCommonsNtcBodyViewAllAttach")}else if(s){r.addClass("sapSuiteUiCommonsNtcBodyViewAll")}else if(S){r.addClass("sapSuiteUiCommonsNtcBodyAttach")}r.writeClasses();r.write(">");r.write(c._getFormattedBody());r.write("</div>");if(s){r.write("<div");r.writeAttribute("id",c.getId()+"-viewAll");r.addClass("sapSuiteUiCommonsNoteTakerCardViewAll");r.writeClasses();r.write(">&nbsp;");c._oViewAllLink.addStyleClass("sapSuiteUiCommonsNoteTakerCardViewAllLink");r.renderControl(c._oViewAllLink);r.write("</div>")}r.write("</div>");r.write("</div>")};sap.suite.ui.commons.NoteTakerCardRenderer.getTruncatedHeader=function(f){var l=20;var t="...";if(f&&f.length>l){return f.substr(0,l-t.length)+t}else{return f}};sap.suite.ui.commons.NoteTakerCardRenderer.renderToolbar=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-left-toolbar");r.addClass("sapSuiteUiCommonsNoteTakerCardLeftPanel");if(c.getThumbUp()||c.getThumbDown()){r.addClass("sapSuiteUiCommonsNoteTakerCardWithThumbs")}else{r.addClass("sapSuiteUiCommonsNoteTakerCardNoThumbs")}r.writeClasses();r.write(">");r.write(c._getFormattedTags());r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-right-toolbar");r.addClass("sapSuiteUiCommonsNoteTakerCardRightPanel");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-thumb");var t="";if(c.getThumbUp()&&!c.getThumbDown()){r.writeAttribute("class","sapSuiteUiCommonsNoteTakerCardThumbUp");t=c._rb.getText("NOTETAKERCARD_ICON_THUMB_UP_TOOLTIP");r.writeAttribute("title",t)}else if(!c.getThumbUp()&&c.getThumbDown()){r.writeAttribute("class","sapSuiteUiCommonsNoteTakerCardThumbDown");t=c._rb.getText("NOTETAKERCARD_ICON_THUMB_DOWN_TOOLTIP");r.writeAttribute("title",t)}r.write(">");r.write("<span");r.writeAttribute("style","visibility: hidden; display: none;");r.write(">");r.writeEscaped(t);r.write("</span>");r.write("</div>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NoteTakerFeeder')){jQuery.sap.declare("sap.suite.ui.commons.NoteTakerFeeder");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.NoteTakerFeeder",{metadata:{library:"sap.suite.ui.commons",properties:{"body":{type:"string",group:"Data",defaultValue:null},"title":{type:"string",group:"Data",defaultValue:null},"tags":{type:"object",group:"Misc",defaultValue:[]},"thumbUp":{type:"boolean",group:"Misc",defaultValue:null},"thumbDown":{type:"boolean",group:"Misc",defaultValue:null},"attachmentUploadUrl":{type:"string",group:"Misc",defaultValue:null},"attachmentName":{type:"string",group:"Misc",defaultValue:'attachment'}},aggregations:{"bodyArea":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},"titleInput":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},"fileUploader":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},"tagInput":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{"addNote":{},"attachmentSelect":{},"attachmentUploadComplete":{},"attachmentDelete":{},"attachmentClick":{}}}});sap.suite.ui.commons.NoteTakerFeeder.M_EVENTS={'addNote':'addNote','attachmentSelect':'attachmentSelect','attachmentUploadComplete':'attachmentUploadComplete','attachmentDelete':'attachmentDelete','attachmentClick':'attachmentClick'};jQuery.sap.require('sap.ui.ux3.ToolPopup');sap.suite.ui.commons.NoteTakerFeeder.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._selectedTags=[];this._bTagPopupOpen=false;var t=this;this._oAddButton=new sap.ui.commons.Button({id:this.getId()+"-add-button",text:this._rb.getText("NOTETAKERFEEDER_BUTTON_ADD_TEXT"),tooltip:this._rb.getText("NOTETAKERFEEDER_BUTTON_ADD_TOOLTIP"),press:function(){t._handleAdd()}});this._oAddButton.addStyleClass("sapSuiteUiCommonsNoteTakerFeederHeaderAddButton");this._oTagList=new sap.ui.commons.ListBox({id:this.getId()+"-tagListBox",visibleItems:10,width:"100%",height:"194px",select:function(e){t._handleListSelect(e)}});this._oTagInput=new sap.ui.commons.TextField({id:this.getId()+"-inputTag",liveChange:function(e){t._handleTagInputLive(e)}});this.setAggregation("tagInput",this._oTagInput);this._oTagInput.onsapdown=function(e){e.preventDefault();e.stopPropagation();jQuery("#"+t.getId()+"-tagListBox li:eq(0)").focus()};this._oCancelTagButton=new sap.ui.commons.Button({id:this.getId()+"-cancel-tags-button",text:this._rb.getText("NOTETAKERFEEDER_BUTTON_CANCEL_TAGS"),tooltip:this._rb.getText("NOTETAKERFEEDER_BUTTON_CANCEL_TAGS_TOOLTIP"),press:function(){t._toggleTagPopup()}});this._oCancelTagButton.addStyleClass("sapSuiteUiCommonsNoteTakerFeederCancelTagButton");this._oAddTagButton=new sap.ui.commons.Button({id:this.getId()+"-add-tags-button",text:this._rb.getText("NOTETAKERFEEDER_BUTTON_ADD_TAGS"),tooltip:this._rb.getText("NOTETAKERFEEDER_BUTTON_ADD_TAGS_TOOLTIP"),press:function(){t._handleAddTag(t._oTagInput.getValue());t._oTagButton.rerender();t._toggleTagPopup()}});this._oTagButton=new sap.ui.commons.Button({id:this.getId()+"-tag-button",tooltip:this._rb.getText("NOTETAKERFEEDER_BUTTON_TAG_TOOLTIP"),press:function(){t._toggleTagPopup()}});this._oTagButton.addStyleClass("sapSuiteUiCommonsNoteTakerFeederTagButton");this._oTitle=new sap.ui.commons.TextField({id:this.getId()+"-title-field",placeholder:this._rb.getText("NOTETAKERFEEDER_PLACEHOLDER_HEADER")+"...",maxLength:50});this.setAggregation("titleInput",this._oTitle);this._oBody=new sap.ui.commons.TextArea({id:this.getId()+"-body-field",placeholder:this._rb.getText("NOTETAKERFEEDER_PLACEHOLDER_BODY")+"...",liveChange:function(e){t._setAddButtonEnabled(e.mParameters["liveValue"],null)}});this.setAggregation("bodyArea",this._oBody);this._oThumbUpButton=new sap.ui.commons.Button({id:this.getId()+"-thumb-up-button",press:function(e){t._handleThumbUpButtonPress()},tooltip:this._rb.getText("NOTETAKERFEEDER_BUTTON_THUMB_UP_TOOLTIP")});this._oThumbUpButton.addStyleClass("sapSuiteUiCommonsNoteTakerFeederThumbUpButton");this._oThumbDownButton=new sap.ui.commons.Button({id:this.getId()+"-thumb-down-button",press:function(e){t._handleThumbDownButtonPress()},tooltip:this._rb.getText("NOTETAKERFEEDER_BUTTON_THUMB_DOWN_TOOLTIP")});this._oThumbDownButton.addStyleClass("sapSuiteUiCommonsNoteTakerFeederThumbDownButton");this._oFileUploader=new sap.ui.commons.FileUploader({id:this.getId()+"-attach",uploadOnChange:false,name:this.getAttachmentName(),change:function(e){t._disableAddAttachBtn();var n=e.getParameter("newValue");t._oAttachmentLink.setText(n);t._oAttachmentLink.rerender();t._handleAddAttachUI();var a={};a.filename=n;t.fireAttachmentSelect(a);t._oTitle.focus()},uploadComplete:function(e){t._handleUploadComplete(e)}});this._oFileUploader.oBrowse.setText("");this.setAggregation("fileUploader",this._oFileUploader);this._oAddAttachButton=new sap.ui.commons.Button({id:this.getId()+"-attach-button",press:function(e){jQuery.sap.domById(t._oFileUploader.getId()+"-fu").click()},tooltip:t._rb.getText("NOTETAKER_BUTTON_ATTACH_TOOLTIP")});this._oAddAttachButton.addStyleClass("sapSuiteUiCommonsNtAttachIcon");this._oAttachmentLoadingLabel=new sap.ui.commons.Label({id:this.getId()+"-loading-label",text:this._rb.getText("NOTETAKERFEEDER_LABEL_ATTACHMENT_LOADING")+"..."});this._oDeleteAttachButton=new sap.ui.commons.Button({id:this.getId()+"-delete-attach-button",lite:true,press:function(e){t._handleDeleteAttachUI();var a={filename:t._oFileUploader.getName()};t.fireAttachmentDelete(a)},tooltip:this._rb.getText("NOTETAKERFEEDER_BUTTON_DELETE_ATTACHMENT")});this._oAttachmentLink=new sap.ui.commons.Link({id:this.getId()+"-attachmentLink",tooltip:this._rb.getText("NOTETAKERFEEDER_LINK_ATTACHMENT_TOOLTIP"),press:function(e){var a={filename:t._oFileUploader.getName()};t.fireAttachmentClick(a)},width:"200px"})};sap.suite.ui.commons.NoteTakerFeeder.prototype.exit=function(){this._oAddButton.destroy();this._oTitle.destroy();this._oBody.destroy();this._oTagButton.destroy();this._oTagList.destroy();this._oTagInput.destroy();this._oCancelTagButton.destroy();this._oAddTagButton.destroy();this._oThumbUpButton.destroy();this._oThumbDownButton.destroy();this._oFileUploader.destroy();this._oAddAttachButton.destroy();this._oAttachmentLoadingLabel.destroy();this._oDeleteAttachButton.destroy();this._oAttachmentLink.destroy();this._oAddButton=null;this._oTitle=null;this._oBody=null;this._oTagButton=null;this._oTagList=null;this._oTagInput=null;this._oCancelTagButton=null;this._oAddTagButton=null;this._oThumbUpButton=null;this._oThumbDownButton=null;this._oFileUploader=null;this._oAddAttachButton=null;this._oAttachmentLoadingLabel=null;this._oDeleteAttachButton=null;this._oAttachmentLink=null};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleAdd=function(){if(this.getBody()){var e=new Object();e.title=this.getTitle();e.body=this.getBody();e.timestamp=this._getTimestamp();e.tags=this._selectedTags;e.thumbUp=this.getThumbUp();e.thumbDown=this.getThumbDown();e.attachmentFilename=this._oFileUploader.getValue();this.setTitle("");this.setBody("");this.setThumbDown(false);this.setThumbUp(false);this._oFileUploader.setValue("");this._enableAddAttachBtn();this.fireAddNote(e);jQuery(this._oFileUploader.oFileUpload).show();this._handleClearTag()}else{this._setAddButtonEnabled(this.getBody())}};sap.suite.ui.commons.NoteTakerFeeder.prototype._getTimestamp=function(){return new Date()};sap.suite.ui.commons.NoteTakerFeeder.prototype.setTitle=function(t){this._oTitle.setValue(t);return this};sap.suite.ui.commons.NoteTakerFeeder.prototype.getTitle=function(){return jQuery.sap.byId(this.getId()+"-title-field").hasClass('sapSuiteUiCommonsPlaceholder')?"":this._oTitle.getValue()};sap.suite.ui.commons.NoteTakerFeeder.prototype.setBody=function(b){this._oBody.setValue(b);return this};sap.suite.ui.commons.NoteTakerFeeder.prototype.getBody=function(){return this._isBodyPlaceholderActive()?"":this._oBody.getValue()};sap.suite.ui.commons.NoteTakerFeeder.prototype._applyPlaceholder=function(){jQuery('[data-placeholder]').focus(function(){var i=jQuery(this);if(i.hasClass('sapSuiteUiCommonsPlaceholder')){i.val('');i.removeClass('sapSuiteUiCommonsPlaceholder')}}).blur(function(){var i=jQuery(this);if(jQuery.sap.equal(i.val(),'')||jQuery.sap.equal(i.val(),i.attr('data-placeholder'))){i.addClass('sapSuiteUiCommonsPlaceholder');i.val(i.attr('data-placeholder'))}}).blur()};sap.suite.ui.commons.NoteTakerFeeder.prototype._isBodyPlaceholderActive=function(){return jQuery.sap.byId(this.getId()+"-body-field").hasClass('sapSuiteUiCommonsPlaceholder')};sap.suite.ui.commons.NoteTakerFeeder.prototype._setAddButtonEnabled=function(b,n){var e=b!=null&&!this._isBodyPlaceholderActive()&&!/^\s*$/.test(b);if(e!==this._oAddButton.getEnabled()){this._oAddButton.setEnabled(e);if(!n){this._oAddButton.rerender()}}};sap.suite.ui.commons.NoteTakerFeeder.prototype._adjustUploaderForIe=function(){this._oFileUploader.superOnkeydown=this._oFileUploader.onkeydown;this._oFileUploader.onkeydown=function(e){var k=e.keyCode,a=jQuery.sap.KeyCodes;if(k!=a.SPACE&&k!=a.ENTER){this.superOnkeydown(e)}};jQuery(this._oFileUploader.oFilePath.getDomRef()).hide();jQuery(this._oFileUploader.oBrowse.getDomRef()).hide();jQuery(this._oAddAttachButton.getDomRef()).attr("tabindex","-1");var t=this;jQuery(this._oFileUploader.oFileUpload).attr("tabindex","0").attr("title",this._rb.getText("NOTETAKER_BUTTON_ATTACH_TOOLTIP")).focus(function(){this.hasFocus=true;jQuery(t._oAddAttachButton.getDomRef()).addClass("sapUiBtnStdFocus")}).focusout(function(){this.hasFocus=false;jQuery(t._oAddAttachButton.getDomRef()).removeClass("sapUiBtnStdFocus")}).hover(function(){jQuery(t._oAddAttachButton.getDomRef()).addClass("sapUiBtnStdFocus")},function(){if(!this.hasFocus){jQuery(t._oAddAttachButton.getDomRef()).removeClass("sapUiBtnStdFocus")}jQuery(t._oAddAttachButton.getDomRef()).removeClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")}).mousedown(function(){jQuery(t._oAddAttachButton.getDomRef()).addClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected").addClass("sapUiBtnAct")}).mouseup(function(){jQuery(t._oAddAttachButton.getDomRef()).removeClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")});jQuery(this._oFileUploader.oFileUpload).keydown(function(e){var a=jQuery.sap.KeyCodes;if(e.keyCode==a.TAB){if(e.shiftKey){t._oThumbDownButton.focus()}else{t._oTitle.focus()}e.preventDefault();e.stopPropagation()}})};sap.suite.ui.commons.NoteTakerFeeder.prototype._setAriaInfo=function(){jQuery.sap.byId(this._oThumbUpButton.getId()).attr("aria-pressed",this.getThumbUp());jQuery.sap.byId(this._oThumbDownButton.getId()).attr("aria-pressed",this.getThumbDown());jQuery.sap.byId(this._oTitle.getId()).attr("aria-label",this._rb.getText("NOTETAKERFEEDER_PLACEHOLDER_HEADER"));jQuery.sap.byId(this._oBody.getId()).attr("aria-label",this._rb.getText("NOTETAKERFEEDER_PLACEHOLDER_BODY"));jQuery(this._oFileUploader.oFileUpload).attr("aria-label",this._rb.getText("NOTETAKER_BUTTON_ATTACH_TOOLTIP"))};sap.suite.ui.commons.NoteTakerFeeder.prototype.onAfterRendering=function(){this._applyPlaceholder();this._adjustPopupState();if(this._oFileUploader.getValue()){jQuery.sap.byId(this.getId()+"-attachment-panel").show();jQuery.sap.byId(this.getId()+"-attachment-loading").hide();jQuery.sap.byId(this.getId()+"-attachment-delete").show()}jQuery.sap.byId(this._oFileUploader.getId()).addClass("sapSuiteUiCommonsNtfUploader");this._setAriaInfo();if(jQuery.browser.msie){this._adjustUploaderForIe()}};sap.suite.ui.commons.NoteTakerFeeder.prototype.onBeforeRendering=function(){this._setAddButtonEnabled(this.getBody(),true);this._setThumbButtonsView()};sap.suite.ui.commons.NoteTakerFeeder.prototype.getFormattedTags=function(){return sap.suite.ui.commons.NoteTakerCard.prototype._getFormattedTags()};sap.suite.ui.commons.NoteTakerFeeder.prototype._adjustPopupState=function(){if(this._bTagPopupOpen){jQuery.sap.byId(this.getId()+"-selectTag-panel").show()}};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleAddTag=function(t){this._selectedTags=[];var n=t.split(new RegExp("\\s+"));var T={};for(var i=0;i<n.length;i++){if(n[i].length!=0){T[n[i]]=0}}for(var f in T){this._selectedTags.push(f)}if(this._oTagButton){this._adjustTagButton()}};sap.suite.ui.commons.NoteTakerFeeder.prototype._adjustTagButton=function(){if(this._selectedTags.length){this._oTagButton.setTooltip(this._rb.getText("NOTETAKERFEEDER_BUTTON_ADD_TAGS_SELECTED_TOOLTIP")+": "+this._selectedTags.join(" "));this._oTagButton.addStyleClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")}else{this._oTagButton.setTooltip(this._rb.getText("NOTETAKERFEEDER_BUTTON_TAG_TOOLTIP"));this._oTagButton.removeStyleClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")}};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleClearTag=function(){if(this._oTagInput){this._oTagInput.setValue("")}if(this._oTagList){this._oTagList.clearSelection()}this._selectedTags=[];if(this._oTagButton){this._adjustTagButton()}};sap.suite.ui.commons.NoteTakerFeeder.prototype.setTags=function(t){this.setProperty("tags",t,true);return this};sap.suite.ui.commons.NoteTakerFeeder.prototype._toggleTagPopup=function(){if(this._bTagPopupOpen){jQuery.sap.byId(this.getId()+"-selectTag-panel").slideToggle();this._focusDefaultControl();this._bTagPopupOpen=false}else{this._addTagsToListBox(this.getTags());jQuery.sap.byId(this.getId()+"-selectTag-panel").slideToggle();jQuery.sap.byId(this.getId()+"-inputTag").val(this._selectedTags.length==0?"":this._selectedTags.join(" ")+" ");this._oTagInput.focus();this._bTagPopupOpen=true}};sap.suite.ui.commons.NoteTakerFeeder.prototype._focusDefaultControl=function(){this._oTagButton.focus()};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleTagInputLive=function(e){var l=e.getParameter("liveValue");var n=l.split(" ");var c=n[n.length-1];this._filterListBox(c)};sap.suite.ui.commons.NoteTakerFeeder.prototype._filterListBox=function(i){if(i.length==0){this._addTagsToListBox(this.getTags());return}var f=jQuery.grep(this.getTags(),function(a){if(a.indexOf(i)>=0){return true}});this._addTagsToListBox(f)};sap.suite.ui.commons.NoteTakerFeeder.prototype._addTagsToListBox=function(t){var l=jQuery.map(t,function(v,i){return new sap.ui.core.ListItem({text:v})});this._oTagList.setItems(l,true);this._oTagList.rerender()};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleListSelect=function(e){var s=e.getParameter("selectedItem").getText();var t=this._oTagInput.getValue();var n=t.split(" ");n.pop();if(n.length==0){this._oTagInput.setValue(s+" ")}else{this._oTagInput.setValue(n.join(" ")+" "+s+" ")}this._oTagList.setSelectedIndex(-1);this._oTagInput.focus()};sap.suite.ui.commons.NoteTakerFeeder.prototype._setThumbButtonsView=function(){if(this.getThumbUp()){this._oThumbUpButton.addStyleClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")}else{this._oThumbUpButton.removeStyleClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")}if(this.getThumbDown()){this._oThumbDownButton.addStyleClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")}else{this._oThumbDownButton.removeStyleClass("sapSuiteUiCommonsNoteTakerFeederButtonSelected")}};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleThumbUpButtonPress=function(){this.setThumbUp(!this.getThumbUp());if(this.getThumbUp()){this.setThumbDown(false)}};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleThumbDownButtonPress=function(){this.setThumbDown(!this.getThumbDown());if(this.getThumbDown()){this.setThumbUp(false)}};sap.suite.ui.commons.NoteTakerFeeder.prototype._disableAddAttachBtn=function(){this._oAddAttachButton.setEnabled(false);this._oAddAttachButton.removeStyleClass("sapSuiteUiCommonsNtAttachIcon");this._oAddAttachButton.addStyleClass("sapSuiteUiCommonsNtDsblAttachIcon");this._oAddAttachButton.setTooltip("");this._oAddAttachButton.rerender()};sap.suite.ui.commons.NoteTakerFeeder.prototype._enableAddAttachBtn=function(){this._oAddAttachButton.setEnabled(true);this._oAddAttachButton.removeStyleClass("sapSuiteUiCommonsNtDsblAttachIcon");this._oAddAttachButton.addStyleClass("sapSuiteUiCommonsNtAttachIcon");this._oAddAttachButton.setTooltip(this._rb.getText("NOTETAKER_BUTTON_ATTACH_TOOLTIP"));this._oAddAttachButton.rerender();if(jQuery.browser.msie){jQuery.sap.byId(this._oAddAttachButton.getId()).attr("tabindex","-1")}};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleAddAttachUI=function(){jQuery(this._oFileUploader.oFileUpload).hide();jQuery.sap.byId(this.getId()+"-attachment-loading").show("fast");jQuery.sap.byId(this.getId()+"-body").animate({height:"332px"},300);jQuery.sap.byId(this.getId()+"-attachment-panel").slideDown({duration:300,queue:false})};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleDeleteAttachUI=function(){jQuery(this._oFileUploader.oFileUpload).show();jQuery.sap.byId(this.getId()+"-body").animate({height:"352px"},300);jQuery.sap.byId(this.getId()+"-attachment-delete").hide("fast");jQuery.sap.byId(this.getId()+"-attachment-panel").hide({duration:300,queue:false});this._enableAddAttachBtn();this._oFileUploader.setValue("");this._oFileUploader.addStyleClass("sapSuiteUiCommonsNtfUploader");this._oAttachmentLink.setText("");this._oAddAttachButton.focus()};sap.suite.ui.commons.NoteTakerFeeder.prototype.handleUploadResponse=function(r){};sap.suite.ui.commons.NoteTakerFeeder.prototype._handleUploadComplete=function(e){jQuery.sap.byId(this.getId()+"-attachment-loading").hide("fast");jQuery.sap.byId(this.getId()+"-attachment-delete").show("fast");var a={response:e.getParameter("response")};this.fireAttachmentUploadComplete(a)};sap.suite.ui.commons.NoteTakerFeeder.prototype.setAttachmentUploadUrl=function(u){this._oFileUploader.setUploadUrl(u);return this};sap.suite.ui.commons.NoteTakerFeeder.prototype.getAttachmentUploadUrl=function(){return this._oFileUploader.getUploadUrl()}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NumericContent')){jQuery.sap.declare("sap.suite.ui.commons.NumericContent");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.NumericContent",{metadata:{library:"sap.suite.ui.commons",properties:{"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileSize.Auto},"value":{type:"string",group:"Misc",defaultValue:null},"scale":{type:"string",group:"Misc",defaultValue:null},"valueColor":{type:"sap.suite.ui.commons.InfoTileValueColor",group:"Misc",defaultValue:sap.suite.ui.commons.InfoTileValueColor.Neutral},"indicator":{type:"string",group:"Misc",defaultValue:null},"state":{type:"sap.suite.ui.commons.LoadState",group:"Misc",defaultValue:sap.suite.ui.commons.LoadState.Loaded},"animateTextChange":{type:"boolean",group:"Misc",defaultValue:true},"formatterValue":{type:"boolean",group:"Misc",defaultValue:false},"truncateValueTo":{type:"int",group:"Misc",defaultValue:4},"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"nullifyValue":{type:"boolean",group:"Misc",defaultValue:true},"iconDescription":{type:"string",group:"Misc",defaultValue:null}},events:{"press":{}}}});sap.suite.ui.commons.NumericContent.M_EVENTS={'press':'press'};jQuery.sap.require('sap.ui.core.IconPool');sap.suite.ui.commons.NumericContent.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons")};sap.suite.ui.commons.NumericContent.prototype.onAfterRendering=function(){if(sap.suite.ui.commons.LoadState.Loaded==this.getState()||this.getAnimateTextChange()){jQuery.sap.byId(this.getId()).animate({opacity:"1"},1000)}};sap.suite.ui.commons.NumericContent.prototype.setIcon=function(i){var v=!jQuery.sap.equal(this.getIcon(),i);if(v){if(this._oIcon){this._oIcon.destroy();this._oIcon=undefined}if(i){this._oIcon=sap.ui.core.IconPool.createControlByURI({id:this.getId()+"-icon-image",src:i,},sap.m.Image);this._oIcon.addStyleClass("sapSuiteUiCommonsNCIconImage")}}return this.setProperty("icon",i)};sap.suite.ui.commons.NumericContent.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus()}this.firePress()};sap.suite.ui.commons.NumericContent.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.ENTER||e.which==jQuery.sap.KeyCodes.SPACE){this.firePress();e.preventDefault()}};sap.suite.ui.commons.NumericContent.prototype.exit=function(){if(this._oIcon){this._oIcon.destroy()}};sap.suite.ui.commons.NumericContent.prototype.attachEvent=function(e,d,f,l){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,l);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.NumericContent.prototype.detachEvent=function(e,f,l){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,l);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiCommonsPointer")}return this};sap.suite.ui.commons.NumericContent.prototype.getAltText=function(){var v=this.getValue();var s=this.getScale();var e=this.getNullifyValue()?"0":"";var m=this._rb.getText(("SEMANTIC_COLOR_"+this.getValueColor()).toUpperCase());var a="";if(this.getIconDescription()){a=a.concat(this.getIconDescription());a=a.concat("\n")}a=a.concat(v?v+s:e);a=a.concat("\n");if(this.getIndicator()&&this.getIndicator()!=sap.suite.ui.commons.DeviationIndicator.None){a=a.concat(this._rb.getText(("NUMERICCONTENT_DEVIATION_"+this.getIndicator()).toUpperCase()));a=a.concat("\n")}a=a.concat(m);return a};sap.suite.ui.commons.NumericContent.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var T=this.getAltText();if(typeof t==="string"||t instanceof String){if(t.indexOf("{AltText}")!=-1){T=t.split("{AltText}").join(T)}else{T=t}}return T};sap.suite.ui.commons.NumericContent.prototype._parseFormattedValue=function(v){return{scale:v.replace(/[^a-z -]/gi,"").trim(),value:v.replace(/([+-.,\d]*).*/g,"$1").trim()}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.NumericTile')){jQuery.sap.declare("sap.suite.ui.commons.NumericTile");sap.suite.ui.commons.InfoTile.extend("sap.suite.ui.commons.NumericTile",{metadata:{library:"sap.suite.ui.commons",properties:{"value":{type:"string",group:"Misc",defaultValue:null},"scale":{type:"string",group:"Misc",defaultValue:null},"unit":{type:"string",group:"Misc",defaultValue:null},"valueColor":{type:"sap.suite.ui.commons.InfoTileValueColor",group:"Misc",defaultValue:null},"indicator":{type:"sap.suite.ui.commons.DeviationIndicator",group:"Misc",defaultValue:null}}}});sap.suite.ui.commons.NumericTile.prototype.init=function(){this._oTileCnt=new sap.suite.ui.commons.NumericContent(this.getId()+"-numeric-tile-cnt");this.setContent(this._oTileCnt);sap.suite.ui.commons.InfoTile.prototype.init.apply(this)};sap.suite.ui.commons.NumericTile.prototype.exit=function(){var c=this.getContent();c.destroy()};sap.suite.ui.commons.NumericTile.prototype.setScale=function(t){this._oTileCnt.setScale(t);return this};sap.suite.ui.commons.NumericTile.prototype.setValue=function(t){this._oTileCnt.setValue(t);this.rerender();return this};sap.suite.ui.commons.NumericTile.prototype.getScale=function(){return this._oTileCnt.getScale()};sap.suite.ui.commons.NumericTile.prototype.getValue=function(){return this._oTileCnt.getValue()};sap.suite.ui.commons.NumericTile.prototype.setSize=function(s){this._oTileCnt.setSize(s);return this};sap.suite.ui.commons.NumericTile.prototype.getSize=function(){return this._oTileCnt.getSize()};sap.suite.ui.commons.NumericTile.prototype.setValueColor=function(v){this._oTileCnt.setValueColor(v);return this};sap.suite.ui.commons.NumericTile.prototype.getValueColor=function(){return this._oTileCnt.getValueColor()};sap.suite.ui.commons.NumericTile.prototype.setIndicator=function(i){this._oTileCnt.setIndicator(i);return this};sap.suite.ui.commons.NumericTile.prototype.getIndicator=function(){return this._oTileCnt.getIndicator()};sap.suite.ui.commons.NumericTile.prototype.setState=function(s){this.setProperty("state",s,false);this._oTileCnt.setState(s);return this};sap.suite.ui.commons.NumericTile.prototype.getState=function(){return this._oTileCnt.getState()}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.PictureZoomIn')){jQuery.sap.declare("sap.suite.ui.commons.PictureZoomIn");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.PictureZoomIn",{metadata:{library:"sap.suite.ui.commons",properties:{"description":{type:"string",group:"Misc",defaultValue:null},"imageSrc":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null}},aggregations:{"busyIndicator":{type:"sap.ui.core.Control",multiple:false}}}});sap.suite.ui.commons.PictureZoomIn.prototype.init=function(){var t=this;jQuery(window).resize(function(e){t._calculateImg()});jQuery(document).keyup(function(e){if(e.keyCode==27){t.exit();jQuery.sap.byId(t.getId()).remove()}});jQuery(document).tap(function(){t.exit();jQuery.sap.byId(t.getId()).remove()});this._oImage=new sap.m.Image(this.getId()+"-image",{}).addStyleClass("sapSuiteUiCommonsPictureZoomInImg");this._oDescription=new sap.m.Text(this.getId()+"-description",{textAlign:sap.ui.core.TextAlign.Center});this._oDescription.addStyleClass("sapSuiteUiCommonsPictureZoomInDesc")};sap.suite.ui.commons.PictureZoomIn.prototype.onBeforeRendering=function(){this._oImage.setSrc(this.getImageSrc());this._oDescription.setText(this.getDescription())};sap.suite.ui.commons.PictureZoomIn.prototype._calculateImg=function(){var i=jQuery.sap.domById(this.getId()+"-image");var d=jQuery.sap.byId(this.getId()+"-description");if(!i){return}var w=jQuery.sap.byId(this.getId());if(i.naturalWidth<w.width()&&i.naturalHeight<w.height()-d.outerHeight(true)){i.style.width=i.naturalWidth+"px";i.style.height=i.naturalHeight+"px"}else if(i.naturalHeight/(w.height()-d.outerHeight(true))>i.naturalWidth/w.width()){i.style.height=""+(98-d.outerHeight(true)*100/w.height())+"%";i.style.width="auto"}else{i.style.width='96%';i.style.height='auto'}var I=jQuery.sap.byId(this.getId()+"-image");var W=w.width();var a=I.width();var b=I.height();if(W>=a){I.css("left",(W-a)/2)}var c=(w.height()-b-d.outerHeight(true))/2;I.css("top",c);d.css("top",c+b)};sap.suite.ui.commons.PictureZoomIn.prototype.onAfterRendering=function(){var t=this;var i=jQuery.sap.byId(this.getId()+"-image");var b=jQuery.sap.byId(this.getId()+"-busy");i.hide();if(b.length){b.show()}else{this.setBusy(true)}i.load(function(){if(b.length){b.hide()}else{t.setBusy(false)}i.show();t._calculateImg()})};sap.suite.ui.commons.PictureZoomIn.prototype.exit=function(){if(this._oImage){this._oImage.destroy()}if(this._oDescription){this._oDescription.destroy()}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ProcessFlow')){jQuery.sap.declare("sap.suite.ui.commons.ProcessFlow");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.ProcessFlow",{metadata:{publicMethods:["getZoomLevel","setZoomLevel","zoomIn","zoomOut","updateModel","getFocusedNode"],library:"sap.suite.ui.commons",properties:{"foldedCorners":{type:"boolean",group:"Misc",defaultValue:false},"scrollable":{type:"boolean",group:"Misc",defaultValue:true},"wheelZoomable":{type:"boolean",group:"Behavior",defaultValue:true}},aggregations:{"connections":{type:"sap.suite.ui.commons.ProcessFlowConnection",multiple:true,singularName:"connection",visibility:"hidden"},"nodes":{type:"sap.suite.ui.commons.ProcessFlowNode",multiple:true,singularName:"node"},"lanes":{type:"sap.suite.ui.commons.ProcessFlowLaneHeader",multiple:true,singularName:"lane"}},events:{"nodeTitlePress":{},"nodePress":{},"headerPress":{},"onError":{}}}});sap.suite.ui.commons.ProcessFlow.M_EVENTS={'nodeTitlePress':'nodeTitlePress','nodePress':'nodePress','headerPress':'headerPress','onError':'onError'};sap.suite.ui.commons.ProcessFlow.prototype._resBundle=null;sap.suite.ui.commons.ProcessFlow.prototype._zoomLevel=sap.suite.ui.commons.ProcessFlowZoomLevel.Two;sap.suite.ui.commons.ProcessFlow.prototype._wheelTimeout=null;sap.suite.ui.commons.ProcessFlow.prototype._wheelTimestamp=null;sap.suite.ui.commons.ProcessFlow.prototype._wheelCalled=false;sap.suite.ui.commons.ProcessFlow.prototype._internalCalcMatrix=false;sap.suite.ui.commons.ProcessFlow.prototype._internalLanes=false;sap.suite.ui.commons.ProcessFlow.prototype._jumpOverElements=5;sap.suite.ui.commons.ProcessFlow.prototype._lastNavigationFocusNode=false;sap.suite.ui.commons.ProcessFlow.prototype.init=function(){if((sap.ui.Device.os.android||sap.ui.Device.os.blackberry||sap.ui.Device.os.ios||sap.ui.Device.os.windows_phone)&&sap.ui.Device.system.phone){this.setZoomLevel(sap.suite.ui.commons.ProcessFlowZoomLevel.Four)}if(!this._resBundle){this._resBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons")}this._internalLanes=this.getLanes();this.$().on('keydown',jQuery.proxy(this.onkeydown,this))};sap.suite.ui.commons.ProcessFlow.prototype.exit=function(){if(this.getNodes()){for(var i=0;i<this.getNodes().length;i++){this.getNodes()[i].destroy()}}if(this._internalLanes){for(var i=0;i<this._internalLanes.length;i++){this._internalLanes[i].destroy()}}var a=this.getAggregation("connections");if(a){for(var i=0;i<a.length;i++){a[i].destroy()}}if(this._resizeRegId){sap.ui.core.ResizeHandler.deregister(this._resizeRegId)}if(this._internalCalcMatrix){delete this._internalCalcMatrix}};sap.suite.ui.commons.ProcessFlow.prototype._handleException=function(e){var t=this._resBundle.getText('PF_ERROR_INPUT_DATA');this.fireOnError({text:t});jQuery.sap.log.error("Error loading data for the process flow with id : "+this.getId());if(e instanceof Array){for(var i=0;i<e.length;i++){jQuery.sap.log.error("Detailed description ("+i+") :"+e[i])}}else{jQuery.sap.log.error("Detailed description  :"+e)}};sap.suite.ui.commons.ProcessFlow.prototype._updateLanesFromNodes=function(){sap.suite.ui.commons.ProcessFlow.NodeElement.createNodeElementsFromProcessFlowNodes(this.getNodes(),this.getLanes());this._internalLanes=sap.suite.ui.commons.ProcessFlow.NodeElement.updateLanesFromNodes(this.getLanes(),this.getNodes()).lanes};sap.suite.ui.commons.ProcessFlow.prototype._getOrCreateLaneMap=function(){if(!this._internalLanes||this._internalLanes.length<=0){this._updateLanesFromNodes()}var m=sap.suite.ui.commons.ProcessFlow.NodeElement.createMapFromLanes(this._internalLanes,jQuery.proxy(this.ontouchend,this),this._isHeaderMode()).positionMap;return m};sap.suite.ui.commons.ProcessFlow.prototype._getOrCreateProcessFlow=function(){if(!this._internalLanes||this._internalLanes.length<=0){this._updateLanesFromNodes()}this.applyNodeDisplayState();var a=this.getNodes();var r=sap.suite.ui.commons.ProcessFlow.NodeElement.createNodeElementsFromProcessFlowNodes(a,this._internalLanes);var e=r.elementForId;var b=r.elementsForLane;sap.suite.ui.commons.ProcessFlow.NodeElement.calculateLaneStatePieChart(b,this._internalLanes,a,this);var c=sap.suite.ui.commons.ProcessFlow.prototype.calculateMatrix(e);c=this.addFirstAndLastColumn(c);for(var i=0;i<c.length;i++){for(var j=0;j<c[i].length;j++){if(c[i][j]instanceof sap.suite.ui.commons.ProcessFlow.NodeElement){c[i][j]=e[c[i][j].nodeid].oNode}}}this._internalCalcMatrix=c;return c};sap.suite.ui.commons.ProcessFlow.prototype.applyNodeDisplayState=function(){var I=this.getNodes(),n=I?I.length:0,i=0;if(n===0){return}else{while(i<n){I[i]._setRegularState();i++}i=0;while((i<n)&&!I[i].getHighlighted()){i++}if(i<n){i=0;while(i<n){if(!I[i].getHighlighted()){I[i]._setDimmedState()}i++}}}};sap.suite.ui.commons.ProcessFlow.prototype.addFirstAndLastColumn=function(c){if(!c||c.length<=0){return[]}var o=c.length;for(var i=0;i<o;i++){c[i].unshift(null);c[i].push(null)}return c};sap.suite.ui.commons.ProcessFlow.prototype.calculateMatrix=function(e){var a,E,s,h,r,b,R;if(!e||(e.length===0)){return[]}a=new sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation(this);R=a.checkInputNodeConsistency(e);E=a.retrieveInfoFromInputArray(e);a.resetPositions();s=a.sortRootElements(E.rootElements);h=E.highestLanePosition+1;r=Object.keys(e).length>3?Object.keys(e).length-1:2;b=a.createMatrix(r,h);for(var i=0;i<s.length;i++){a.posy=s[i].lane;b=a.processCurrentElement(s[i],e,b)}if(R&&b[0][0]&&b[0][0].oNode.setFocused){Object.keys(e).forEach(function(c){var o=e[c];o.oNode.setFocused(false)});b[0][0].oNode.setFocused(true)}b=a.doubleColumnsInMatrix(b);b=a.calculatePathInMatrix(b);b=a.removeEmptyLines(b);return b};sap.suite.ui.commons.ProcessFlow.NodeElement=function(i,l,n,N){this.nodeid=i;this.lane=l;this.state=n.getState();this.displayState=n._getDisplayState();this.isProcessed=false;if(jQuery.isArray(N)){this.arrayParent=N}else{this.singleParent=N}this.oNode=n};sap.suite.ui.commons.ProcessFlow.NodeElement.prototype={toString:function(){return this.nodeid},containsChildren:function(t){if(!t){return false}if(!(t instanceof sap.suite.ui.commons.ProcessFlow.NodeElement)){return false}if(this.oNode.getChildren()&&t.oNode.getChildren()&&this.oNode.getChildren().length&&t.oNode.getChildren().length){for(var i=0;i<this.oNode.getChildren().length;i++){if(t.oNode.getChildren().indexOf(this.oNode.getChildren()[i])>=0){return true}}}return false}};sap.suite.ui.commons.ProcessFlow.NodeElement.initNodeElement=function(i,l,n,N){return new sap.suite.ui.commons.ProcessFlow.NodeElement(i,l,n,N)};sap.suite.ui.commons.ProcessFlow.NodeElement.calculateLaneStatePieChart=function(e,l,a,p){if(!e||!l||!a){return}for(var i=0;i<a.length;i++){p._bHighlightedMode=a[i].getHighlighted();if(p._bHighlightedMode){break}}var b=0;var n=0;var c=0;var d=0;for(var i=0;i<l.length;i++){var f=l[i];var g=e[f.getLaneId()];if(!g){continue}b=0;n=0;c=0;d=0;for(var j=0;j<g.length;j++){if(!p._bHighlightedMode||(g[j].oNode._getDisplayState()==sap.suite.ui.commons.ProcessFlowDisplayState.Highlighted||g[j].oNode._getDisplayState()==sap.suite.ui.commons.ProcessFlowDisplayState.HighlightedFocused)){switch(g[j].oNode.getState()){case sap.suite.ui.commons.ProcessFlowNodeState.Positive:b++;break;case sap.suite.ui.commons.ProcessFlowNodeState.Negative:n++;break;case sap.suite.ui.commons.ProcessFlowNodeState.Planned:d++;break;case sap.suite.ui.commons.ProcessFlowNodeState.Neutral:c++;break}}};var s=[{state:sap.suite.ui.commons.ProcessFlowNodeState.Positive,value:b},{state:sap.suite.ui.commons.ProcessFlowNodeState.Negative,value:n},{state:sap.suite.ui.commons.ProcessFlowNodeState.Neutral,value:d},{state:sap.suite.ui.commons.ProcessFlowNodeState.Planned,value:c}];f.setState(s)}};sap.suite.ui.commons.ProcessFlow.NodeElement.updateLanesFromNodes=function(p,I){var c=sap.suite.ui.commons.ProcessFlow.NodeElement.createMapFromLanes(p,null,false);var m=c.positionMap;var a=c.idMap;var n={};var t=p.slice();var P;var b={};var d=0;for(var i=0;i<I.length;i++){n[I[i].getNodeId()]=I[i]}for(var i=0;i<I.length;i++){var e=I[i];var f=e.getChildren()||[];var g=1;var h=null;var k=null;for(var j=0;j<f.length;j++){var l=n[f[j]];if(l&&(e.getLaneId()==l.getLaneId())){h=l.getLaneId()+g;k=a[h];if(!k){var o=a[e.getLaneId()];k=sap.suite.ui.commons.ProcessFlow.NodeElement.createNewProcessFlowElement(o,h,o.getPosition()+g);a[k.getLaneId()]=k;t.splice(k.getPosition(),0,k)}l.setLaneId(k.getLaneId())}sap.suite.ui.commons.ProcessFlow.NodeElement.changeLaneOfChildren(e.getLaneId(),l,n)}if(k){b={};P=false;for(var q in m){if(k.getLaneId()==m[q].getLaneId()){P=true;break};if(parseInt(q)>=k.getPosition()){var r=m[q];b[r.getPosition()+g]=r}}if(!P){for(var w in b){d=parseInt(w);b[d].setPosition(d)}b[k.getPosition()]=k;for(var v=0;v<k.getPosition();v++){b[v]=m[v]}m=b}}};return{lanes:t,nodes:I}};sap.suite.ui.commons.ProcessFlow.NodeElement.changeLaneOfChildren=function(o,c,n){var a=c.getChildren();if(a){for(var i=0;i<a.length;i++){var b=n[a[i]];if(b.getLaneId()==o){b.setLaneId(c.getLaneId());sap.suite.ui.commons.ProcessFlow.NodeElement.changeLaneOfChildren(o,b,n)}}}};sap.suite.ui.commons.ProcessFlow.NodeElement.createNewProcessFlowElement=function(o,n,a){var c=new sap.suite.ui.commons.ProcessFlowLaneHeader({laneId:n,iconSrc:o.getIconSrc(),text:o.getText(),state:o.getState(),position:a,zoomLevel:o.getZoomLevel()});return c};sap.suite.ui.commons.ProcessFlow.NodeElement.createMapFromLanes=function(p,t,h){var l,m={},M={},n=p?p.length:0,i=0;if(!n){return{}}else{while(i<n){l=p[i];if(l instanceof sap.suite.ui.commons.ProcessFlowLaneHeader){m[l.getPosition()]=l;M[l.getLaneId()]=l;if(t){l.attachPress(t)}l._setHeaderMode(h)}i++}return{positionMap:m,idMap:M}}};sap.suite.ui.commons.ProcessFlow.NodeElement.createNodeElementsFromProcessFlowNodes=function(p,a){var P={},e={},b={},n,N=p?p.length:0,s,l,L=a?a.length:0,c,d=[],f,C,g,h,i,j,E={};if(N===0){return{elementForId:{},elementsForLane:{}}}if(L===0){throw["No lane definition although there is a node definition."]}i=0;while(i<L){l=a[i];c=l.getLaneId();f=l.getPosition();if(P[c]){throw["The lane with id: "+c+" is defined at least twice. (Lane error)"]}P[c]=f;if(jQuery.inArray(f,d)>-1){throw["The position "+f+" is defined at least twice. (Lane error)."]}else{d.push(f)}e[c]=[];i++}i=0;while(i<N){n=p[i];if(n instanceof sap.suite.ui.commons.ProcessFlowNode){s=n.getNodeId();c=n.getLaneId();C=n.getChildren()||[];h=C.length;j=0;while(j<h){g=C[j];b[g]=b[g]||[];b[g].push(s);j++}}i++}i=0;while(i<N){n=p[i];if(n instanceof sap.suite.ui.commons.ProcessFlowNode){s=n.getNodeId();if(!s){throw["There is a node which has no node id defined. (Title="+n.getTitle()+") and array position: "+i]}c=n.getLaneId();f=P[c];if(typeof f!=='number'){throw["For the node "+s+" position (lane) is not defined."]}if(!E[s]){E[s]=sap.suite.ui.commons.ProcessFlow.NodeElement.initNodeElement(s,f,n,b[s]);e[c].push(E[s])}else{throw["The node id "+s+" is used second time."]}}i++}return{elementForId:E,elementsForLane:e}};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation=function(p){this.parentControl=p;this.posx=0;this.posy=0;this.nodePositions={};this.mapChildToNode={}};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.checkInputNodeConsistency=function(e){var r=[],j,c,n,C,E,a=0;Object.keys(e).forEach(function(s){E=e[s];C=E.oNode.getChildren();n=C?C.length:0;if(E.oNode.getFocused()){a++}j=0;while(j<n){c=C[j];if(!e[c]){r.push("Node identificator "+c+" used in children definition is not presented as the node itself. Element : "+E.nodeid)}j++}});if(r.length>0){throw r}return a>1};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.resetPositions=function(){this.posx=0;this.posy=0;delete this.nodePositions;delete this.mapChildToNode;this.nodePositions={};this.mapChildToNode={}};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.createMatrix=function(l){l=parseInt(l,10);var a=new Array(l||0);var i=l;if(arguments.length>1){var b=Array.prototype.slice.call(arguments,1);while(i--){a[l-1-i]=this.createMatrix.apply(this,b)}}return a};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.retrieveInfoFromInputArray=function(e){var h=0,r=[],E;Object.keys(e).forEach(function(s){E=e[s];if(!E.singleParent&&!E.arrayParent){r.push(E)}if(h<E.lane){h=E.lane}});return{'highestLanePosition':h,'rootElements':r}};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.doubleColumnsInMatrix=function(c){var m=0;for(var i=0;i<c.length;i++){m=m>c[i].length?m:c[i].length}var d=new Array(c.length||0);for(var i=0;i<d.length;i++){d[i]=new Array(m*2-1);for(var j=0;j<m;j++){if(c[i][j]){d[i][2*j]=c[i][j]}}}return d};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.removeEmptyLines=function(o){var n=0;for(var i=0;i<o.length;i++){for(var j=0;j<o[i].length;j++){if(o[i][j]){n++;break}}}var r=this.createMatrix(n,o[0].length);for(var i=0;i<n;i++){for(var j=0;j<o[i].length;j++){r[i][j]=null;if(o[i][j]){r[i][j]=o[i][j]}}}return r};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.processCurrentElement=function(c,e,r){var E,a,t=this,m=true;if(c.isProcessed){return r}this.nodePositions[c.nodeid]={'c':c,'x':this.posx,'y':this.posy*2};r[this.posx][this.posy++]=c;E=c.oNode.getChildren();c.isProcessed=true;a=this.sortBasedOnChildren(E,e);if(a){a.forEach(function(C){if(!C.isProcessed){m=false;while(t.posy<C.lane){r[t.posx][t.posy++]=null}r=t.processCurrentElement(C,e,r)}})}if(!E||m){this.posx++;this.posy=0}return r};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.sortRootElements=function(r){return r};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.sortBasedOnChildren=function(e,c){var E={},d,l=null,L,n,N,f=[],s,S,p;if(e){e.forEach(function(C){d=E[c[C].lane];if(!d){E[c[C].lane]=d=[]}d.push(c[C])})}else{return[]}L=new Array();for(l in E){L.push(l);E[l].sort(function(a,b){c[a].oNode.getChildren();n=(a.oNode.getChildren()||[]).length;N=(b.oNode.getChildren()||[]).length;return N-n})}L=L.sort(function(a,b){return b-a});L.forEach(function(l){s=E[l];if(s.length>1){S=[];p=s.shift();while(p){if(S.indexOf(p)<0){S.push(p)}s.forEach(function(o){if(p.containsChildren(o)){S.push(o)}});p=s.shift()}f=f.concat(S)}else{f=f.concat(s)}});return f};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.calculatePathInMatrix=function(o){var c=null;for(var k in this.nodePositions){if(this.nodePositions.hasOwnProperty(k)){c=this.nodePositions[k];var a=c.c.oNode.getChildren();for(var i=0;a&&i<a.length;i++){var p=this.nodePositions[a[i]];o=this.calculateSingleNodeConnection(c,p,c.x,c.y,p.x,p.y,o)}}}return o};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.calculateSingleNodeConnection=function(n,a,p,b,c,d,o){var h=d-b;var v=c-p;if(h<0){var e=["Problem with negative horizontal movement","Parent node is "+n.c.toString(),"Children node is "+a.c.toString(),"Coordinates : '"+p+"','"+b+"','"+c+"','"+d+"'"];throw e}else if(v<-1){var N=this.checkIfHorizontalLinePossible(o,c,b+2,d);var y=d-1;if(N){y=b+1}var x=p;if(N){x=c}o[p][y]=this.createConnectionElement(o[p][y],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.LU,n,a,false);o=this.writeVerticalLine(o,p,c,y,n,a);o[c][y]=this.createConnectionElement(o[c][y],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.UR,n,a,(y==d-1));var s=b+2;var f=d;if(!N){s=b+1;f=y+1}o=this.writeHorizontalLine(o,x,s,f,n,a)}else if(v==-1){o[p][b+1]=this.createConnectionElement(o[p][b+1],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.LU,n,a,false);o[c][b+1]=this.createConnectionElement(o[c][b+1],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.UR,n,a,false);o=this.writeHorizontalLine(o,c,b+2,d,n,a)}else if(v===0){o=this.writeHorizontalLine(o,p,b+1,d,n,a)}else if(v===1){o[p][b+1]=this.createConnectionElement(o[p][b+1],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.LD,n,a,false);o[c][b+1]=this.createConnectionElement(o[c][b+1],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.DR,n,a,(b+1)==(d-1));o=this.writeHorizontalLine(o,c,b+2,d,n,a)}else{o[p][b+1]=this.createConnectionElement(o[p][b+1],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.LD,n,a,false);o=this.writeVerticalLine(o,c,p,b+1,n,a);o[c][b+1]=this.createConnectionElement(o[c][b+1],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.DR,n,a,(b+1)==(d-1));o=this.writeHorizontalLine(o,c,b+2,d,n,a)}return o};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.writeVerticalLine=function(o,f,l,c,n,a){for(var j=f-1;j>l;j--){o[j][c]=this.createConnectionElement(o[j][c],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.DU,n,a,false)}return o};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.checkIfHorizontalLinePossible=function(o,r,f,l){var L=true;for(var i=f;i<l;i++){if(o[r][i]instanceof sap.suite.ui.commons.ProcessFlow.NodeElement){L=false;break}};return L};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.writeHorizontalLine=function(o,r,f,l,n,a){var p=(r==a.x);if(!p){l--}for(var i=f;i<l;i++){o[r][i]=this.createConnectionElement(o[r][i],sap.suite.ui.commons.ProcessFlow.cellEdgeConstants.LR,n,a,(i==(l-1))&&p)}return o};sap.suite.ui.commons.ProcessFlow.InternalMatrixCalculation.prototype.createConnectionElement=function(o,a,i,t,A){var b=o;if(!b){b=new sap.suite.ui.commons.ProcessFlowConnection({})}var d=sap.suite.ui.commons.ProcessFlowDisplayState.Regular;if((t.c.displayState==sap.suite.ui.commons.ProcessFlowDisplayState.Highlighted||t.c.displayState==sap.suite.ui.commons.ProcessFlowDisplayState.HighlightedFocused)&&(i.c.displayState==sap.suite.ui.commons.ProcessFlowDisplayState.Highlighted||i.c.displayState==sap.suite.ui.commons.ProcessFlowDisplayState.HighlightedFocused)){d=sap.suite.ui.commons.ProcessFlowDisplayState.Highlighted}else if(t.c.displayState==sap.suite.ui.commons.ProcessFlowDisplayState.Dimmed||t.c.displayState==sap.suite.ui.commons.ProcessFlowDisplayState.DimmedFocused||i.c.displayState==sap.suite.ui.commons.ProcessFlowDisplayState.Dimmed||i.c.displayState==sap.suite.ui.commons.ProcessFlowDisplayState.DimmedFocused){d=sap.suite.ui.commons.ProcessFlowDisplayState.Dimmed}var c={flowLine:a,targetNodeState:t.c.state,displayState:d,hasArrow:A};b.addConnectionData(c);return b};sap.suite.ui.commons.ProcessFlow.cellEdgeConstants={'LU':'tl','LD':'lb','DU':'tb','LR':'rl','DR':'rt','UR':'rb'};String.prototype.contains=function(i){return this.indexOf(i)!=-1};sap.suite.ui.commons.ProcessFlow.prototype.addNode=function(a){return this.addAggregation("nodes",a,false)};sap.suite.ui.commons.ProcessFlow.prototype.setZoomLevel=function(z){if(!(z in sap.suite.ui.commons.ProcessFlowZoomLevel)){this._handleException("\""+z+"\" is not a valid entry of the enumeration for property zoom level of ProcessFlow");return}this._zoomLevel=z;this.rerender()};sap.suite.ui.commons.ProcessFlow.prototype.getZoomLevel=function(){return this._zoomLevel};sap.suite.ui.commons.ProcessFlow.prototype.zoomIn=function(){var c=this.getZoomLevel();var n=c;switch(c){case(sap.suite.ui.commons.ProcessFlowZoomLevel.One):n=sap.suite.ui.commons.ProcessFlowZoomLevel.Two;break;case(sap.suite.ui.commons.ProcessFlowZoomLevel.Two):n=sap.suite.ui.commons.ProcessFlowZoomLevel.Three;break;case(sap.suite.ui.commons.ProcessFlowZoomLevel.Three):n=sap.suite.ui.commons.ProcessFlowZoomLevel.Four;break};this.setZoomLevel(n);return this.getZoomLevel()};sap.suite.ui.commons.ProcessFlow.prototype.zoomOut=function(){var c=this.getZoomLevel();var n=c;switch(c){case(sap.suite.ui.commons.ProcessFlowZoomLevel.Four):n=sap.suite.ui.commons.ProcessFlowZoomLevel.Three;break;case(sap.suite.ui.commons.ProcessFlowZoomLevel.Three):n=sap.suite.ui.commons.ProcessFlowZoomLevel.Two;break;case(sap.suite.ui.commons.ProcessFlowZoomLevel.Two):n=sap.suite.ui.commons.ProcessFlowZoomLevel.One;break};this.setZoomLevel(n);return this.getZoomLevel()};sap.suite.ui.commons.ProcessFlow.prototype.updateModel=function(){var n=this.getBindingInfo("nodes");if(!n){this._handleException("The node model is not bound.");return}this.getModel(n.model).refresh();this.rerender()};sap.suite.ui.commons.ProcessFlow.prototype.ontouchend=function(e){if(!sap.ui.Device.support.touch&&!jQuery.sap.simulateMobileOnDesktop){this.onAfterRendering()}if(e===null||e.oSource===undefined){return false}e.preventDefault();if(this&&this._isHeaderMode()){this._internalLanes=[];this.fireHeaderPress(this)}return false};sap.suite.ui.commons.ProcessFlow.prototype._isHeaderMode=function(){var n=this.getNodes();return!n||(n.length==0)};sap.suite.ui.commons.ProcessFlow.prototype._switchCursors=function($,c,C){if($.hasClass(c)){$.removeClass(c)}if(!$.hasClass(C)){$.addClass(C)}};sap.suite.ui.commons.ProcessFlow.prototype._clearHandlers=function($){var m='contextmenu dblclick';$.on(m,function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}})};sap.suite.ui.commons.ProcessFlow.prototype.onAfterRendering=function(){var $=this.$(),m=false,s=false,n=0,a=0,b=this.$("scroll-content"),h,w,S,i,g,G,d,t=this;if(b&&b.length){this.$().find('.sapSuiteUiCommonsProcessFlowNode .sapUiIcon').css("cursor","inherit");d="sapSuiteUiDefaultCursorPF";if(sap.ui.Device.browser.msie){g="sapSuiteUiGrabCursorIEPF";G="sapSuiteUiGrabbingCursorIEPF"}else{g="sapSuiteUiGrabCursorPF";G="sapSuiteUiGrabbingCursorPF"}if(this.getScrollable()){h=parseInt($.css("height").slice(0,-2),10);w=parseInt($.css("width").slice(0,-2),10);i=b[0].scrollHeight;S=b[0].scrollWidth;if(i<=h&&S<=w){this._clearHandlers($);this._switchCursors($,g,d)}else{this._switchCursors($,d,g);s=true}}else{this._clearHandlers($);this._switchCursors($,g,d);$.css("overflow","visible");b.css("position","static")}if(s){if(!sap.ui.Device.support.touch&&!jQuery.sap.simulateMobileOnDesktop){var M='contextmenu mousemove mouseleave mousedown mouseup';$.on(M,jQuery.proxy(function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}switch(e.type){case'mousemove':if(m){if(sap.ui.getCore().getConfiguration().getRTL()){$.scrollLeftRTL(n-e.pageX)}else{$.scrollLeft(n-e.pageX)}$.scrollTop(a-e.pageY)}break;case'mousedown':this._switchCursors($,g,G);if(sap.ui.getCore().getConfiguration().getRTL()){n=$.scrollLeftRTL()+e.pageX}else{n=$.scrollLeft()+e.pageX}a=$.scrollTop()+e.pageY;m=true;break;case'mouseup':m=false;case'mouseleave':this._switchCursors($,G,g);break}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}},this))}else{this._clearHandlers($);$.css("overflow","auto")}}if(t.getWheelZoomable()&&!sap.ui.Device.support.touch&&!jQuery.sap.simulateMobileOnDesktop&&!t._isHeaderMode()){var c=(sap.ui.Device.browser.mozilla)?'DOMMouseScroll MozMousePixelScroll':'mousewheel wheel';$.on(c,function(e){var D=e.originalEvent.wheelDelta||-e.originalEvent.detail;if(e&&!e.isDefaultPrevented()){e.preventDefault();e.originalEvent.returnValue=false}var f=300;var j=function(){var k=new Date()-t._wheelTimestamp;if(k<f){t._wheelTimeout=setTimeout(j,f-k)}else{t._wheelTimeout=null;t._wheelCalled=false}};if(!t._wheelCalled){t._wheelCalled=true;if(D<0){t.zoomIn()}else{t.zoomOut()}}if(!t._wheelTimeout){t._wheelTimestamp=new Date();t._wheelTimeout=setTimeout(j,f)}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}})}this._resizeRegId=sap.ui.core.ResizeHandler.register(this,jQuery.proxy(sap.suite.ui.commons.ProcessFlow.prototype._onResize,this))}};sap.suite.ui.commons.ProcessFlow.prototype._onResize=function(){var a=new Date().getTime();if(!this._iLastResizeEventTime||((a-this._iLastResizeEventTime)<50)){if(!this._iLastResizeHandlingTime||(a-this._iLastResizeHandlingTime>500)){this.onAfterRendering();this._iLastResizeHandlingTime=new Date().getTime()}}else{this._iLastResizeHandlingTime=null}this._iLastResizeEventTime=new Date().getTime()};sap.suite.ui.commons.ProcessFlow._enumMoveDirection={'LEFT':'left','RIGHT':'right','UP':'up','DOWN':'down',};sap.suite.ui.commons.ProcessFlow.prototype._setFocusOnMouseClick=function(n){var N=this._lastNavigationFocusNode,o=n;this._lastNavigationFocusNode=o;this.getDomRef().children[0].children[0].focus();this._changeNavigationFocus(N,o)};sap.suite.ui.commons.ProcessFlow.prototype._changeNavigationFocus=function(n,N){if(n&&N&&(n.getId()!==N.getId)){jQuery.sap.log.debug("Rerendering PREVIOUS node with id '"+n.getId()+"' and title '"+n.getTitle()+"' navigation focus : "+n._getNavigationFocus());n._setNavigationFocus(false);n.rerender();jQuery.sap.log.debug("Rerendering CURRENT node with id '"+N.getId()+"' and title '"+N.getTitle()+"' navigation focus : "+N._getNavigationFocus());N._setNavigationFocus(true);N.rerender();this._onFocusChanged()}};sap.suite.ui.commons.ProcessFlow.prototype._moveOnePage=function(d,a){d=d||sap.suite.ui.commons.ProcessFlow._enumMoveDirection.UP;a=a||false;var o=0,b=0;var n=0,c=0;var e=0;var N=false;for(var i=0;i<this._internalCalcMatrix.length;i++){for(var j=0;j<this._internalCalcMatrix[i].length;j++){if(this._internalCalcMatrix[i][j]instanceof sap.suite.ui.commons.ProcessFlowNode&&this._internalCalcMatrix[i][j]._getNavigationFocus()){o=i;b=j;break}}}if(a){if(d==sap.suite.ui.commons.ProcessFlow._enumMoveDirection.UP){for(var j=b-1;j>=0&&e<this._jumpOverElements;j--){if(this._internalCalcMatrix[o][j]instanceof sap.suite.ui.commons.ProcessFlowNode&&(!this._bHighlightedMode||this._internalCalcMatrix[o][j].getHighlighted())){e++;n=o;c=j;N=true}}}else if(d===sap.suite.ui.commons.ProcessFlow._enumMoveDirection.DOWN){for(var j=b+1;j<this._internalCalcMatrix[o].length&&e<this._jumpOverElements;j++){if(this._internalCalcMatrix[o][j]instanceof sap.suite.ui.commons.ProcessFlowNode&&(!this._bHighlightedMode||this._internalCalcMatrix[o][j].getHighlighted())){e++;n=o;c=j;N=true}}}}else{if(d==sap.suite.ui.commons.ProcessFlow._enumMoveDirection.UP){for(var i=o-1;i>=0&&e<this._jumpOverElements;i--){if(this._internalCalcMatrix[i][b]instanceof sap.suite.ui.commons.ProcessFlowNode&&(!this._bHighlightedMode||this._internalCalcMatrix[i][b].getHighlighted())){e++;n=i;c=b;N=true}}}else if(d===sap.suite.ui.commons.ProcessFlow._enumMoveDirection.DOWN){for(var i=o+1;i<this._internalCalcMatrix.length&&e<this._jumpOverElements;i++){if(this._internalCalcMatrix[i][b]instanceof sap.suite.ui.commons.ProcessFlowNode&&(!this._bHighlightedMode||this._internalCalcMatrix[i][b].getHighlighted())){e++;n=i;c=b;N=true}}}}if(N){this._internalCalcMatrix[o][b]._setNavigationFocus(false);this._internalCalcMatrix[n][c]._setNavigationFocus(true);this._lastNavigationFocusNode=this._internalCalcMatrix[n][c]}return N};sap.suite.ui.commons.ProcessFlow.prototype._moveHomeEnd=function(d,c){d=d||sap.suite.ui.commons.ProcessFlow._enumMoveDirection.RIGHT;c=c||false;var o=0,a=0;var n=0,b=0;var N=false;for(var i=0;i<this._internalCalcMatrix.length;i++){for(var j=0;j<this._internalCalcMatrix[i].length;j++){if(this._internalCalcMatrix[i][j]instanceof sap.suite.ui.commons.ProcessFlowNode&&this._internalCalcMatrix[i][j]._getNavigationFocus()){o=i;a=j;break}}}if(c){if(d==sap.suite.ui.commons.ProcessFlow._enumMoveDirection.LEFT){for(var i=0;i<o;i++){if(this._internalCalcMatrix[i][a]instanceof sap.suite.ui.commons.ProcessFlowNode&&(!this._bHighlightedMode||this._internalCalcMatrix[i][a].getHighlighted())){n=i;b=a;N=true;break}}}else if(d===sap.suite.ui.commons.ProcessFlow._enumMoveDirection.RIGHT){for(var i=this._internalCalcMatrix.length-1;i>o;i--){if(this._internalCalcMatrix[i][a]instanceof sap.suite.ui.commons.ProcessFlowNode&&(!this._bHighlightedMode||this._internalCalcMatrix[i][a].getHighlighted())){n=i;b=a;N=true;break}}}}else{if(d==sap.suite.ui.commons.ProcessFlow._enumMoveDirection.LEFT){for(var j=0;j<a;j++){if(this._internalCalcMatrix[o][j]instanceof sap.suite.ui.commons.ProcessFlowNode&&(!this._bHighlightedMode||this._internalCalcMatrix[o][j].getHighlighted())){n=o;b=j;N=true;break}}}else if(d===sap.suite.ui.commons.ProcessFlow._enumMoveDirection.RIGHT){for(var j=this._internalCalcMatrix[o].length-1;j>a;j--){if(this._internalCalcMatrix[o][j]instanceof sap.suite.ui.commons.ProcessFlowNode&&(!this._bHighlightedMode||this._internalCalcMatrix[o][j].getHighlighted())){n=o;b=j;N=true;break}}}}if(N){this._internalCalcMatrix[o][a]._setNavigationFocus(false);this._internalCalcMatrix[n][b]._setNavigationFocus(true);this._lastNavigationFocusNode=this._internalCalcMatrix[n][b]}return N};sap.suite.ui.commons.ProcessFlow.prototype._moveToNextNode=function(d,s){d=d||sap.suite.ui.commons.ProcessFlow._enumMoveDirection.RIGHT;if(sap.ui.getCore().getConfiguration().getRTL()){if(d===sap.suite.ui.commons.ProcessFlow._enumMoveDirection.RIGHT){d=sap.suite.ui.commons.ProcessFlow._enumMoveDirection.LEFT}else if(d===sap.suite.ui.commons.ProcessFlow._enumMoveDirection.LEFT){d=sap.suite.ui.commons.ProcessFlow._enumMoveDirection.RIGHT}}s=s||1;var f=false;var n=false;var o=0,a=1;if(!this._internalCalcMatrix){return}var p=0,b=0;for(var i=0;i<this._internalCalcMatrix.length;i++){for(var j=0;j<this._internalCalcMatrix[i].length;j++){if(this._internalCalcMatrix[i][j]instanceof sap.suite.ui.commons.ProcessFlowNode&&this._internalCalcMatrix[i][j]._getNavigationFocus()){o=p=i;a=b=j;f=true;break}}if(f){break}}if(d==sap.suite.ui.commons.ProcessFlow._enumMoveDirection.RIGHT){for(var i=p;i<this._internalCalcMatrix.length;i++){for(var j=b+1;j<this._internalCalcMatrix[i].length;j++){if(this._internalCalcMatrix[i][j]instanceof sap.suite.ui.commons.ProcessFlowNode){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][j].getHighlighted())){this._internalCalcMatrix[i][j]._setNavigationFocus(true);this._lastNavigationFocusNode=this._internalCalcMatrix[i][j];n=true;break}}}b=0;if(n){break}}}if(d==sap.suite.ui.commons.ProcessFlow._enumMoveDirection.LEFT){for(var i=p;i>=0;i--){for(var j=b-1;j>=0;j--){if(this._internalCalcMatrix[i][j]instanceof sap.suite.ui.commons.ProcessFlowNode){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][j].getHighlighted())){this._lastNavigationFocusNode=this._internalCalcMatrix[i][j]._setNavigationFocus(true);this._lastNavigationFocusNode=this._internalCalcMatrix[i][j];n=true;break}}}if(i>0){b=this._internalCalcMatrix[i-1].length}if(n){break}}}if(d==sap.suite.ui.commons.ProcessFlow._enumMoveDirection.UP){for(var i=p-1;i>=0;i--){var c=0;while(!n){var y=b-c;var e=b+c;if(y>=0&&this._internalCalcMatrix[i][y]instanceof sap.suite.ui.commons.ProcessFlowNode){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][y].getHighlighted())){this._internalCalcMatrix[i][y]._setNavigationFocus(true);this._lastNavigationFocusNode=this._internalCalcMatrix[i][y];n=true;break}}if(e<this._internalCalcMatrix[i].length&&this._internalCalcMatrix[i][e]instanceof sap.suite.ui.commons.ProcessFlowNode){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][e].getHighlighted())){this._internalCalcMatrix[i][e]._setNavigationFocus(true);this._lastNavigationFocusNode=this._internalCalcMatrix[i][e];n=true;break}}if(y<0&&e>this._internalCalcMatrix[i].length){break}c++}}}if(d==sap.suite.ui.commons.ProcessFlow._enumMoveDirection.DOWN){for(var i=p+1;i<this._internalCalcMatrix.length;i++){var c=0;while(!n){var y=b-c;var e=b+c;if(y>=0&&this._internalCalcMatrix[i][y]instanceof sap.suite.ui.commons.ProcessFlowNode){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][y].getHighlighted())){this._lastNavigationFocusNode=this._internalCalcMatrix[i][y]._setNavigationFocus(true);this._lastNavigationFocusNode=this._internalCalcMatrix[i][y];n=true;break}}if(e<this._internalCalcMatrix[i].length&&this._internalCalcMatrix[i][e]instanceof sap.suite.ui.commons.ProcessFlowNode){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][e].getHighlighted())){this._lastNavigationFocusNode=this._internalCalcMatrix[i][e]._setNavigationFocus(true);this._lastNavigationFocusNode=this._internalCalcMatrix[i][e];n=true;break}}if(y<0&&e>this._internalCalcMatrix[i].length){break}c++}}}if(n){this._internalCalcMatrix[o][a]._setNavigationFocus(false)}return n};sap.suite.ui.commons.ProcessFlow.prototype._bNFocusOutside=false;sap.suite.ui.commons.ProcessFlow.prototype._bHighlightedMode=false;sap.suite.ui.commons.ProcessFlow.prototype.getFocusDomRef=function(){var d=this.getDomRef().children[0].children[0];jQuery.sap.log.debug("ProcessFlow::getFocusDomRef : Keyboard focus has been changed to element:  id='"+d.id+"' outerHTML='"+d.outerHTML+"'");return d};sap.suite.ui.commons.ProcessFlow.prototype.onfocusin=function(e){jQuery.sap.log.debug("ProcessFlow::focus in"+(this._lastNavigationFocusNode?this._lastNavigationFocusNode.getTitle():"not defined"));if(this._lastNavigationFocusNode){this._lastNavigationFocusNode._setNavigationFocus(true);this._lastNavigationFocusNode.rerender()}else{var n=false;for(var i=0;i<this._internalCalcMatrix.length;i++){for(var j=0;j<this._internalCalcMatrix[i].length;j++){if(this._internalCalcMatrix[i][j]instanceof sap.suite.ui.commons.ProcessFlowNode){this._internalCalcMatrix[i][j]._setNavigationFocus(true);this._internalCalcMatrix[i][j].rerender();this._lastNavigationFocusNode=this._internalCalcMatrix[i][j];n=true;break}}if(n){break}}}};sap.suite.ui.commons.ProcessFlow.prototype.onfocusout=function(e){jQuery.sap.log.debug("ProcessFlow::focus out"+(this._lastNavigationFocusNode?this._lastNavigationFocusNode.getTitle():"not defined"));for(var i=0;i<this.getNodes().length;i++){if(this.getNodes()[i]._getNavigationFocus()){this._lastNavigationFocusNode=this.getNodes()[i];this.getNodes()[i]._setNavigationFocus(false);this.getNodes()[i].rerender()}}jQuery.sap.log.info("focus out")};sap.suite.ui.commons.ProcessFlow.prototype._onFocusChanged=function(){var f=this._lastNavigationFocusNode,$=f?f.$():null,c,s,S,i,d,e,C,g,n,N,p,h,j,k,l,m,o,q=function(a,b){return(a>b)?a:b},r=function(a,b){return(a<b)?a:b},t=750,u=this;if(f&&this.getScrollable()){jQuery.sap.log.debug("The actually focused node is "+f.getId()+" with title "+f.getTitle());n=$.outerWidth();N=$.outerHeight();jQuery.sap.log.debug("Node outer width x height ["+n+" x "+N+"]");p=$.position();jQuery.sap.log.debug("Position of node in the content is ["+p.left+", "+p.top+"]");c=this.$();e=this.$("scroll-content");s=c.innerWidth();S=c.innerHeight();jQuery.sap.log.debug("Scroll container inner width x height ["+s+" x "+S+"]");i=c.scrollLeft();d=c.scrollTop();jQuery.sap.log.debug("Current scroll offset is ["+i+", "+d+"]");C=e.innerWidth();g=e.innerHeight();jQuery.sap.log.debug("Scroll content inner width x height ["+C+" x "+g+"]");h=-i+p.left;k=h+n;j=-d+p.top;l=j+N;if((k>s)||(h<0)||(l>S)||(j<0)){m=Math.round((s-n)/2);m=q(s-C+p.left,m);m=r(p.left,m);o=Math.round((S-N)/2);o=q(S-g+p.top,o);o=r(p.top,o);jQuery.sap.log.debug("Node lies outside the scroll container, scrolling from ["+h+","+j+"] to ["+m+","+o+"]");c.animate({scrollTop:p.top-o,scrollLeft:p.left-m},t,"swing")}else{jQuery.sap.log.debug("Node lies inside the scroll container, no scrolling happens.")}}};sap.suite.ui.commons.ProcessFlow.prototype.onkeydown=function(e){if(!sap.ui.Device.system.desktop)return;var k=(e.keyCode?e.keyCode:e.which);jQuery.sap.log.debug("ProcessFlow::keyboard input has been catched and action going to start: keycode="+k);var n=false;var r=false;var R=null;var s=e.shiftKey;var c=e.ctrlKey;var a=e.altKey;var f;var p=this._lastNavigationFocusNode;switch(k){case jQuery.sap.KeyCodes.ENTER:case jQuery.sap.KeyCodes.SPACE:for(var i=0;i<this.getNodes().length;i++){if(this.getNodes()[i]._getNavigationFocus()){this.fireNodePress(this.getNodes()[i]);break}}break;case jQuery.sap.KeyCodes.TAB:case jQuery.sap.KeyCodes.F6:if(s)R=this.getDomRef().parentElement.previousElementSibling;else R=this.getDomRef().parentElement.nextElementSibling;r=true;break;case jQuery.sap.KeyCodes.ARROW_RIGHT:n=this._moveToNextNode(sap.suite.ui.commons.ProcessFlow._enumMoveDirection.RIGHT);break;case jQuery.sap.KeyCodes.ARROW_LEFT:n=this._moveToNextNode(sap.suite.ui.commons.ProcessFlow._enumMoveDirection.LEFT);break;case jQuery.sap.KeyCodes.ARROW_DOWN:n=this._moveToNextNode(sap.suite.ui.commons.ProcessFlow._enumMoveDirection.DOWN);break;case jQuery.sap.KeyCodes.ARROW_UP:n=this._moveToNextNode(sap.suite.ui.commons.ProcessFlow._enumMoveDirection.UP);break;case jQuery.sap.KeyCodes.PAGE_UP:n=this._moveOnePage(sap.suite.ui.commons.ProcessFlow._enumMoveDirection.UP,a);break;case jQuery.sap.KeyCodes.PAGE_DOWN:n=this._moveOnePage(sap.suite.ui.commons.ProcessFlow._enumMoveDirection.DOWN,a);break;case jQuery.sap.KeyCodes.HOME:n=this._moveHomeEnd(sap.suite.ui.commons.ProcessFlow._enumMoveDirection.LEFT,c);break;case jQuery.sap.KeyCodes.END:n=this._moveHomeEnd(sap.suite.ui.commons.ProcessFlow._enumMoveDirection.RIGHT,c);break;case jQuery.sap.KeyCodes.NUMPAD_PLUS:case jQuery.sap.KeyCodes.PLUS:if(c){this.zoomOut()}break;case jQuery.sap.KeyCodes.NUMPAD_MINUS:case jQuery.sap.KeyCodes.MINUS:if(c){this.zoomIn()}break;case jQuery.sap.KeyCodes.NUMPAD_0:if(c){this.setZoomLevel(sap.suite.ui.commons.ProcessFlowZoomLevel.Two)}break;default:return}e.preventDefault();if(n){this._changeNavigationFocus(p,this._lastNavigationFocusNode)}if(R){R.focus();jQuery.sap.log.debug("keypressdown: Keyboard focus has been changed to element:  id='"+R.id+"' outerHTML='"+R.outerHTML+"'");R=null}};sap.suite.ui.commons.ProcessFlow.prototype._mergeLaneIdNodeStates=function(l){var p=0;var n=0;var N=0;var P=0;for(var s=0;s<4;s++){for(var i=0;i<l.length;i++){switch(l[i][s].state){case sap.suite.ui.commons.ProcessFlowNodeState.Positive:p=p+l[i][s].value;break;case sap.suite.ui.commons.ProcessFlowNodeState.Negative:n=n+l[i][s].value;break;case sap.suite.ui.commons.ProcessFlowNodeState.Neutral:N=N+l[i][s].value;break;case sap.suite.ui.commons.ProcessFlowNodeState.Planned:P=P+l[i][s].value;break}}}var r=[{state:sap.suite.ui.commons.ProcessFlowNodeState.Positive,value:p},{state:sap.suite.ui.commons.ProcessFlowNodeState.Negative,value:n},{state:sap.suite.ui.commons.ProcessFlowNodeState.Neutral,value:N},{state:sap.suite.ui.commons.ProcessFlowNodeState.Planned,value:P}];return r}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ProcessFlowConnection')){jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowConnection");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.ProcessFlowConnection",{metadata:{library:"sap.suite.ui.commons",properties:{"drawData":{type:"object[]",group:"Misc",defaultValue:null},"zoomLevel":{type:"sap.suite.ui.commons.ProcessFlowZoomLevel",group:"Misc",defaultValue:sap.suite.ui.commons.ProcessFlowZoomLevel.Two}}}});sap.suite.ui.commons.ProcessFlowConnection.prototype._traverseConnectionData=function(){var c=this.getDrawData();if(!c){return{}}var l={draw:false,state:"",display:""};var a={right:l,top:l,left:l,bottom:l,arrow:false};function s(m,b,d){var e={draw:d.draw,state:d.state,display:d.display};if(m.flowLine.indexOf(b)>=0){e.draw=true;if(m.targetNodeState===sap.suite.ui.commons.ProcessFlowNodeState.Neutral||m.targetNodeState===sap.suite.ui.commons.ProcessFlowNodeState.Positive||m.targetNodeState===sap.suite.ui.commons.ProcessFlowNodeState.Negative){e.state="Created"}else if(m.targetNodeState===sap.suite.ui.commons.ProcessFlowNodeState.Planned){if(e.state!=="Created"){e.state="Planned"}}if(m.displayState===sap.suite.ui.commons.ProcessFlowDisplayState.Highlighted||m.displayState===sap.suite.ui.commons.ProcessFlowDisplayState.HighlightedFocused){e.display="Highlighted"}else if(m.displayState===sap.suite.ui.commons.ProcessFlowDisplayState.Regular||m.displayState===sap.suite.ui.commons.ProcessFlowDisplayState.RegularFocused){if(e.display!=="Highlighted"){e.display="Regular"}}else if(m.displayState===sap.suite.ui.commons.ProcessFlowDisplayState.Dimmed||m.displayState===sap.suite.ui.commons.ProcessFlowDisplayState.DimmedFocused){if(e.display!=="Highlighted"&&e.display!=="Regular"){e.display="Dimmed"}}}return e}var i;for(i=0;i<c.length;i++){a.right=s(c[i],"r",a.right);a.top=s(c[i],"t",a.top);a.left=s(c[i],"l",a.left);a.bottom=s(c[i],"b",a.bottom);if(c[i].flowLine.indexOf("r")>=0){if(c[i].hasArrow){a.arrow=true}}}return a};sap.suite.ui.commons.ProcessFlowConnection.prototype.addConnectionData=function(s){var t=this.getDrawData();if(!t){t=[]}t.push(s);this.setDrawData(t);return t}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ProcessFlowLaneHeader')){jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowLaneHeader");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.ProcessFlowLaneHeader",{metadata:{library:"sap.suite.ui.commons",properties:{"text":{type:"string",group:"Misc",defaultValue:null},"iconSrc":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"position":{type:"int",group:"Misc",defaultValue:null},"laneId":{type:"string",group:"Misc",defaultValue:null},"state":{type:"object",group:"Misc",defaultValue:null},"zoomLevel":{type:"sap.suite.ui.commons.ProcessFlowZoomLevel",group:"Misc",defaultValue:null}},events:{"press":{}}}});sap.suite.ui.commons.ProcessFlowLaneHeader.M_EVENTS={'press':'press'};jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.m.Image');sap.suite.ui.commons.ProcessFlowLaneHeader.prototype.init=function(){this._virtualTableSpan=1};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype.onAfterRendering=function(){var t=this.$();var $=this.$("lh-icon");var c='click';if(sap.ui.Device.support.touch){c='touchend'}$.on(c,jQuery.proxy(this.ontouchend,this));$.addClass("suiteUiProcessFlowLaneHeaderProcessSymbolIcon");$.css("cursor","inherit");if(this._isHeaderMode()){t.addClass("suiteUiProcessFlowLaneHeaderPointer")}else{t.removeClass("suiteUiProcessFlowLaneHeaderPointer")}if(sap.ui.Device.browser.msie||sap.ui.Device.browser.mozilla){this.$("lh-text").css("word-break","break-all")}if(!this._ellipsisDisabled&&!sap.suite.ui.commons.ProcessFlowLaneHeader._hasNativeLineClamp){this._clampText()}};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype.getSymbolType=function(){return this._oSymbolType?this._oSymbolType:sap.suite.ui.commons.ProcessFlowLaneHeader.symbolType.standardType};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._setSymbolType=function(s,o){o._oSymbolType=s};sap.suite.ui.commons.ProcessFlowLaneHeader.createNewStartSymbol=function(h){var s=sap.suite.ui.commons.ProcessFlowLaneHeader,S=new sap.suite.ui.commons.ProcessFlowLaneHeader({laneId:"processFlowLaneStart"});S._setSymbolType(s.symbolType.startSymbol,S);S._setHeaderMode(h);return S};sap.suite.ui.commons.ProcessFlowLaneHeader.createNewEndSymbol=function(h){var s=sap.suite.ui.commons.ProcessFlowLaneHeader,e=new sap.suite.ui.commons.ProcessFlowLaneHeader({laneId:"processFlowLaneEnd"});e._setSymbolType(s.symbolType.endSymbol,e);e._setHeaderMode(h);return e};sap.suite.ui.commons.ProcessFlowLaneHeader.createNewProcessSymbol=function(h){var s=sap.suite.ui.commons.ProcessFlowLaneHeader,p=new sap.suite.ui.commons.ProcessFlowLaneHeader({laneId:"processFlowLaneProcess",iconSrc:"sap-icon://process"});p._setSymbolType(s.symbolType.processSymbol,p);p._setHeaderMode(h);return p};sap.suite.ui.commons.ProcessFlowLaneHeader.symbolType={startSymbol:"startSymbol",endSymbol:"endSymbol",processSymbol:"processSymbol",standardType:"standardType"};sap.suite.ui.commons.ProcessFlowLaneHeader._constants={nHalfGapSize:0.0241,nMinPercentage:0.025,nRingThickness:5,nRingInnerRadius:24,nPositionX:32,nPositionY:32,nOuterCircleRadius:32,sOuterCircleColor:"#ffffff",sOuterCircleStrokeColor:"#dddddd",nOuterCircleStrokeWidth:1,sSectorPositiveColor:"#61a656",sSectorNegativeColor:"#d32030",sSectorNeutralColor:"#ffffff",sSectorPlannedColor:"#999999",sEllipsis:'...',nEllipsisLength:3};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._clampValues=function(p,n,a){var i=p.length-1,c=false,v;while(i>=0){v=p[i];if(v<n){p[i]=a;c=true}i--}return c};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._rescaleToUnit=function(p,a){var s,i,n,m,v,f;if(!a){a=0}i=p.length-1;s=0;n=m=0;while(i>=0){v=p[i];if(v>0){if(v<=a){m++}else{s+=p[i]}n++}i--}s-=(n-m)*a;f=(1-n*a)/s;i=p.length-1;while(i>=0){v=p[i];if(v>0){p[i]=(v<=a)?a:((v-a)*f+a)}i--}};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._countGaps=function(p){var i=p.length-1,n=0;while(i>=0){if(p[i]>0){n++}i--}if(n===1){n=0}return n};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._rescaleByFactor=function(p,n){var i=p.length-1;while(i>=0){p[i]*=n;i--}};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._colorMap=[sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sSectorPositiveColor,sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sSectorNegativeColor,sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sSectorPlannedColor,sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sSectorNeutralColor];sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._calculateSectorRangeDefinitions=function(p,n){var d=[],b=-Math.PI/2,e,m=p.length,i=0;while(i<m){if(p[i]>0){e=b+2*Math.PI*p[i];d.push({start:b,end:e,color:this._colorMap[i]});b=e+n}i++}return d};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._selectColor=function(p){var c;if(p[0]){c=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sSectorPositiveColor}else if(p[1]){c=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sSectorNegativeColor}else if(p[2]){c=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sSectorPlannedColor}else{c=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sSectorNeutralColor}return c};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._renderDonutPercentages=function(r){var s=this.getState(),n=0,S,p=[0,0,0,0],a,c,b=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nHalfGapSize,d=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nRingInnerRadius,e=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nRingThickness,f=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nRingInnerRadius+e,o=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sOuterCircleColor,O=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sOuterCircleStrokeColor,g=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nOuterCircleStrokeWidth,h=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nOuterCircleRadius,i=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nPositionX,j=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nPositionY,k=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nMinPercentage;if(s&&Object.prototype.toString.call(s)==='[object Array]'&&(s.length>0)){s.forEach(function(l){switch(l.state){case sap.suite.ui.commons.ProcessFlowNodeState.Positive:p[0]=l.value;break;case sap.suite.ui.commons.ProcessFlowNodeState.Negative:p[1]=l.value;break;case sap.suite.ui.commons.ProcessFlowNodeState.Planned:p[2]=l.value;break;case sap.suite.ui.commons.ProcessFlowNodeState.Neutral:default:p[3]=l.value}});this._clampValues(p,0,0);this._rescaleToUnit(p);this._rescaleToUnit(p,k);n=this._countGaps(p);a=(1-n*b/Math.PI);this._rescaleByFactor(p,a);this._renderCircle(r,o,O,g,i,j,h);if(n>0){S=this._calculateSectorRangeDefinitions(p,2*b);this._renderDonutSectors(r,S,i,j,d,f)}else{c=this._selectColor(p);this._renderCircle(r,o,c,e,i,j,d+e/2)}}else{this._renderCircle(r,o,O,g,i,j,h)}};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._renderCircle=function(r,c,s,n,a,b,d){r.write("<circle");r.writeAttribute("id",this.getId()+"-donut-circle");r.writeAttribute("fill",c);r.writeAttribute("stroke",s);r.writeAttribute("stroke-width",n);r.writeAttribute("cx",a);r.writeAttribute("cy",b);r.writeAttribute("r",d);r.write("></circle>")};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._renderDonutSectors=function(r,s,n,a,b,c){var i=0,d=s.length,S,p;while(i<d){S=s[i];p=this._getDonutSectorPath(n,a,S.start,S.end,b,c);r.write("<path");r.writeAttribute("id",this.getId()+"-donut-segment-"+i);r.writeAttribute("d",p);r.writeAttribute("fill",S.color);r.writeAttribute("opacity","1");r.write("></path>");i++}};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._getDonutSectorPath=function(n,a,b,c,e,f){var g=0,p,h,i,j,d,k,l,s,m;if((c-b)%(Math.PI*2)>Math.PI){g=1}k=Math.cos(b);l=Math.cos(c);s=Math.sin(b);m=Math.sin(c);p=(n+e*k).toFixed(3)+','+(a+e*s).toFixed(3);h=(n+f*k).toFixed(3)+','+(a+f*s).toFixed(3);i=(n+f*l).toFixed(3)+','+(a+f*m).toFixed(3);j=(n+e*l).toFixed(3)+','+(a+e*m).toFixed(3);d="M"+p+"L"+h+"A"+f+','+f+" 0 "+g+" 1 "+i+"L"+j+"A"+e+','+e+" 0 "+g+" 0 "+p+"z";return d};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._getImage=function(i,s){this._destroyImage();if(this._oImageControl){this._oImageControl.setSrc(s)}else{this._oImageControl=sap.ui.core.IconPool.createControlByURI(s,sap.m.Image);this._oImageControl.sId=i;this._oImageControl.setParent(this,null,true)}return this._oImageControl};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype.exit=function(){this._destroyImage()};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._destroyImage=function(){if(this._oImageControl){this._oImageControl.destroy()}this._oImageControl=null};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype.ontouchend=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}if(this){this.firePress(this)}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._setHeaderMode=function(h){this._bHeaderMode=h};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._isHeaderMode=function(){return this._bHeaderMode};sap.suite.ui.commons.ProcessFlowLaneHeader.prototype._clampText=function(){var $=this.$("lh-text").length?this.$("lh-text"):null,t=this.getText(),l="",e=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.sEllipsis,E=sap.suite.ui.commons.ProcessFlowLaneHeader._constants.nEllipsisLength,s=E+1,m,i=t.length,M,v;if($){M=parseInt($.css("height").slice(0,-2),10);if($[0].scrollHeight>M){v=$.css("visibility");$.css("visibility","hidden");l=t;do{m=(s+i)>>1;$.textContent=t.slice(0,m-E)+e;if($.scrollHeight>M){i=m}else{s=m;l=$.textContent}}while(i-s>1);$.css("visibility",v)}if($.scrollHeight>M){$.textContent=l}}};sap.suite.ui.commons.ProcessFlowLaneHeader._hasNativeLineClamp=(function(){return document.documentElement.style.webkitLineClamp!==undefined}());sap.suite.ui.commons.ProcessFlowLaneHeader.enableEllipsisSupportForText=function(s){this._ellipsisDisabled=!s};sap.suite.ui.commons.ProcessFlowLaneHeader._setVirtualTableSpan=function(e){this._virtualTableSpan=e};sap.suite.ui.commons.ProcessFlowLaneHeader._getVirtualTableSpan=function(){return this._virtualTableSpan}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ProcessFlowNode')){jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowNode");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.ProcessFlowNode",{metadata:{library:"sap.suite.ui.commons",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"isTitleClickable":{type:"boolean",group:"Misc",defaultValue:false},"laneId":{type:"string",group:"Misc",defaultValue:null},"nodeId":{type:"string",group:"Misc",defaultValue:null},"state":{type:"sap.suite.ui.commons.ProcessFlowNodeState",group:"Misc",defaultValue:sap.suite.ui.commons.ProcessFlowNodeState.Neutral},"children":{type:"string[]",group:"Misc",defaultValue:null},"titleAbbreviation":{type:"string",group:"Misc",defaultValue:null},"stateText":{type:"string",group:"Misc",defaultValue:null},"texts":{type:"string[]",group:"Misc",defaultValue:null},"highlighted":{type:"boolean",group:"Misc",defaultValue:false},"focused":{type:"boolean",group:"Misc",defaultValue:false},"tag":{type:"object",group:"Misc",defaultValue:null}},events:{"titlePress":{},"press":{}}}});sap.suite.ui.commons.ProcessFlowNode.M_EVENTS={'titlePress':'titlePress','press':'press'};jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.m.Text');sap.suite.ui.commons.ProcessFlowNode.prototype._zoomLevel=sap.suite.ui.commons.ProcessFlowZoomLevel.Two;sap.suite.ui.commons.ProcessFlowNode.prototype._tag=null;sap.suite.ui.commons.ProcessFlowNode.prototype._displayState=sap.suite.ui.commons.ProcessFlowDisplayState.Regular;sap.suite.ui.commons.ProcessFlowNode.prototype._foldedCorner=false;sap.suite.ui.commons.ProcessFlowNode.prototype._foldedCornerControl=null;sap.suite.ui.commons.ProcessFlowNode.prototype._parent=null;sap.suite.ui.commons.ProcessFlowNode.prototype._headerControl=null;sap.suite.ui.commons.ProcessFlowNode.prototype._stateTextControl=null;sap.suite.ui.commons.ProcessFlowNode.prototype._iconControl=null;sap.suite.ui.commons.ProcessFlowNode.prototype._text1Control=null;sap.suite.ui.commons.ProcessFlowNode.prototype._text2Control=null;sap.suite.ui.commons.ProcessFlowNode.prototype._navigationFocus=false;sap.suite.ui.commons.ProcessFlowNode.prototype.init=function(){sap.ui.core.IconPool.addIcon("context-menu","businessSuite","BusinessSuiteInAppSymbols","e02b",true)};sap.suite.ui.commons.ProcessFlowNode.prototype.exit=function(){if(this._foldedCornerControl){this._foldedCornerControl.destroy();this._foldedCornerControl=null}if(this._headerControl){this._headerControl.destroy();this._headerControl=null}if(this._stateTextControl){this._stateTextControl.destroy();this._stateTextControl=null}if(this._iconControl){this._iconControl.destroy();this._iconControl=null}if(this._text1Control){this._text1Control.destroy();this._text1Control=null}if(this._text2Control){this._text2Control.destroy();this._text2Control=null}};sap.suite.ui.commons.ProcessFlowNode.prototype._setParentFlow=function(c){this._parent=c};sap.suite.ui.commons.ProcessFlowNode.prototype._getFoldedCornerControl=function(){if(this._foldedCornerControl){this._foldedCornerControl.destroy()}this._foldedCornerControl=new sap.ui.core.Icon({id:this.getId()+"-corner-icon",src:sap.ui.core.IconPool.getIconURI("context-menu","businessSuite"),visible:true});this._foldedCornerControl.addStyleClass("sapUiIconPointer");switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel4");break}this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1");return this._foldedCornerControl};sap.suite.ui.commons.ProcessFlowNode.prototype._getHeaderControl=function(){if(this._headerControl){this._headerControl.destroy()}var n=0;var w="";var v=true;var t=this.getTitle();switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:n=3;break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:n=3;break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:n=2;t=this.getTitleAbbreviation();break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:t="";n=0;w="0px";v=false;break}this._headerControl=new sap.m.Text({id:this.getId()+"-nodeid-anchor-title",text:t,visible:v,wrapping:true,width:w,maxLines:n});if(this.getIsTitleClickable()){this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleClickable")}switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel4");break}this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3Title");return this._headerControl};sap.suite.ui.commons.ProcessFlowNode.prototype._getIconControl=function(){if(this._iconControl){this._iconControl.destroy()}var s=null;var v=true;var a=this.getStateText();if((a===undefined||a===null||a.trim().length===0)&&this._getZoomLevel()!==sap.suite.ui.commons.ProcessFlowZoomLevel.Four){s=null}else{switch(this.getState()){case sap.suite.ui.commons.ProcessFlowNodeState.Positive:s="sap-icon://accept";break;case sap.suite.ui.commons.ProcessFlowNodeState.Negative:s="sap-icon://warning2";break;case sap.suite.ui.commons.ProcessFlowNodeState.Planned:s=null;break;case sap.suite.ui.commons.ProcessFlowNodeState.Neutral:s="sap-icon://process";break}}this._iconControl=new sap.ui.core.Icon({id:this.getId()+"-icon",src:s,visible:v});this._iconControl.addStyleClass("sapUiIconPointer");var r=sap.ui.getCore().getConfiguration().getRTL();if(r){this._iconControl.addStyleClass("sapUiIconSuppressMirrorInRTL")}switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:var i="sapSuiteUiCommonsProcessFlowNode3StateIconLeft";if(r){i="sapSuiteUiCommonsProcessFlowNode3StateIconRight"}this._iconControl.addStyleClass(i);break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconCenter");break}switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel4");break}this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIcon");return this._iconControl};sap.suite.ui.commons.ProcessFlowNode.prototype._getStateTextControl=function(){if(this._stateTextControl){this._stateTextControl.destroy()}var n=2;var w="";var v=true;var s=this.getState();var t=(s===sap.suite.ui.commons.ProcessFlowNodeState.Planned)?"":this.getStateText();switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:n=2;break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:t="";n=0;w="0px";v=false;break}this._stateTextControl=new sap.m.Text({id:this.getId()+"-stateText",text:t,visible:v,wrapping:true,width:w,maxLines:n});switch(s){case sap.suite.ui.commons.ProcessFlowNodeState.Positive:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StatePositive");break;case sap.suite.ui.commons.ProcessFlowNodeState.Negative:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNodeStateNegative");break;case sap.suite.ui.commons.ProcessFlowNodeState.Planned:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StatePlanned");break;case sap.suite.ui.commons.ProcessFlowNodeState.Neutral:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateNeutral");break}switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel4");break}this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateText");return this._stateTextControl};sap.suite.ui.commons.ProcessFlowNode.prototype._getTextControlInternal=function(t,a,c){if(c){c.destroy()}var n=2;var w="";var v=true;var T=a;switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:n=2;break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:n=0;w="0px";v=false;break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:T="";n=0;w="0px";v=false;break}if(this.getState){c=new sap.m.Text({id:this.getId()+t,text:T,visible:v,wrapping:true,width:w,maxLines:n})}return c};sap.suite.ui.commons.ProcessFlowNode.prototype._getText1Control=function(){var t=this.getTexts();if(t&&t.length>0){t=t[0]}this._text1Control=this._getTextControlInternal("-text1-control",t,this._text1Control);switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel1");this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel2");this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break}this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3Text");return this._text1Control};sap.suite.ui.commons.ProcessFlowNode.prototype._getText2Control=function(){var t=this.getTexts();if(t&&t.length>1){t=t[1]}else{t=""}this._text2Control=this._getTextControlInternal("-text2-control",t,this._text2Control);switch(this._getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break}this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3Text");return this._text2Control};sap.suite.ui.commons.ProcessFlowNode.prototype._getZoomLevel=function(){return this._zoomLevel};sap.suite.ui.commons.ProcessFlowNode.prototype._setZoomLevel=function(z){this._zoomLevel=z};sap.suite.ui.commons.ProcessFlowNode.prototype._setNavigationFocus=function(n){this._navigationFocus=n};sap.suite.ui.commons.ProcessFlowNode.prototype._getNavigationFocus=function(){return this._navigationFocus};sap.suite.ui.commons.ProcessFlowNode.prototype._setFoldedCorner=function(f){this._foldedCorner=f};sap.suite.ui.commons.ProcessFlowNode.prototype._getFoldedCorner=function(){return this._foldedCorner};sap.suite.ui.commons.ProcessFlowNode.prototype.setTag=function(t){this._tag=t};sap.suite.ui.commons.ProcessFlowNode.prototype.getTag=function(){return this._tag};sap.suite.ui.commons.ProcessFlowNode.prototype._getDisplayState=function(){var i=this.getFocused();var I=this.getHighlighted();if(i&&I){this._displayState=sap.suite.ui.commons.ProcessFlowDisplayState.HighlightedFocused}else if(i){this._displayState=sap.suite.ui.commons.ProcessFlowDisplayState.RegularFocused}else if(I){this._displayState=sap.suite.ui.commons.ProcessFlowDisplayState.Highlighted}else{if(this._displayState==sap.suite.ui.commons.ProcessFlowDisplayState.HighlightedFocused||this._displayState==sap.suite.ui.commons.ProcessFlowDisplayState.RegularFocused||this._displayState==sap.suite.ui.commons.ProcessFlowDisplayState.Highlighted){this._setRegularState()}}return this._displayState};sap.suite.ui.commons.ProcessFlowNode.prototype._setDimmedState=function(){var i=this.getFocused();var I=this.getHighlighted();if(I){throw new Error("Cannot set dimmed state to highlighed node "+this.getNodeId())}this._displayState=sap.suite.ui.commons.ProcessFlowDisplayState.Dimmed;if(i){this._displayState=sap.suite.ui.commons.ProcessFlowDisplayState.DimmedFocused}};sap.suite.ui.commons.ProcessFlowNode.prototype._setRegularState=function(){this._displayState=sap.suite.ui.commons.ProcessFlowDisplayState.Regular};sap.suite.ui.commons.ProcessFlowNode.prototype.onmouseover=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}var t=this.$();var m='';var M='mouseup';var s='mousedown';var a=(sap.ui.Device.browser.mozilla)?'DOMMouseScroll':'mousewheel';var b='contextmenu dblclick mousemove';var c=(sap.ui.Device.support.touch)?'touchstart saptouchstart':'';var d=(sap.ui.Device.support.touch)?'touchend saptouchend touchcancel saptouchcancel':'';var f=(sap.ui.Device.support.touch)?'touchmove saptouchmove':'';M=M.concat(' ',c);s=s.concat(' ',d);b=b.concat(' ',a,' ',f);m=m.concat(M,s,b);var T=t.find('*');var j=t.attr('id');var i=this._getFoldedCorner();t.addClass("sapSuiteUiCommonsProcessFlowNodeHover");T.addClass("sapSuiteUiCommonsProcessFlowNodeHover");if(i){jQuery('#'+j).removeClass("sapSuiteUiCommonsProcessFlowNodeHover").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeHover");jQuery('div[id^='+j+'][id$=-corner-container]').removeClass("sapSuiteUiCommonsProcessFlowNodeHover").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover");jQuery('span[id^='+j+'][id$=-corner-icon]').removeClass("sapSuiteUiCommonsProcessFlowNodeHover").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover")}t.on(m,function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}switch(e.type){case'mousedown':case'touchstart':case'saptouchstart':t.removeClass("sapSuiteUiCommonsProcessFlowNodeHover").addClass("sapSuiteUiCommonsProcessFlowNodeActive");T.removeClass("sapSuiteUiCommonsProcessFlowNodeHover").addClass("sapSuiteUiCommonsProcessFlowNodeActive");if(i){jQuery('#'+j).removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeHover sapSuiteUiCommonsProcessFlowNodeActive").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive");jQuery('div[id^='+j+'][id$=-corner-container]').removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover sapSuiteUiCommonsProcessFlowNodeActive").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive");jQuery('span[id^='+j+'][id$=-corner-icon]').removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover sapSuiteUiCommonsProcessFlowNodeActive").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive")}break;case'mouseup':case'touchend':case'saptouchend':case'touchcancel':case'saptouchcancel':t.removeClass("sapSuiteUiCommonsProcessFlowNodeActive").addClass("sapSuiteUiCommonsProcessFlowNodeHover");T.removeClass("sapSuiteUiCommonsProcessFlowNodeActive").addClass("sapSuiteUiCommonsProcessFlowNodeHover");if(i){jQuery('#'+j).removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive sapSuiteUiCommonsProcessFlowNodeHover").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeHover");jQuery('div[id^='+j+'][id$=-corner-container]').removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive sapSuiteUiCommonsProcessFlowNodeHover").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover");jQuery('span[id^='+j+'][id$=-corner-icon]').removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive sapSuiteUiCommonsProcessFlowNodeHover").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover")}break;case'contextmenu':case'dblclick':case'mousemove':case'touchmove':case'saptouchmove':case'mousewheel':case'DOMMouseScroll':break}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}});if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}};sap.suite.ui.commons.ProcessFlowNode.prototype.onmouseout=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}var t=this.$();var m='contextmenu dblclick';t.on(m,function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}});var T=t.find('*');var i=this._getFoldedCorner();t.removeClass("sapSuiteUiCommonsProcessFlowNodeActive sapSuiteUiCommonsProcessFlowNodeHover");T.removeClass("sapSuiteUiCommonsProcessFlowNodeActive sapSuiteUiCommonsProcessFlowNodeHover");if(i){var j=t.attr('id');jQuery('#'+j).removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive sapSuiteUiCommonsProcessFlowFoldedCornerNodeHover");jQuery('div[id^='+j+'][id$=-corner-container]').removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover");jQuery('span[id^='+j+'][id$=-corner-icon]').removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover")}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}};sap.suite.ui.commons.ProcessFlowNode.prototype.ontouchstart=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}var t=this.$();var T=t.find('*');var i=this._getFoldedCorner();if(sap.ui.Device.support.touch){t.addClass("sapSuiteUiCommonsProcessFlowNodeActive");T.addClass("sapSuiteUiCommonsProcessFlowNodeActive");if(i){var j=t.attr('id');jQuery('#'+j).removeClass("sapSuiteUiCommonsProcessFlowNodeActive").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive");jQuery('div[id^='+j+'][id$=-corner-container]').removeClass("sapSuiteUiCommonsProcessFlowNodeActive").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive");jQuery('span[id^='+j+'][id$=-corner-icon]').removeClass("sapSuiteUiCommonsProcessFlowNodeActive").addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive")}}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}};sap.suite.ui.commons.ProcessFlowNode.prototype.ontouchend=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}if(sap.ui.Device.support.touch){var t=this.$();var T=t.find('*');var i=this._getFoldedCorner();t.removeClass("sapSuiteUiCommonsProcessFlowNodeActive sapSuiteUiCommonsProcessFlowNodeHover");T.removeClass("sapSuiteUiCommonsProcessFlowNodeActive sapSuiteUiCommonsProcessFlowNodeHover");if(i){var j=t.attr('id');jQuery('#'+j).removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive sapSuiteUiCommonsProcessFlowFoldedCornerNodeHover");jQuery('div[id^='+j+'][id$=-corner-container]').removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover");jQuery('span[id^='+j+'][id$=-corner-icon]').removeClass("sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover")}}if(this._getDisplayState()===sap.suite.ui.commons.ProcessFlowDisplayState.Dimmed||this._getDisplayState()===sap.suite.ui.commons.ProcessFlowDisplayState.DimmedFocused){jQuery.sap.log.info("Event ignored, node in dimmend state.")}else{if(this._parent){if(e.target.id.indexOf("title")>=0&&this.getIsTitleClickable()){this._parent.fireNodeTitlePress(this)}else{this._parent.fireNodePress(this)}this._parent._setFocusOnMouseClick(this)}}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}};sap.suite.ui.commons.ProcessFlowNode.prototype.onclick=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}this.ontouchend(e)}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ProcessFlowRenderer')){
/*
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.ProcessFlowRenderer");sap.suite.ui.commons.ProcessFlowRenderer={};sap.suite.ui.commons.ProcessFlowRenderer.render=function(r,c){var s=this.getZoomStyleClass(c),i,j,n,m,N,o,a,b,d,e,l,D;r.write("<div");r.writeControlData(c);r.addClass("sapSuiteUiScrollContainerPF");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-scroll-content");r.write(">");if(!c.getLanes()||c.getLanes().length==0){r.write("</div>");r.write("</div>");return}try{b=c._getOrCreateProcessFlow();d=c._getOrCreateLaneMap()}catch(f){c._handleException(f);return}r.write("<span tabindex=0 ");r.writeAttribute("id",c.getId()+"-KbInteractionFakeElement");r.addClass("sapSuiteUiKbInteractionFakeElementPF");r.write("></span>");r.write("<table");r.writeAttribute("id",c.getId()+"-table");r.addClass("sapSuiteUiCommonsPF");r.addClass(s);r.writeClasses();r.write(">");e=Object.keys(d).length;r.write("<thead");r.writeAttribute("id",c.getId()+"-thead");r.write(">");r.write("<tr");r.addClass("sapSuiteUiCommonsPFHeader");r.addClass("sapSuiteUiCommonsPFHeaderHidden");r.writeClasses();r.write(">");r.write("<th></th>");i=0;while(i<e-1){r.write("<th></th><th></th><th></th><th></th><th></th>");i++}r.write("<th></th><th></th><th></th>");r.write("<th></th>");r.write("</tr>");r.write("<tr");r.addClass("sapSuiteUiCommonsPFHeaderRow");r.writeClasses();r.write(">");r.write("<th>");l=sap.suite.ui.commons.ProcessFlowLaneHeader.createNewStartSymbol(c._isHeaderMode());r.renderControl(l);r.write("</th>");i=0;var g=0;var h=[];D=false;while(i<(e-1)){var p=1;N=d[i];o=d[i+1];if(N.getLaneId()+p==o.getLaneId()){g=g+1;h.push(N.getState())}else{if(g==0){this._renderNormalNode(r,c,N,i,e)}else{h.push(N.getState());D=true;this._renderMergedNode(r,c,N,g,h,D);h=[];g=0}}i++}if(g==0){this._renderNormalNode(r,c,o,i,e)}else{h.push(o.getState());D=false;this._renderMergedNode(r,c,N,g,h,D);g=0}r.write("<th>");l=sap.suite.ui.commons.ProcessFlowLaneHeader.createNewEndSymbol(c._isHeaderMode());r.renderControl(l);r.write("</th>");r.write("</tr>");r.write("</thead>");r.write("<tbody>");m=b.length;if(m>0){r.write("<tr>");r.write("<td colspan=\""+(e*5).toString()+"\"></td>");r.write("</tr>")}i=0;while(i<m){r.write("<tr>");r.write("<td></td>");n=b[i].length;j=0;while(j<n-1){N=b[i][j];if((j==0)||(j%2)){r.write("<td>")}else{r.write("<td colspan=\"4\">")}if(N){if(N instanceof sap.suite.ui.commons.ProcessFlowNode){N._setParentFlow(c);N._setZoomLevel(c.getZoomLevel());N._setFoldedCorner(c.getFoldedCorners());r.renderControl(N)}else{N.setZoomLevel(c.getZoomLevel());c.addAggregation("connections",N);r.renderControl(N)}}r.write("</td>");j++}r.write("<td></td>");r.write("<td></td>");r.write("</tr>");i++}r.write("</tbody>");r.write("</table>");r.write("</div>");r.write("</div>")};sap.suite.ui.commons.ProcessFlowRenderer.getZoomStyleClass=function(c){var s="";switch(c.getZoomLevel()){case sap.suite.ui.commons.ProcessFlowZoomLevel.One:s="sapSuiteUiCommonsPFZoomLevel1";break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Two:s="sapSuiteUiCommonsPFZoomLevel2";break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Three:s="sapSuiteUiCommonsPFZoomLevel3";break;case sap.suite.ui.commons.ProcessFlowZoomLevel.Four:s="sapSuiteUiCommonsPFZoomLevel4";break}return s};sap.suite.ui.commons.ProcessFlowRenderer._renderNormalNode=function(r,c,n,i,a){r.write("<th colspan=\"3\">");r.renderControl(n);r.write("</th>");if(i<a-1){r.write("<th colspan=\"2\">");var l=sap.suite.ui.commons.ProcessFlowLaneHeader.createNewProcessSymbol(c._isHeaderMode());l.attachPress(jQuery.proxy(c.ontouchend,c));r.renderControl(l);r.write("</th>")}};sap.suite.ui.commons.ProcessFlowRenderer._renderMergedNode=function(r,c,n,a,l,d){var N=c._mergeLaneIdNodeStates(l);n.setState(N);a++;var b=a*3+(a-1)*2;r.write("<th colspan=\""+b+"\">");r.renderControl(n);r.write("</th>");if(d){r.write("<th colspan=\"2\">");var L=sap.suite.ui.commons.ProcessFlowLaneHeader.createNewProcessSymbol(c._isHeaderMode());L.attachPress(jQuery.proxy(c.ontouchend,c));r.renderControl(L);r.write("</th>")}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.RepeaterViewConfiguration')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.RepeaterViewConfiguration");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.RepeaterViewConfiguration",{metadata:{library:"sap.suite.ui.commons",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"iconHovered":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"path":{type:"string",group:"Misc",defaultValue:null},"itemMinWidth":{type:"int",group:"Misc",defaultValue:-1},"numberOfTiles":{type:"int",group:"Misc",defaultValue:-1},"responsive":{type:"any",group:"Misc",defaultValue:false},"external":{type:"boolean",group:"Misc",defaultValue:false},"iconSelected":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"itemHeight":{type:"int",group:"Misc",defaultValue:null}},aggregations:{"template":{type:"sap.ui.core.Control",multiple:false},"externalRepresentation":{type:"sap.ui.core.Control",multiple:false}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.SplitButton')){jQuery.sap.declare("sap.suite.ui.commons.SplitButton");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.SplitButton",{metadata:{library:"sap.suite.ui.commons",properties:{"visible":{type:"boolean",group:"Misc",defaultValue:true},"enabled":{type:"boolean",group:"Behavior",defaultValue:true},"lite":{type:"boolean",group:"Appearance",defaultValue:false},"style":{type:"sap.ui.commons.ButtonStyle",group:"Appearance",defaultValue:sap.ui.commons.ButtonStyle.Default},"styled":{type:"boolean",group:"Appearance",defaultValue:true},"iconFirst":{type:"boolean",group:"Appearance",defaultValue:true},"text":{type:"string",group:"Appearance",defaultValue:''},"icon":{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''}},aggregations:{"menu":{type:"sap.ui.commons.Menu",multiple:false}}}});jQuery.sap.require('sap.ui.commons.Button');jQuery.sap.require('sap.ui.commons.MenuButton');jQuery.sap.require('sap.ui.commons.MenuItem');(function(){function e(M,o){if(!o||!M||M.getItems().length===0){return false}if(M.indexOfItem(o)>=0){return true}var I=M.getItems();var s=null;for(var i=0;i<I.length;i++){s=I[i].getSubmenu();if(e(s,o)){return true}}return false}function m(s){return function(){sap.ui.commons.MenuItem.prototype.setVisible.apply(s._oMenuItem,arguments);if(!s._oMenuItem.getVisible()){s.setMenu(s._oMenuButton.getMenu())}return s._oMenuItem}}function a(s){return function(){sap.ui.commons.MenuItem.prototype.setIcon.apply(s._oMenuItem,arguments);if(!s.getIcon()){s._oDefaultActionButton.setIcon(s._oMenuItem.getIcon())}return s._oMenuItem}}function b(s){return function(){sap.ui.commons.MenuItem.prototype.setTooltip.apply(s._oMenuItem,arguments);s._oDefaultActionButton.setTooltip(s._oMenuItem.getTooltip());return s._oMenuItem}}var c=function(s){return function(){sap.ui.commons.MenuItem.prototype.setText.apply(s._oMenuItem,arguments);if(!s.getText()){s._oDefaultActionButton.setText(s._oMenuItem.getText())}return s._oMenuItem}};var d=function(s){return function(){sap.ui.commons.MenuItem.prototype.setEnabled.apply(s._oMenuItem,arguments);if(s.getEnabled()){s._oDefaultActionButton.setEnabled(s._oMenuItem.getEnabled())}return s._oMenuItem}};sap.suite.ui.commons.SplitButton.prototype.init=function(){this._oDefaultActionButton=new sap.ui.commons.Button(this.getId()+"-defaultActionButton");var t=this;this._oDefaultActionButton.attachPress(function(){if(t._oMenuItem){t._oMenuItem.fireSelect()}});this._oMenuButton=new sap.ui.commons.MenuButton(this.getId()+"-menuButton");this._oMenuButton.addStyleClass("sapSuiteUiCommonsSplitButton-menuButton");if(this.getMenu()){this._oMenuButton.setMenu(this.getMenu())}};sap.suite.ui.commons.SplitButton.prototype.exit=function(){this.destroyAggregation("menu",true);this._oDefaultActionButton.destroy();this._oDefaultActionButton=null;this._oMenuButton.destroy();this._oMenuButton=null};sap.suite.ui.commons.SplitButton.prototype.setMenu=function(M,o){var t=this;this._oMenuButton.setMenu(M);if(e(M,o)&&o.getVisible()){this._oMenuItem=o}else{if(M&&M.getItems()){var f=M.getItems()[0];if(f&&f.getVisible()){this._oMenuItem=f}else{this._oMenuItem=null}}}if(this._oMenuItem){if(!this.getText()){this._oDefaultActionButton.setText(this._oMenuItem.getText()||null)}if(!this.getIcon()){this._oDefaultActionButton.setIcon(this._oMenuItem.getIcon()||null)}if(this.getEnabled()){this._oDefaultActionButton.setEnabled(this._oMenuItem.getEnabled())}this._oDefaultActionButton.setTooltip(this._oMenuItem.getTooltip()||null);this._oMenuItem.setTooltip=b(t);this._oMenuItem.setText=c(t);this._oMenuItem.setIcon=a(t);this._oMenuItem.setEnabled=d(t);this._oMenuItem.setVisible=m(t)}return this};sap.suite.ui.commons.SplitButton.prototype.getMenu=function(){return this._oMenuButton.getMenu()};sap.suite.ui.commons.SplitButton.prototype.destroyMenu=function(){this._oMenuButton.destroyMenu();return this};sap.suite.ui.commons.SplitButton.prototype.setEnabled=function(E){this._oDefaultActionButton.setEnabled(E);this._oMenuButton.setEnabled(E);this.setProperty("enabled",E)};sap.suite.ui.commons.SplitButton.prototype.setLite=function(l){this._oDefaultActionButton.setLite(l);this._oMenuButton.setLite(l);this.setProperty("lite",l)};sap.suite.ui.commons.SplitButton.prototype.setStyle=function(s){this._oDefaultActionButton.setStyle(s);this._oMenuButton.setStyle(s);this.setProperty("style",s)};sap.suite.ui.commons.SplitButton.prototype.setStyled=function(s){this._oDefaultActionButton.setStyled(s);this._oMenuButton.setStyled(s);this.setProperty("styled",s)};sap.suite.ui.commons.SplitButton.prototype.setIconFirst=function(i){this._oDefaultActionButton.setIconFirst(i);this.setProperty("iconFirst",i)};sap.suite.ui.commons.SplitButton.prototype.setIcon=function(i){this._oDefaultActionButton.setIcon(i);this.setProperty("icon",i)};sap.suite.ui.commons.SplitButton.prototype.setText=function(t){this._oDefaultActionButton.setText(t);this.setProperty("text",t)}}())};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ThingCollection')){jQuery.sap.declare("sap.suite.ui.commons.ThingCollection");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.ThingCollection",{metadata:{publicMethods:["shiftPrev","shiftNext","addNextContent"],library:"sap.suite.ui.commons",properties:{"width":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'100%'},"height":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'100%'},"minWidth":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},"minHeight":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null}},aggregations:{"content":{type:"sap.ui.ux3.ThingViewer",multiple:true,singularName:"content"}}}});sap.suite.ui.commons.ThingCollection.prototype.init=function(){this._iCenterNum=0;this._bScrollDisabled=false;var t=this;this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._oRemoveButton=new sap.ui.commons.Link({id:this.getId()+"-remove-button",tooltip:this._rb.getText("THINGCOLLECTION_BUTTON_REMOVE_TOOLTIP"),press:function(){t._removeCenterContent()}});this._oRemoveButton.addStyleClass("sapUiUx3OverlayCloseButton");this._initTouchEvents()};sap.suite.ui.commons.ThingCollection.prototype.exit=function(){this._oRemoveButton.destroy()};sap.suite.ui.commons.ThingCollection.prototype.onBeforeRendering=function(){this._oCenterControl=this.getContent()[this._iCenterNum]||null};sap.suite.ui.commons.ThingCollection.prototype.onAfterRendering=function(){var t=this;jQuery.sap.byId(this.getId()+"-nav-prev").bind("click",function(){t.shiftPrev()});jQuery.sap.byId(this.getId()+"-nav-next").bind("click",function(){t.shiftNext()});this._updateArrows();if(this.getContent().length<=1){this._hideRemoveButton()}jQuery.sap.byId(this._oRemoveButton.getId()).attr("role","button");jQuery.sap.byId(this._oRemoveButton.getId()).attr("aria-disabled","false")};sap.suite.ui.commons.ThingCollection.prototype.addContent=function(c){this.addAggregation("content",c,true);this._updateArrows();this._showRemoveButton();return this};sap.suite.ui.commons.ThingCollection.prototype.addNextContent=function(c){this.insertAggregation("content",c,this._iCenterNum+1,true);this._updateArrows();this._showRemoveButton();return this};sap.suite.ui.commons.ThingCollection.prototype.shiftPrev=function(){if(this._isShiftPrevForbidden()){return}var t=this;this._hideRemoveButton();this._bScrollDisabled=true;var c="#"+this.getId()+"-container";var p=jQuery(c+">.sapSuiteTcPrev");var C=jQuery(c+">.sapSuiteTcCenter");var n=jQuery(c+">.sapSuiteTcNext");var r=sap.ui.getCore().createRenderManager();var d=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";this._iCenterNum--;var D={};D[d]="+=110%";this._renderPrevPanel(r,this.getContent()[this._iCenterNum]);C.animate(D,800);p.animate(D,800,function(){n.css(d,"-110%");t._renderNextPanel(r);r.destroy();t._bScrollDisabled=false;t._updateArrows();t._showRemoveButton();jQuery(c).focus();C.show()});p.removeClass("sapSuiteTcPrev").addClass("sapSuiteTcCenter").attr("aria-hidden","false");C.removeClass("sapSuiteTcCenter").addClass("sapSuiteTcNext").attr("aria-hidden","true");n.removeClass("sapSuiteTcNext").addClass("sapSuiteTcPrev")};sap.suite.ui.commons.ThingCollection.prototype.shiftNext=function(){if(this._isShiftNextForbidden()){return}var t=this;this._hideRemoveButton();this._bScrollDisabled=true;var c="#"+this.getId()+"-container";var p=jQuery(c+">.sapSuiteTcPrev");var C=jQuery(c+">.sapSuiteTcCenter");var n=jQuery(c+">.sapSuiteTcNext");var r=sap.ui.getCore().createRenderManager();var d=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";this._iCenterNum++;var D={};D[d]="-=110%";this._renderNextPanel(r,this.getContent()[this._iCenterNum]);C.animate(D,800);n.animate(D,800,function(){p.css(d,"110%");t._renderPrevPanel(r);r.destroy();t._bScrollDisabled=false;t._updateArrows();t._showRemoveButton();jQuery(c).focus();C.show()});p.removeClass("sapSuiteTcPrev").addClass("sapSuiteTcNext");C.removeClass("sapSuiteTcCenter").addClass("sapSuiteTcPrev").attr("aria-hidden","true");n.removeClass("sapSuiteTcNext").addClass("sapSuiteTcCenter").attr("aria-hidden","false")};sap.suite.ui.commons.ThingCollection.prototype.onsapprevious=function(e){this.shiftPrev();e.preventDefault()};sap.suite.ui.commons.ThingCollection.prototype.onsapnext=function(e){this.shiftNext();e.preventDefault()};sap.suite.ui.commons.ThingCollection.prototype._initTouchEvents=function(){if(jQuery.sap.touchEventMode!="OFF"){var t=this;this.onswipeleft=function(e){e.preventDefault();t.shiftNext()};this.onswiperight=function(e){e.preventDefault();t.shiftPrev()}}};sap.suite.ui.commons.ThingCollection.prototype._removeCenterContent=function(){this._hideRemoveButton();this.removeAggregation("content",this.getContent()[this._iCenterNum],true);var t=this;var c=this.getContent().length;var C=jQuery("#"+this.getId()+"-container>.sapSuiteTcCenter");C.hide(600);if(t._iCenterNum>=c){t._iCenterNum=c;t.shiftPrev()}else{t._iCenterNum-=1;t.shiftNext()}};sap.suite.ui.commons.ThingCollection.prototype._showRemoveButton=function(){if(this.getContent().length>1){jQuery.sap.byId(this.getId()+"-remove-button").show()}};sap.suite.ui.commons.ThingCollection.prototype._hideRemoveButton=function(){jQuery.sap.byId(this.getId()+"-remove-button").hide()};sap.suite.ui.commons.ThingCollection.prototype._updateArrows=function(){var n=jQuery.sap.byId(this.getId()+"-nav-prev");var N=jQuery.sap.byId(this.getId()+"-nav-next");var p="";var s="";if(this._isShiftPrevForbidden()){n.removeClass("sapSuiteTcNavPrevArrow")}else{n.addClass("sapSuiteTcNavPrevArrow");p=this._rb.getText("THINGCOLLECTION_BUTTON_PREVIOUS_TOOLTIP")}n.attr("title",p);if(this._isShiftNextForbidden()){N.removeClass("sapSuiteTcNavNextArrow")}else{N.addClass("sapSuiteTcNavNextArrow");s=this._rb.getText("THINGCOLLECTION_BUTTON_NEXT_TOOLTIP")}N.attr("title",s)};sap.suite.ui.commons.ThingCollection.prototype._isShiftPrevForbidden=function(){return this._bScrollDisabled||(this._iCenterNum<=0)};sap.suite.ui.commons.ThingCollection.prototype._isShiftNextForbidden=function(){return this._bScrollDisabled||(this._iCenterNum>=this.getContent().length-1)};sap.suite.ui.commons.ThingCollection.prototype._renderPrevPanel=function(r,c){this._renderPanel(r,c,true)};sap.suite.ui.commons.ThingCollection.prototype._renderNextPanel=function(r,c){this._renderPanel(r,c,false)};sap.suite.ui.commons.ThingCollection.prototype._renderPanel=function(r,c,l){var p="#"+this.getId()+"-container>"+(l?".sapSuiteTcPrev":".sapSuiteTcNext");var P=jQuery(p);if(P.length>0){if(c){r.renderControl(c)}else{r.write("")}r.flush(P[0])}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ThreePanelThingInspector')){jQuery.sap.declare("sap.suite.ui.commons.ThreePanelThingInspector");jQuery.sap.require('sap.ui.ux3.ThingInspector');sap.ui.ux3.ThingInspector.extend("sap.suite.ui.commons.ThreePanelThingInspector",{metadata:{library:"sap.suite.ui.commons",properties:{"showHeader":{type:"boolean",group:"Misc",defaultValue:true},"logo":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"sidebarWidth":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'224px'}},aggregations:{"menuContent":{type:"sap.ui.commons.Link",multiple:true,singularName:"menuContent"}}}});jQuery.sap.require('sap.ui.ux3.ThingInspector');sap.suite.ui.commons.ThreePanelThingInspector.prototype.init=function(){sap.ui.ux3.ThingInspector.prototype.init.apply(this);var t=this;this._oThingViewer.destroy();this._oThingViewer=new sap.suite.ui.commons.ThreePanelThingViewer(this.getId()+"-thingViewer");this.setAggregation("thingViewer",this._oThingViewer);this._oThingViewer.attachFacetSelected(function(e){var i=e.getParameters().item;if(t.fireFacetSelected({id:i.getId(),key:i.getKey(),item:i})){t.setSelectedFacet(i)}else{e.preventDefault()}})};sap.suite.ui.commons.ThreePanelThingInspector.prototype.setShowHeader=function(s){this._oThingViewer.setShowHeader(s);return this};sap.suite.ui.commons.ThreePanelThingInspector.prototype.getShowHeader=function(){this._oThingViewer.getShowHeader()};sap.suite.ui.commons.ThreePanelThingInspector.prototype.setLogo=function(u){this._oThingViewer.setLogo(u);return this};sap.suite.ui.commons.ThreePanelThingInspector.prototype.getLogo=function(){this._oThingViewer.getLogo()};sap.suite.ui.commons.ThreePanelThingInspector.prototype.getSidebarWidth=function(){this._oThingViewer.getSidebarWidth()};sap.suite.ui.commons.ThreePanelThingInspector.prototype.setSidebarWidth=function(w){this._oThingViewer.setSidebarWidth(w);return this};sap.suite.ui.commons.ThreePanelThingInspector.prototype.addMenuContent=function(c){this._oThingViewer.addMenuContent(c);return this};sap.suite.ui.commons.ThreePanelThingInspector.prototype.insertMenuContent=function(c,i){this._oThingViewer.insertMenuContent(c,i);return this};sap.suite.ui.commons.ThreePanelThingInspector.prototype.getMenuContent=function(){return this._oThingViewer.getMenuContent()};sap.suite.ui.commons.ThreePanelThingInspector.prototype.removeMenuContent=function(c){return this._oThingViewer.removeMenuContent(c)};sap.suite.ui.commons.ThreePanelThingInspector.prototype.removeAllMenuContent=function(){return this._oThingViewer.removeAllMenuContent()};sap.suite.ui.commons.ThreePanelThingInspector.prototype.indexOfMenuContent=function(c){return this._oThingViewer.indexOfMenuContent(c)};sap.suite.ui.commons.ThreePanelThingInspector.prototype.destroyMenuContent=function(){this._oThingViewer.destroyMenuContent();return this}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.TileContent')){jQuery.sap.declare("sap.suite.ui.commons.TileContent");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.TileContent",{metadata:{library:"sap.suite.ui.commons",properties:{"footer":{type:"string",group:"Appearance",defaultValue:null},"size":{type:"sap.suite.ui.commons.InfoTileSize",group:"Misc",defaultValue:"Auto"},"unit":{type:"string",group:"Misc",defaultValue:null},"disabled":{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{"content":{type:"sap.ui.core.Control",multiple:false}}}});sap.suite.ui.commons.TileContent.prototype.init=function(){this._oDelegate={onAfterRendering:function(e){e.srcControl.$().removeAttr("tabindex")}}};sap.suite.ui.commons.TileContent.prototype._getContentType=function(){if(this.getContent()){var c=this.getContent().getMetadata().getName();if(c=="sap.suite.ui.commons.NewsContent"){return"News"}}};sap.suite.ui.commons.TileContent.prototype.onAfterRendering=function(){var c=this.getContent();var t=jQuery(this.getDomRef());if(!t.attr("title")){var C=c.getTooltip_AsString();var T=t.find("*");T.removeAttr("title");var o=C?C:"";t.attr("title",o+"\n"+this._getFooterText())}};sap.suite.ui.commons.TileContent.prototype._getFooterText=function(){var f=this.getFooter();var u=this.getUnit();return u?(sap.ui.getCore().getConfiguration().getRTL()?((f?f+" ,":"")+u):(u+(f?", "+f:""))):f};sap.suite.ui.commons.TileContent.prototype.onBeforeRendering=function(){if(this.getContent()){if(this.getDisabled()){this.getContent().addDelegate(this._oDelegate)}else{this.getContent().removeDelegate(this._oDelegate)}}};sap.suite.ui.commons.TileContent.prototype.setContent=function(o,s){if(this.getContent()){this.getContent().removeDelegate(this._oDelegate)}this.setAggregation("content",o,s)}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.TimelineFilterListItem')){jQuery.sap.declare("sap.suite.ui.commons.TimelineFilterListItem");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.TimelineFilterListItem",{metadata:{library:"sap.suite.ui.commons",properties:{"key":{type:"string",group:"Data",defaultValue:null},"text":{type:"string",group:"Misc",defaultValue:null}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.TimelineItem')){jQuery.sap.declare("sap.suite.ui.commons.TimelineItem");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.TimelineItem",{metadata:{library:"sap.suite.ui.commons",properties:{"dateTime":{type:"any",group:"Misc",defaultValue:null},"userName":{type:"string",group:"Misc",defaultValue:null},"title":{type:"string",group:"Misc",defaultValue:null},"text":{type:"string",group:"Misc",defaultValue:null},"icon":{type:"string",group:"Misc",defaultValue:null},"filterValue":{type:"string",group:"Misc",defaultValue:null},"userNameClickable":{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{"embeddedControl":{type:"sap.ui.core.Control",multiple:false}},events:{"userNameClicked":{}}}});sap.suite.ui.commons.TimelineItem.M_EVENTS={'userNameClicked':'userNameClicked'};jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ui.core.format.DateFormat');sap.suite.ui.commons.TimelineItem.prototype.init=function(){var l=sap.ui.getCore().getConfiguration().getLanguage();this.resBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons",l);this._showIcons=false};sap.suite.ui.commons.TimelineItem.prototype._formatDateValue=function(d){var D;if(d instanceof Date){D=d}else if(typeof d==="string"){if(d.indexOf("Date")!=-1){var i=d.substring(d.indexOf("(")+1,d.indexOf(")"));D=new Date(parseInt(i))}}else{D=new Date(parseInt(d))}var r="";var a=0,t,T=new Date();var c=T.getFullYear();var b=T.getMonth();var e=T.getDate();var f=D.getFullYear();var g=D.getMonth();var h=D.getDate();var j=Date.UTC(c,b,e);var k=Date.UTC(f,g,h);t=j.valueOf()-k.valueOf();a=Math.floor(t/(24*60*60*1000));var l=sap.ui.core.format.DateFormat.getDateInstance({style:"short"});var m=sap.ui.core.format.DateFormat.getTimeInstance({style:"short"});if(a==0){r=this.resBundle.getText('TIMELINE_TODAY')}else if(a==1){r=this.resBundle.getText('TIMELINE_YESTERDAY')}else if(a>1){r=l.format(D)}else{return D.toString()}r+=" "+this.resBundle.getText('TIMELINE_AT')+" "+m.format(D);return r};sap.suite.ui.commons.TimelineItem.prototype._getImageControl=function(){var i=this.getIcon()?this.getIcon():"activity-items";var I=this.getId()+'-icon';var p={src:i};var c=['sapSuiteUiCommonsTimelineItemIcon'];this._oImageControl=sap.m.ImageHelper.getImageControl(I,this._oImageControl,this,p,c);return this._oImageControl};sap.suite.ui.commons.TimelineItem.prototype._isOfTypeTimelineItem=function(){return true};sap.suite.ui.commons.TimelineItem.prototype.setLayout=function(p,a){this._position=p;this._alignment=a};sap.suite.ui.commons.TimelineItem.prototype.setUserNameClickable=function(u){this.setProperty("userNameClickable",u,true);if(!this._userNameLink){var t=this;this._userNameLink=new sap.m.Link({text:this.getUserName(),press:function(e){t.fireUserNameClicked()}})}};sap.suite.ui.commons.TimelineItem.prototype.onBeforeRendering=function(){if(this.getUserNameClickable()&&(!this._userNameLink)){var t=this;this._userNameLink=new sap.m.Link({text:this.getUserName(),press:function(e){t.fireUserNameClicked()}})}};sap.suite.ui.commons.TimelineItem.prototype.exit=function(){if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=undefined}if(this._userNameLink){this._userNameLink.destroy();this._userNameLink=undefined}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.UnifiedThingGroup')){jQuery.sap.declare("sap.suite.ui.commons.UnifiedThingGroup");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.UnifiedThingGroup",{metadata:{library:"sap.suite.ui.commons",properties:{"title":{type:"string",group:"Misc",defaultValue:null},"description":{type:"string",group:"Misc",defaultValue:null},"design":{type:"sap.suite.ui.commons.ThingGroupDesign",group:"Misc",defaultValue:sap.suite.ui.commons.ThingGroupDesign.ZeroIndent}},aggregations:{"content":{type:"sap.ui.core.Control",multiple:false}}}})};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.UnifiedThingInspector')){jQuery.sap.declare("sap.suite.ui.commons.UnifiedThingInspector");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.UnifiedThingInspector",{metadata:{publicMethods:["getSelectedFacet","navigateToDetailWithContent","navigateToDetail","navigateToPage","navigateToPageId"],library:"sap.suite.ui.commons",properties:{"height":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'100%'},"title":{type:"string",group:"Misc",defaultValue:null},"name":{type:"string",group:"Misc",defaultValue:null},"description":{type:"string",group:"Misc",defaultValue:null},"icon":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"transactionsVisible":{type:"boolean",group:"Misc",defaultValue:false},"actionsVisible":{type:"boolean",group:"Misc",defaultValue:false},"destroyPageOnBack":{type:"boolean",group:"Misc",defaultValue:true},"configurationVisible":{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{"facets":{type:"sap.suite.ui.commons.FacetOverview",multiple:true,singularName:"facet"},"facetContent":{type:"sap.ui.core.Control",multiple:true,singularName:"facetContent"},"navContainer":{type:"sap.m.NavContainer",multiple:false,visibility:"hidden"},"kpis":{type:"sap.suite.ui.commons.KpiTile",multiple:true,singularName:"kpi"},"transactions":{type:"sap.ui.core.Control",multiple:true,singularName:"transaction",deprecated:true},"actions":{type:"sap.m.Button",multiple:true,singularName:"action",deprecated:true},"pages":{type:"sap.ui.core.Control",multiple:true,singularName:"page"},"objectHeader":{type:"sap.m.ObjectHeader",multiple:false,visibility:"hidden"}},events:{"backAction":{},"transactionsButtonPress":{allowPreventDefault:true},"actionsButtonPress":{allowPreventDefault:true},"configurationButtonPress":{},"navigate":{allowPreventDefault:true},"afterNavigate":{}}}});sap.suite.ui.commons.UnifiedThingInspector.M_EVENTS={'backAction':'backAction','transactionsButtonPress':'transactionsButtonPress','actionsButtonPress':'actionsButtonPress','configurationButtonPress':'configurationButtonPress','navigate':'navigate','afterNavigate':'afterNavigate'};jQuery.sap.require('sap.m.NavContainer');jQuery.sap.require('sap.ui.layout.Grid');jQuery.sap.require('sap.ui.core.IconPool');sap.suite.ui.commons.UnifiedThingInspector.prototype.init=function(){this._altKey=false;var t=this;this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._bDetailPageIsTransitioning=false;this._oNavContainer=new sap.m.NavContainer(this.getId()+"-nav-container",{navigate:function(e){t._bDetailPageIsTransitioning=true;t.fireNavigate(e)},afterNavigate:function(e){t._bDetailPageIsTransitioning=false;if(t.getDestroyPageOnBack()){var p=e.getParameter("from");var i=t._oNavContainer.indexOfPage(p);if(i>1&&e.getParameter("isBack")){p.destroy(true)}}t.fireAfterNavigate(e)}});this.setAggregation("navContainer",this._oNavContainer);this._oActionSheet=new sap.m.ActionSheet(this.getId()+"-action-sheet",{showCancelButton:true,placement:sap.m.PlacementType.Top});this._oTransactionSheet=new sap.suite.ui.commons.LinkActionSheet(this.getId()+"-transaction-sheet",{showCancelButton:true,placement:sap.m.PlacementType.Top,itemPress:function(e){var i=e.getParameter("item");if(i.getMetadata().getName()=="sap.m.Link"&&i._bEnterWasPressed){t._bDontOpenTransactions=true}}});this._oKpiScrollCont=new sap.m.ScrollContainer(this.getId()+"-kpi-scroll-container",{width:"100%",horizontal:this.isPhone()});this._oKpiScrollCont.addStyleClass("sapSuiteUtiKpiBox");this._oFacetsGrid=new sap.ui.layout.Grid(this.getId()+"-facets-grid",{defaultSpan:"L6 M12 S12",hSpacing:1,vSpacing:1,width:"auto"});this._oFacetsGrid.addStyleClass("sapSuiteUtiFacetGrid");this._oHeader=this._createHeaderObject(this.getId()+"-header");this._oHeader.getObjectHeader()._titleText.setMaxLines(2);this._oHeaderGrid=new sap.ui.layout.Grid(this.getId()+"-header-grid",{hSpacing:0,vSpacing:0,content:[this._oHeader,this._oKpiScrollCont]});this._oMasterPage=new sap.m.Page(this.getId()+"-master-page",{content:[this._oHeaderGrid,this._oFacetsGrid],showNavButton:true,footer:new sap.m.Bar(this.getId()+"-master-footer",{contentRight:[new sap.m.Button(this.getId()+"-master-action-button",{icon:"sap-icon://action",press:function(){var o={};o.caller=this;if(t.fireActionsButtonPress(o)){if(t._oActionSheet.getButtons().length){t._oActionSheet.openBy(this)}else{jQuery.sap.log.info("The are no actions for displaying")}}}})]}),navButtonPress:function(){t.fireBackAction()}});this._oMasterPage.getFooter().insertContentRight(new sap.m.Button(this.getId()+"-master-transaction-button",{text:t._rb.getText("UNIFIEDTHINGINSPECTOR_FOOTER_BUTTON_OPENWITH")+"...",press:function(){if(!t._bDontOpenTransactions){var o={};o.caller=this;if(t.fireTransactionsButtonPress(o)){if(t._oTransactionSheet.getItems().length){t._oTransactionSheet.openBy(this)}else{jQuery.sap.log.info("The are no transactions for displaying")}}}else{t._bDontOpenTransactions=false}}}),0);this._oDetailPage=new sap.m.Page(this.getId()+"-detail-page",{showNavButton:true,footer:new sap.m.Bar(this.getId()+"-detail-footer",{contentRight:[new sap.m.Button(this.getId()+"-detail-action-button",{icon:"sap-icon://action",press:function(){var o={};o.caller=this;if(t.fireActionsButtonPress(o)){if(t._oActionSheet.getButtons().length){t._oActionSheet.openBy(this)}else{jQuery.sap.log.info("The are no actions for displaying")}}}})]}),navButtonPress:function(){t._navigateToMaster()}});this._oDetailPage.getFooter().insertContentRight(new sap.m.Button(this.getId()+"-detail-transaction-button",{text:t._rb.getText("UNIFIEDTHINGINSPECTOR_FOOTER_BUTTON_OPENWITH")+"...",press:function(){var o={};o.caller=this;if(t.fireTransactionsButtonPress(o)){if(t._oTransactionSheet.getItems().length){t._oTransactionSheet.openBy(this)}else{jQuery.sap.log.info("The are no transactions for displaying")}}}}),0);this._oNavContainer.addPage(this._oMasterPage);this._oNavContainer.addPage(this._oDetailPage);if(!jQuery.device.is.desktop){sap.ui.Device.orientation.attachHandler(function(e){t._updateHeaderLayoutData(e);t._adjustFacetLayout()})}this.setModel=function(m,n){sap.suite.ui.commons.UnifiedThingInspector.prototype.setModel.apply(this,arguments);this._oActionSheet.setModel(m,n);this._oTransactionSheet.setModel(m,n);return this};this._bindedAdjustFacetLayout=this._adjustFacetLayout.bind(this);this._oDelegate={onclick:function(e){t.$().find(".sapSuiteFov").removeAttr("tabindex");var f=jQuery(e.currentTarget);f.attr("tabindex",0);jQuery.sap.focus(f)},onAfterRendering:function(e){t._adjustFacetLayout();if(t._sCurrentFoId==e.srcControl.getId()){e.srcControl.$().attr("tabindex",0)}},onkeydown:function(e){var f=e.srcControl.$();var m=function(n){if(n.length){n.attr("tabindex",0);jQuery.sap.focus(n.get(0));f.removeAttr("tabindex");t._sCurrentFoId=n.attr("id")}};var M=function(s){var n=t.$().find((s.row!=undefined?"[data-row="+s.row+"]":"")+(s.col!=undefined?"[data-col="+s.col+"]":"")+(s.f!=undefined?"[data-f="+s.f+"]":""));m(n)};var r=f.attr("data-row");var c=f.attr("data-col");var F=f.attr("data-f");var R=sap.ui.getCore().getConfiguration().getRTL();var a=R?jQuery.sap.KeyCodes.ARROW_RIGHT:jQuery.sap.KeyCodes.ARROW_LEFT;var A=R?jQuery.sap.KeyCodes.ARROW_LEFT:jQuery.sap.KeyCodes.ARROW_RIGHT;switch(e.which){case jQuery.sap.KeyCodes.ARROW_UP:M({row:parseInt(r)-1,col:c});e.preventDefault();break;case jQuery.sap.KeyCodes.ARROW_DOWN:M({row:parseInt(r)+1,col:c});e.preventDefault();break;case a:if(A==t._prevKey&&!f.is(t._prevFo)){m(t._prevFo)}else{M({col:parseInt(c)-1,f:F})}e.preventDefault();break;case A:if(a==t._prevKey&&!f.is(t._prevFo)){m(t._prevFo)}else{M({col:parseInt(c)+1,f:F})}e.preventDefault();break;case jQuery.sap.KeyCodes.HOME:m(t.$().find("[data-home]"));e.preventDefault();break;case jQuery.sap.KeyCodes.END:m(t.$().find("[data-end]"));e.preventDefault()}t._prevKey=e.which;t._prevFo=f}}};sap.suite.ui.commons.UnifiedThingInspector.prototype.exit=function(){var t=this;this._oActionSheet.destroy();this._oTransactionSheet.destroy();sap.ui.Device.orientation.detachHandler(function(){t._updateHeaderLayoutData()});sap.ui.core.ResizeHandler.deregister(this._sTitleResizeHandlerId)};sap.suite.ui.commons.UnifiedThingInspector.prototype._updateHeaderLayoutData=function(e){var c="";var s=jQuery.sap.byId(this.getId()+"-kpi-scroll-container-scroll");var S=this.getScrollClass();if(jQuery.device.is.tablet&&!e.landscape){c="100%";s.addClass(S)}else{s.removeClass(S)}s.css("width",c)};sap.suite.ui.commons.UnifiedThingInspector.prototype._adjustFacetLayout=function(){var f=this.getFacets().length;if(f>0){this.getFacets()[0].$().attr("data-home",true);this.getFacets()[f-1].$().attr("data-end",true)}if(this.$().outerWidth(true)>=1024||this._oFacetsGrid.$().hasClass("sapUiRespGridMedia-Std-Desktop")){this._adjustTwoColumnFacetLayout()}else{this._adjustOneColumnFacetLayout()}};sap.suite.ui.commons.UnifiedThingInspector.prototype._adjustOneColumnFacetLayout=function(){var f=this.getFacets().length;for(var i=0;i<f;i++){this.getFacets()[i].$().attr("data-row",i).attr("data-col",0).parent().css("margin-top","").removeClass("sapSuiteUtiFacetLeft")}};sap.suite.ui.commons.UnifiedThingInspector.prototype._adjustTwoColumnFacetLayout=function(){this._adjustOneColumnFacetLayout();var f=this.getFacets();var F=0;var l=0,r=0,a=-1;var b=f.length;for(var i=0;i<b;i++){var h=parseFloat(f[i].$().css("height"));if(F>0){F-=h+parseFloat(f[i].$().parent().css("margin-bottom"));f[i].$().attr("data-row",r).attr("data-col",1).attr("data-f",a);r+=1}else{if(F<0){f[i].$().parent().css("margin-top",F+"px")}else{f[i].$().parent().addClass("sapSuiteUtiFacetLeft")}F+=h+parseFloat(f[i].$().parent().css("margin-bottom"));a+=1;f[i].$().attr("data-row",l).attr("data-col",0).attr("data-f",a);l+=1}}};sap.suite.ui.commons.UnifiedThingInspector.prototype.onAfterRendering=function(){if(this._sTitleResizeHandlerId){sap.ui.core.ResizeHandler.deregister(this._sTitleResizeHandlerId)}var h=jQuery.sap.domById(this.getId()+"-header");if(h){this._sTitleResizeHandlerId=sap.ui.core.ResizeHandler.register(h,jQuery.proxy(this._handleResize,this));this._handleResize()}if(jQuery.device.is.tablet&&jQuery.device.is.portrait){jQuery.sap.byId(this.getId()+"-kpi-scroll-container-scroll").css("width","100%").addClass(this.getScrollClass())}var f=this.getFacets().length;for(var i=0;i<f;i++){this.getFacets()[i].addDelegate(this._oDelegate)}var c=jQuery.sap.byId(this._sCurrentFoId);if(c.length==0){c=this.$().find("[data-home]");this._sCurrentFoId=c.attr("id")}c.attr("tabindex",0)};sap.suite.ui.commons.UnifiedThingInspector.prototype._handleResize=function(){this._adjustFacetLayout()};sap.suite.ui.commons.UnifiedThingInspector.prototype._getFontSize=function(c,w){var n=w/(c*0.5);if(n>28){return 28}else if(n<20){return 20}else{return n}};sap.suite.ui.commons.UnifiedThingInspector.prototype.onBeforeRendering=function(){var t=this;if(this.getConfigurationVisible()){if(this._oMasterPage.getFooter().getContentLeft().length==0){this._oMasterPage.getFooter().addContentLeft(new sap.m.Button(this.getId()+"-master-settings-button",{icon:"sap-icon://action-settings",press:function(){var o={};o.caller=this;t.fireConfigurationButtonPress(o)}}),true)}if(this._oDetailPage.getFooter().getContentLeft().length==0){this._oDetailPage.getFooter().addContentLeft(new sap.m.Button(this.getId()+"-detail-settings-button",{icon:"sap-icon://action-settings",press:function(){var o={};o.caller=this;t.fireConfigurationButtonPress(o)}}),true)}}else{this._oMasterPage.getFooter().removeAllContentLeft(true);this._oDetailPage.getFooter().removeAllContentLeft(true)}sap.ui.getCore().byId(this.getId()+"-master-action-button").setVisible(this.getActionsVisible());sap.ui.getCore().byId(this.getId()+"-detail-action-button").setVisible(this.getActionsVisible());sap.ui.getCore().byId(this.getId()+"-master-transaction-button").setVisible(this.getTransactionsVisible());sap.ui.getCore().byId(this.getId()+"-detail-transaction-button").setVisible(this.getTransactionsVisible());this._oKpiScrollCont.setVisible(!!this.getKpis().length);if(this.getKpis().length<3){this._oKpiScrollCont.addStyleClass("sapSuiteUtiKpiLT3")}this._fitKpiTiles()};sap.suite.ui.commons.UnifiedThingInspector.prototype._fitKpiTiles=function(){var h;var k;var K=this.getKpis().length;switch(K){case 0:h="L12 M12 S12";k="L12 M12 S12";break;case 1:h="L9 M12 S12";k="L3 M12 S12";break;case 2:h="L7 M12 S12";k="L5 M12 S12";break;default:h="L6 M12 S12";k="L6 M12 S12"}this._oHeader.setLayoutData(new sap.ui.layout.GridData({span:h}));this._oKpiScrollCont.setLayoutData(new sap.ui.layout.GridData({span:k}))};sap.suite.ui.commons.UnifiedThingInspector.prototype.isPhone=function(){return jQuery.device.is.phone||jQuery.device.is.iphone};sap.suite.ui.commons.UnifiedThingInspector.prototype.setTitle=function(t){this.setProperty("title",t,true);this._oMasterPage.setTitle(t);this._oDetailPage.setTitle(t);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.setName=function(n){this._oHeader.setName(n);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.setDescription=function(d){this._oHeader.setDescription(d);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.getName=function(){return this._oHeader.getName()};sap.suite.ui.commons.UnifiedThingInspector.prototype.getDescription=function(){return this._oHeader.getDescription()};sap.suite.ui.commons.UnifiedThingInspector.prototype.setIcon=function(i){this._oHeader.setIcon(i);this.setProperty("icon",i,true);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.getScrollClass=function(){var k=this.getKpis().length;var s="";if(k==1){s="sapSuiteUtiScOne"}else if(k==2){s="sapSuiteUtiScTwo"}else if(k>2){s="sapSuiteUtiScThree"}return s};sap.suite.ui.commons.UnifiedThingInspector.prototype._navigateToMaster=function(){this._oNavContainer.back()};sap.suite.ui.commons.UnifiedThingInspector.prototype.navigateToDetailWithContent=function(f){if(!this._bDetailPageIsTransitioning){this.removeAllFacetContent();if(jQuery.isArray(f)){for(var i=0;i<f.length;i++){this.addFacetContent(f[i])}}else{this.addFacetContent(f)}this._oNavContainer.to(this._oDetailPage.getId());this._oDetailPage.scrollTo(0)}return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.navigateToDetail=function(){this._oNavContainer.to(this._oDetailPage.getId());return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.navigateToPage=function(p,a){var t=this;p.attachNavButtonPress(function(e){t._oNavContainer.back()});if(a==undefined||a){var f=this._oMasterPage.getFooter().clone();p.setFooter(f)}this._oNavContainer.addPage(p);this._oNavContainer.to(p.getId());return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.navigateToPageById=function(i){this._oNavContainer.to(i);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.removeFacet=function(f,s){f.removeDelegate(this._oDelegate);return this.removeAggregation("facets",f,s)};sap.suite.ui.commons.UnifiedThingInspector.prototype.removeAllFacets=function(s){for(var i=0;i<this.getFacets().length;i++){this.getFacets()[i].removeDelegate(this._oDelegate)}return this.removeAllAggregation("facets",s)};sap.suite.ui.commons.UnifiedThingInspector.prototype.getActions=function(){return this._oActionSheet.getButtons()};sap.suite.ui.commons.UnifiedThingInspector.prototype.insertAction=function(a,i){this._oActionSheet.insertButton(a,i);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.addAction=function(a){this._oActionSheet.addButton(a);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.removeAction=function(a){return this._oActionSheet.removeButton(a)};sap.suite.ui.commons.UnifiedThingInspector.prototype.removeAllActions=function(){return this._oActionSheet.removeAllButtons()};sap.suite.ui.commons.UnifiedThingInspector.prototype.indexOfAction=function(a){return this._oActionSheet.indexOfButton(a)};sap.suite.ui.commons.UnifiedThingInspector.prototype.destroyActions=function(){this._oActionSheet.destroyButtons();return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.getTransactions=function(){return this._oTransactionSheet.getItems()};sap.suite.ui.commons.UnifiedThingInspector.prototype.addTransaction=function(t){this._oTransactionSheet.addItem(t);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.insertTransaction=function(t,i){this._oTransactionSheet.insertItem(t,i);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.removeTransaction=function(t){return this._oTransactionSheet.removeItem(t)};sap.suite.ui.commons.UnifiedThingInspector.prototype.removeAllTransactions=function(){return this._oTransactionSheet.removeAllItems()};sap.suite.ui.commons.UnifiedThingInspector.prototype.indexOfTransaction=function(t){return this._oTransactionSheet.indexOfItem(t)};sap.suite.ui.commons.UnifiedThingInspector.prototype.destroyTransactions=function(){this._oTransactionSheet.destroyItems();return this};sap.suite.ui.commons.UnifiedThingInspector.prototype._callMethodInManagedObject=function(f,a){var b=Array.prototype.slice.call(arguments);if(a==="facets"){b[1]="content";return this._oFacetsGrid[f].apply(this._oFacetsGrid,b.slice(1))}else if(a==="kpis"){b[1]="content";return this._oKpiScrollCont[f].apply(this._oKpiScrollCont,b.slice(1))}else if(a==="facetContent"){b[1]="content";return this._oDetailPage[f].apply(this._oDetailPage,b.slice(1))}else{return sap.ui.base.ManagedObject.prototype[f].apply(this,b.slice(1))}};sap.suite.ui.commons.UnifiedThingInspector.prototype.validateAggregation=function(a,o,m){return this._callMethodInManagedObject("validateAggregation",a,o,m)};sap.suite.ui.commons.UnifiedThingInspector.prototype.setAggregation=function(a,o,s){this._callMethodInManagedObject("setAggregation",a,o,s);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.getAggregation=function(a,d){return this._callMethodInManagedObject("getAggregation",a,d)};sap.suite.ui.commons.UnifiedThingInspector.prototype.indexOfAggregation=function(a,o){return this._callMethodInManagedObject("indexOfAggregation",a,o)};sap.suite.ui.commons.UnifiedThingInspector.prototype.insertAggregation=function(a,o,i,s){this._callMethodInManagedObject("insertAggregation",a,o,i,s);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.addAggregation=function(a,o,s){this._callMethodInManagedObject("addAggregation",a,o,s);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.removeAggregation=function(a,o,s){return this._callMethodInManagedObject("removeAggregation",a,o,s)};sap.suite.ui.commons.UnifiedThingInspector.prototype.removeAllAggregation=function(a,s){return this._callMethodInManagedObject("removeAllAggregation",a,s)};sap.suite.ui.commons.UnifiedThingInspector.prototype.destroyAggregation=function(a,s){this._callMethodInManagedObject("destroyAggregation",a,s);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.getPages=function(){return this._oNavContainer.getPages().slice(2)};sap.suite.ui.commons.UnifiedThingInspector.prototype.insertPage=function(p,i,s){this._oNavContainer.insertPage(p,i+2,s);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.addPage=function(p,s){this._oNavContainer.addPage(p,s);return this};sap.suite.ui.commons.UnifiedThingInspector.prototype.removePage=function(p,s){return this._oNavContainer.removePage(p,s)};sap.suite.ui.commons.UnifiedThingInspector.prototype.removeAllPages=function(s){var p=this.getPages();for(var i=p.length-1;i>=0;i--){this._oNavContainer.removePage(p[i],s)}return p};sap.suite.ui.commons.UnifiedThingInspector.prototype.indexOfPage=function(p){var i=this._oNavContainer.indexOfPage(p);return i>1?i-2:-1};sap.suite.ui.commons.UnifiedThingInspector.prototype.destroyPages=function(s){var p=this.getPages();for(var i=p.length-1;i>=0;i--){p[i].destroy(s)}return this};sap.suite.ui.commons.UnifiedThingInspector.prototype._createHeaderObject=function(i){sap.ui.core.Control.extend("sap.suite.ui.commons.UnifiedThingInspector.Header",{metadata:{properties:{name:"string",description:"string",icon:"sap.ui.core.URI"},aggregations:{"objectHeader":{type:"sap.m.ObjectHeader",multiple:false}}},init:function(){this._oObjectHeader=new sap.m.ObjectHeader(this.getId()+"-object-header",{condensed:true});this.setAggregation("objectHeader",this._oObjectHeader)},setDescription:function(d){this._oObjectHeader.removeAllAttributes();this._oObjectHeader.addAttribute(new sap.m.ObjectAttribute({text:d}))},setName:function(n){this._oObjectHeader.setTitle(n)},getDescription:function(){if(this._oObjectHeader.getAttributes().length==1){return this._oObjectHeader.getAttributes()[0].getText()}else{return""}},getName:function(){return this._oObjectHeader.getTitle()},setIcon:function(I){var v=!jQuery.sap.equal(this.getIcon(),I);if(v){if(this._oIcon){this._oIcon.destroy();this._oIcon=undefined}if(I){this._oIcon=sap.ui.core.IconPool.createControlByURI({id:this.getId()+"-icon-image",src:I},sap.m.Image);this._oIcon.addStyleClass("sapSuiteUtiHeaderIconImage");if(this._oIcon instanceof sap.ui.core.Icon){this._oIcon.setSize("64px")}}}return this.setProperty("icon",I)},exit:function(){if(this._oIcon){this._oIcon.destroy()}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapSuiteUtiHeader");r.writeClasses();r.write(">");if(c._oIcon){r.write("<div");r.writeAttribute("id",c.getId()+"-icon");r.addClass("sapSuiteUtiHeaderIcon");r.writeClasses();r.write(">");r.renderControl(c._oIcon);r.write("</div>")}r.write("<div");r.writeAttribute("id",c.getId()+"-content");if(c._oIcon){r.addClass("sapSuiteUtiHeaderContentWithIcon")}else{r.addClass("sapSuiteUtiHeaderContent")}r.writeClasses();r.write(">");r.renderControl(c.getObjectHeader());r.write("</div>");r.write("</div>")}});return new sap.suite.ui.commons.UnifiedThingInspector.Header(i)};sap.suite.ui.commons.UnifiedThingInspector.prototype._isMasterPage=function(){return-1!=this._oNavContainer.getCurrentPage().getId().indexOf("-master-page")};sap.suite.ui.commons.UnifiedThingInspector.prototype.onkeydown=function(e){switch(e.keyCode){case jQuery.sap.KeyCodes.S:if((this._altKey||e.altKey)&&this.getConfigurationVisible()){this.$().find("button[id*='-settings-button']:visible").focus();e.stopPropagation()}break;case jQuery.sap.KeyCodes.O:if((this._altKey||e.altKey)&&this.getTransactionsVisible()){this.$().find("button[id*='-transaction-button']:visible").focus();e.stopPropagation()}break;case jQuery.sap.KeyCodes.K:if((this._altKey||e.altKey)&&this.getActionsVisible()){this.$().find("button[id*='-action-button']:visible").focus();e.stopPropagation()}break;case jQuery.sap.KeyCodes.ALT:this._altKey=true}};sap.suite.ui.commons.UnifiedThingInspector.prototype.onkeyup=function(e){if(jQuery.sap.KeyCodes.ALT==e.keyCode){this._altKey=false}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.VerticalNavigationBar')){jQuery.sap.declare("sap.suite.ui.commons.VerticalNavigationBar");jQuery.sap.require('sap.ui.ux3.NavigationBar');sap.ui.ux3.NavigationBar.extend("sap.suite.ui.commons.VerticalNavigationBar",{metadata:{library:"sap.suite.ui.commons"}});sap.suite.ui.commons.VerticalNavigationBar.prototype._handleActivation=function(e){if(e.target.tagName=="SPAN"){e.target=e.target.parentElement}sap.ui.ux3.NavigationBar.prototype._handleActivation.call(this,e)};sap.suite.ui.commons.VerticalNavigationBar.prototype.onAfterRendering=function(){sap.ui.ux3.NavigationBar.prototype.onAfterRendering.apply(this);if(!this._oBarItemsMap){this._oBarItemsMap={}}var t=this;jQuery(".sapSuiteTvNavBarItemLink").mousemove(function(){t._showTooltip(jQuery(this).attr("id"))}).mouseleave(function(e){t._hideTooltip(jQuery(this).attr("id"))})};sap.suite.ui.commons.VerticalNavigationBar.prototype.exit=function(){this._oBarItemsMap=null;sap.ui.ux3.NavigationBar.prototype.exit.apply(this)};sap.suite.ui.commons.VerticalNavigationBar.prototype._handleScroll=function(){};sap.suite.ui.commons.VerticalNavigationBar.prototype._showTooltip=function(t){var i=this._oBarItemsMap[t];if(!i){i=sap.ui.getCore().byId(t);if(i){this._oBarItemsMap[t]=i;var T=new sap.ui.commons.RichTooltip({text:i.getTooltip_AsString()||i.getText()});T.addStyleClass("sapSuiteTvNavBarItemTltp");T._currentControl=i;i.addDelegate(T);i.setAggregation("tooltip",T,true)}}if(i&&!i.doOpen){i.doOpen=true;i.openTimer=setTimeout(function(){i.getTooltip().openPopup(i);i.closeTimer=setTimeout(function(){i.getTooltip().closePopup();i.doOpen=false},10000)},2000)}};sap.suite.ui.commons.VerticalNavigationBar.prototype._hideTooltip=function(t){var i=this._oBarItemsMap[t];if(i){i.doOpen=false;clearTimeout(i.openTimer);clearTimeout(i.closeTimer);i.getTooltip().closePopup()}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ViewRepeater')){jQuery.sap.declare("sap.suite.ui.commons.ViewRepeater");jQuery.sap.require('sap.ui.commons.RowRepeater');sap.ui.commons.RowRepeater.extend("sap.suite.ui.commons.ViewRepeater",{metadata:{library:"sap.suite.ui.commons",properties:{"itemMinWidth":{type:"int",group:"Misc",defaultValue:null},"responsive":{type:"boolean",group:"Misc",defaultValue:false},"defaultViewIndex":{type:"int",group:"Misc",defaultValue:0},"showSearchField":{type:"boolean",group:"Misc",defaultValue:true},"showViews":{type:"boolean",group:"Misc",defaultValue:true},"external":{type:"boolean",group:"Misc",defaultValue:false},"itemHeight":{type:"int",group:"Misc",defaultValue:null},"height":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'100%'}},aggregations:{"views":{type:"sap.suite.ui.commons.RepeaterViewConfiguration",multiple:true,singularName:"view"}},associations:{"externalRepresentation":{type:"sap.ui.core.Control",multiple:false}},events:{"search":{},"changeView":{}}}});sap.suite.ui.commons.ViewRepeater.M_EVENTS={'search':'search','changeView':'changeView'};sap.suite.ui.commons.ViewRepeater.prototype.init=function(){var t=this;this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this.addStyleClass("suiteUiVr");sap.ui.commons.RowRepeater.prototype.init.call(this);this._oSegBtn=new sap.ui.commons.SegmentedButton({id:this.getId()+"-segBtn"});this._repopulateViewSelector();this._oSearchField=new sap.ui.commons.SearchField({id:this.getId()+"-searchFld",enableFilterMode:true,enableListSuggest:false,search:function(e){t.fireSearch({query:e.getParameter("query")})}});this.attachFilter(function(e){this._currentFilterId=e.getParameter("filterId")});this.attachSort(function(e){this._currentSorterId=e.getParameter("sorterId")})};sap.suite.ui.commons.ViewRepeater.prototype.setDefaultViewIndex=function(v){this.setProperty("defaultViewIndex",v);this._selectDefaultView();return this};sap.suite.ui.commons.ViewRepeater.prototype._selectDefaultView=function(){var v=this.getDefaultViewIndex();if(v===this._currentViewIndex)return;var V=this.getViews()||[];if(V.length>0){if(v>=V.length)v=V.length-1;this.selectView(v);var d=this.getId()+"-"+V[v].getId()+"-triggerBtn";this._oSegBtn.setSelectedButton(d)}};sap.suite.ui.commons.ViewRepeater.prototype._repopulateViewSelector=function(){var t=this;var r=t._oSegBtn.removeAllAggregation("buttons",true);jQuery.each(r,function(i,b){b.destroy()});var v=this.getViews()||[];for(var i=0;i<v.length;i++){var V=v[i];if(V.getExternal()===true){var e=V.getExternalRepresentation();if(!e.getModel()){e.setModel(this.getModel())}}var o=new sap.ui.commons.Button({id:this.getId()+"-"+V.getId()+"-triggerBtn",text:V.getTitle()||(V.getIcon()?undefined:this._rb.getText("VIEWREPEATER_TAB_DEFAULT_NAME",[(i+1)])),icon:V.getIcon(),iconHovered:V.getIconHovered(),iconSelected:V.getIconSelected(),tooltip:V.getTooltip(),lite:true});t._oSegBtn.addButton(o);o.attachPress(V,function(a,b){t.selectView(b);t._oSegBtn.rerender()})}this._selectDefaultView()};sap.suite.ui.commons.ViewRepeater.prototype.setModel=function(m,n){sap.ui.base.ManagedObject.prototype.setModel.call(this,m,n);this._repopulateViewSelector();return this};sap.suite.ui.commons.ViewRepeater.prototype.addView=function(r){this.addAggregation("views",r);this._repopulateViewSelector();return this};sap.suite.ui.commons.ViewRepeater.prototype.removeAllViews=function(){var r=this.removeAllAggregation("views");this._repopulateViewSelector();return r};sap.suite.ui.commons.ViewRepeater.prototype.insertView=function(v,i){this.insertAggregation("views",v,i);this._repopulateViewSelector();return this};sap.suite.ui.commons.ViewRepeater.prototype.removeView=function(v){var r=this.removeAggregation("views",v);this._repopulateViewSelector();return r};sap.suite.ui.commons.ViewRepeater.prototype.selectView=function(v){var V,a=0;switch(typeof v){case"number":{V=this.getViews()[v];a=v;break}case"object":{var b=this.getViews().length;for(var i=0;i<b;i++){if(v.getId()===this.getViews()[i].getId()){V=v;a=i;break}}}}if(!V){return}var r=V.getResponsive();if(typeof r=="boolean"){this.setResponsive(r)}var I=V.getItemMinWidth();if(typeof I=="number"&&I>0&&I!=this.setItemMinWidth()){this.setItemMinWidth(I)}var c=V.getItemHeight();if(c!=this.getItemHeight()&&c>0){this.setItemHeight(c)}if(V.getNumberOfTiles()>0&&V.getNumberOfTiles()!=this.setNumberOfRows()){this.setNumberOfRows(V.getNumberOfTiles())}var e=V.getExternal();if(e===true){this.setExternal(true);this.setExternalRepresentation(V.getExternalRepresentation())}else{this.setExternal(false);this.setExternalRepresentation(null)}var C=this.getCurrentPage();var p=V.getPath();var t=V.getTemplate();if(p&&t){this.bindRows(p,t);this._applyFilter(this._currentFilterId);this._applySorter(this._currentSorterId)}if(this._currentViewIndex||a!=this._currentViewIndex){this.fireChangeView({newViewIndex:a,oldViewIndex:this._currentViewIndex,filterId:this._currentFilterId,sorterId:this._currentSorterId,page:C})}this._currentViewIndex=a;this._oView=V};sap.suite.ui.commons.ViewRepeater.prototype._applyFilter=function(f,l){if(f){if(!l){l=this.getBinding("rows")}var F=this.getFilters();var i=F.length;for(var n=0;n<i;n++){if(F[n].getId()===f){var o=F[n];break}}if(o){l.filter(o.getFilters())}}};sap.suite.ui.commons.ViewRepeater.prototype._applySorter=function(s,l){if(s){if(!l){l=this.getBinding("rows")}var S=this.getSorters();var i=S.length;for(var n=0;n<i;n++){if(S[n].getId()===s){var o=S[n];break}}if(o){l.sort(o.getSorter())}}};sap.suite.ui.commons.ViewRepeater.prototype.onBeforeRendering=function(){if(this.getResponsive()&&this.getShowMoreSteps()==0){if(!this._bInit){this.setNumberOfRows(0)}}else if(this._oView&&this._oView.getNumberOfTiles()>0&&this._oView.getNumberOfTiles()!=this.getNumberOfRows()&&!this.getResponsive()){this.setNumberOfRows(this._oView.getNumberOfTiles())}this._bInit=false};sap.suite.ui.commons.ViewRepeater.prototype._updateBodyPosition=function(){var v=jQuery("#"+this.getId()+">div.suiteUiVrViewSwHolder").outerHeight();var p=jQuery("#"+this.getId()+">div.sapUiRrPtb").outerHeight();var s=jQuery("#"+this.getId()+">div.sapUiRrStb").outerHeight();var f=jQuery("#"+this.getId()+">div.sapUiRrFtr").outerHeight();var b=jQuery.sap.byId(this.getId()+"-body");b.css("top",v+p+s+3);b.css("bottom",f)};sap.suite.ui.commons.ViewRepeater.prototype.onAfterRendering=function(){this._computeWidths(true);sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);if(this.getResponsive()){if(this.getShowMoreSteps()==0){jQuery("#"+this.getId()+">div.sapUiRrFtr").hide()}jQuery.sap.delayedCall(100,this,function(){this._sResizeListenerId=sap.ui.core.ResizeHandler.register(jQuery.sap.domById(this.getId()+"-body"),jQuery.proxy(this._handleResize,this));if(this.getShowMoreSteps()==0){this._updateBodyPosition()}})}};sap.suite.ui.commons.ViewRepeater.prototype._handleResize=function(){if(!this.getDomRef()){return}this._computeWidths();if(this.getResponsive()&&this.getShowMoreSteps()==0){var b=jQuery.sap.byId(this.getId()+"-body");var B=b.height();var n=this._itemsPerRow;var N=Math.floor(B/(this.getItemHeight()+3));var i=N*n;if(i!=this.getNumberOfRows()){this._bInit=true;this.setNumberOfRows(i)}else{jQuery("#"+this.getId()+">div.sapUiRrFtr").show()}}};sap.suite.ui.commons.ViewRepeater.prototype._computeWidths=function(i){var t=this;var T=this.$();var I=t.getItemMinWidth();var n=(this.getResponsive()===true)?Math.floor(T.width()/I):1;var p=Math.floor(100/n);if(T.width()*p/100<I){n--;p=Math.floor(100/n)}if(i||t._height!=T.height()||t._itemsPerRow!=n){jQuery("#"+this.getId()+" .sapUiRrBody").css("width","100%");var o=100-(n*p);var w;jQuery("#"+this.getId()+" .sapUiRrBody li").each(function(a){w=p;if(a%n<o)w++;jQuery(this).css("width",w+"%");jQuery(this).css("margin","0")});t._height=T.height();t._itemsPerRow=n;t._percentWidth=p}};sap.suite.ui.commons.ViewRepeater.prototype.startPagingAnimation=function(){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);var c=sap.ui.getCore(),r=c.getRenderManager(),I=this.getId(),p=this.iPreviousPage,P=this.getCurrentPage(),N=this.getNumberOfRows(),s=(P-1)*N,R=this.getRows(),C=this._getRowCount()>N*P?N:this._getRowCount()-N*(P-1),l=Math.ceil(this._getRowCount()/N),n,i,w,b=this.getBinding("rows");var d,j=jQuery(jQuery.sap.domById(I+"-page_"+p)),D=jQuery.sap.domById(I+"-body"),J=jQuery(D);J.css("height",J.outerHeight());var a;if(sap.ui.getCore()&&sap.ui.getCore().getConfiguration()&&sap.ui.getCore().getConfiguration().getRTL()){a=(P<p)?"left":"right"}else{a=(P<p)?"right":"left"}if(b){this._bSecondPage=!this._bSecondPage;this.updateRows(true);R=this.getRows();s=(this._bSecondPage?1:0)*N}var S="\"top:-"+j.outerHeight(true)+"px;"+a+":"+j.outerWidth(true)+"px;\"";jQuery("<ul id=\""+I+"-page_"+P+"\" class=\"sapUiRrPage\" style="+S+"/>").appendTo(D);var o=D.lastChild;var e=jQuery(o);var O=100-(this._itemsPerRow*this._percentWidth);for(n=s,i=0;n<s+C;n++,i++){w=this._percentWidth;if(i%this._itemsPerRow<O)w++;jQuery("<li id=\""+I+"-row_"+n+"\" style=\"width:"+w+"%\" class=\"sapUiRrRow\"/>").appendTo(o);d=o.lastChild;r.render(R[n],d)}if(a==="right"){j.animate({right:-j.outerWidth(true)},"slow");e.animate({right:0},"slow")}else{j.animate({left:-j.outerWidth(true)},"slow");e.animate({left:0},"slow")}J.animate({height:e.outerHeight(true)},"slow",jQuery.proxy(this.endPagingAnimation,this))};sap.suite.ui.commons.ViewRepeater.prototype.endPagingAnimation=function(){sap.ui.commons.RowRepeater.prototype.endPagingAnimation.call(this);this._sResizeListenerId=sap.ui.core.ResizeHandler.register(jQuery.sap.domById(this.getId()+"-body"),jQuery.proxy(this._handleResize,this))};sap.suite.ui.commons.ViewRepeater.prototype.exit=function(){this._oSegBtn.destroy();this._oSearchField.destroy();sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId)}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ChartTile')){jQuery.sap.declare("sap.suite.ui.commons.ChartTile");sap.suite.ui.commons.InfoTile.extend("sap.suite.ui.commons.ChartTile",{metadata:{library:"sap.suite.ui.commons",properties:{"unit":{type:"string",group:"Misc",defaultValue:null}}}});
/*!
 * @copyright@
 */
sap.suite.ui.commons.ChartTile.prototype.init=function(){sap.suite.ui.commons.InfoTile.prototype.init.apply(this)};sap.suite.ui.commons.ChartTile.prototype.onAfterRendering=function(){this._addDescriptionMargin()};sap.suite.ui.commons.ChartTile.prototype.onBeforeRendering=function(){this._setContentProperty("size",this.getSize())};sap.suite.ui.commons.ChartTile.prototype._addDescriptionMargin=function(){if(this.getDescription()&&this.getUnit()){var d=jQuery.sap.byId(this.getId()+"-description").hide();var w=jQuery.sap.byId(this.getId()+"-unit").outerWidth()+1;d.css("margin-right","-"+w+"px").css("padding-right",w+"px").show()}};sap.suite.ui.commons.ChartTile.prototype._setContentProperty=function(p,v){var c=this.getContent();if(c){c.setProperty(p,v)}}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.ThreePanelThingViewer')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.suite.ui.commons.ThreePanelThingViewer");jQuery.sap.require('sap.ui.ux3.ThingViewer');sap.ui.ux3.ThingViewer.extend("sap.suite.ui.commons.ThreePanelThingViewer",{metadata:{publicMethods:["selectDefaultFacet"],library:"sap.suite.ui.commons",properties:{"logo":{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},"showHeader":{type:"boolean",group:"Misc",defaultValue:null},"sidebarWidth":{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'244px'}},aggregations:{"menuContent":{type:"sap.ui.commons.Link",multiple:true,singularName:"menuContent"}}}});jQuery.sap.require('sap.ui.ux3.NavigationBar');jQuery.sap.require('sap.ui.ux3.ThingViewer');sap.suite.ui.commons.ThreePanelThingViewer.prototype.init=function(){var t=this;this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._oNavBar=new sap.suite.ui.commons.VerticalNavigationBar();this.setAggregation("navBar",this._oNavBar);this._oNavBar.attachSelect(function(c){var i=c.getParameters().item;if(t.fireFacetSelected({id:i.getId(),key:i.getKey(),item:i})){t.setSelectedFacet(i)}else{c.preventDefault()}});this._iSelectedMenuItem=0;this._oMenuButton=new sap.ui.commons.Button({id:this.getId()+"-menu-button",tooltip:this._rb.getText("THREEPANELTHINGVIEWER_BUTTON_MENU_TOOLTIP"),lite:true,press:function(){t._toggleMenuPopup()}});this._oMenuButton.addStyleClass("sapSuiteTvTitleMb");this.fAnyEventHandlerProxy=jQuery.proxy(this.onAnyEvent,this)};sap.suite.ui.commons.ThreePanelThingViewer.prototype.exit=function(){this._oMenuButton.destroy();jQuery.sap.unbindAnyEvent(this.fAnyEventHandlerProxy)};sap.suite.ui.commons.ThreePanelThingViewer.prototype.onAfterRendering=function(){this._bMenuOpened=false;this._updateMenuPopup();this._toggleHeaderContent()};sap.suite.ui.commons.ThreePanelThingViewer.prototype.selectDefaultFacet=function(){this._selectDefault();return this};sap.suite.ui.commons.ThreePanelThingViewer.prototype._toggleMenuPopup=function(){jQuery.sap.byId(this.getId()+"-menu-popup").toggle();this._bMenuOpened=!this._bMenuOpened;if(this._bMenuOpened){jQuery.sap.bindAnyEvent(this.fAnyEventHandlerProxy);this.getMenuContent()[0].focus();this._iSelectedMenuItem=0}else{jQuery.sap.unbindAnyEvent(this.fAnyEventHandlerProxy)}};sap.suite.ui.commons.ThreePanelThingViewer.prototype._updateMenuPopup=function(){var h=jQuery.sap.byId(this.getId()+"-header").width();var m=jQuery.sap.byId(this.getId()+"-menu-popup");var s=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";var S=this.getMenuContent().length;m.css(s,(h-22)+"px");m.children().each(function(i){var $=jQuery(this);$.attr("tabindex","-1");$.attr("role","menuitem");$.attr("aria-posinset",i+1);$.attr("aria-setsize",S)})};sap.suite.ui.commons.ThreePanelThingViewer.prototype._rerenderFacetContent=function(){var $=jQuery.sap.byId(this.getId()+"-facetContent");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.suite.ui.commons.ThreePanelThingViewerRenderer.renderFacetContent(r,this);r.flush($[0]);r.destroy();this._resize=false;this._setTriggerValue();this._onresize()}};sap.suite.ui.commons.ThreePanelThingViewer.prototype._rerenderHeader=function(){var $=jQuery.sap.byId(this.getId()+"-header");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.suite.ui.commons.ThreePanelThingViewerRenderer.renderHeader(r,this);r.flush($[0]);r.destroy()}};sap.suite.ui.commons.ThreePanelThingViewer.prototype._rerenderHeaderContent=function(){var $=jQuery.sap.byId(this.getId()+"-headerContent");if($.length>0){var r=sap.ui.getCore().createRenderManager();sap.suite.ui.commons.ThreePanelThingViewerRenderer.renderHeaderContent(r,this);r.flush($[0]);r.destroy()}};sap.suite.ui.commons.ThreePanelThingViewer.prototype._toggleHeaderContent=function(){var c=jQuery.sap.byId(this.getId()+"-headerContent");if(this.getShowHeader()){c.show()}else{c.hide()}};sap.suite.ui.commons.ThreePanelThingViewer.prototype.onAnyEvent=function(e){if(this._bMenuOpened&&(e.type=="mousedown"||e.type=="focusin")){var s=e.target;var d=jQuery.sap.domById(this.getId()+"-menu-popup");if(!jQuery.sap.containsOrEquals(d,s)||s.tagName=="BODY"){this._toggleMenuPopup()}}};sap.suite.ui.commons.ThreePanelThingViewer.prototype.onsapescape=function(){if(this._bMenuOpened){this._toggleMenuPopup();this._oMenuButton.focus()}};sap.suite.ui.commons.ThreePanelThingViewer.prototype.onsapnext=function(e){if(this._bMenuOpened){var m=this.getMenuContent();this._iSelectedMenuItem++;if(this._iSelectedMenuItem>=m.length){this._iSelectedMenuItem=0}m[this._iSelectedMenuItem].focus();e.preventDefault();e.stopPropagation()}};sap.suite.ui.commons.ThreePanelThingViewer.prototype.onsapprevious=function(e){if(this._bMenuOpened){var m=this.getMenuContent();this._iSelectedMenuItem--;if(this._iSelectedMenuItem<0){this._iSelectedMenuItem=m.length-1}m[this._iSelectedMenuItem].focus();e.preventDefault();e.stopPropagation()}};sap.suite.ui.commons.ThreePanelThingViewer.prototype.setShowHeader=function(s){this.setProperty("showHeader",s,true);this._toggleHeaderContent();return this}};if(!jQuery.sap.isDeclared('sap.suite.ui.commons.Timeline')){jQuery.sap.declare("sap.suite.ui.commons.Timeline");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.suite.ui.commons.Timeline",{metadata:{publicMethods:["getCurrentFilter","setCurrentFilter"],library:"sap.suite.ui.commons",properties:{"data":{type:"object",group:"Misc",defaultValue:null},"sortOldestFirst":{type:"boolean",group:"Misc",defaultValue:false},"axisOrientation":{type:"sap.suite.ui.commons.TimelineAxisOrientation",group:"Misc",defaultValue:sap.suite.ui.commons.TimelineAxisOrientation.Vertical},"alignment":{type:"sap.suite.ui.commons.TimelineAlignment",group:"Misc",defaultValue:sap.suite.ui.commons.TimelineAlignment.Right},"showIcons":{type:"boolean",group:"Misc",defaultValue:true},"noDataText":{type:"string",group:"Misc",defaultValue:null},"width":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},"enableBusyIndicator":{type:"boolean",group:"Misc",defaultValue:true},"showHeaderBar":{type:"boolean",group:"Misc",defaultValue:true},"growing":{type:"boolean",group:"Misc",defaultValue:true},"growingThreshold":{type:"int",group:"Misc",defaultValue:5},"visible":{type:"boolean",group:"Appearance",defaultValue:true},"enableBackendFilter":{type:"boolean",group:"",defaultValue:false},"enableAllInFilterItem":{type:"boolean",group:"Behavior",defaultValue:true}},aggregations:{"content":{type:"sap.suite.ui.commons.TimelineItem",multiple:true,singularName:"content"},"filterList":{type:"sap.suite.ui.commons.TimelineFilterListItem",multiple:true,singularName:"filterList"}},events:{"filterSelectionChange":{}}}});sap.suite.ui.commons.Timeline.M_EVENTS={'filterSelectionChange':'filterSelectionChange'};jQuery.sap.require('sap.m.library');jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ui.core.Icon');jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');sap.suite.ui.commons.Timeline.INTERNAL_MODEL_NAME="sapsuiteuicommonsTimelineInternalModel";sap.suite.ui.commons.Timeline.prototype.init=function(){sap.m.DisplayListItem.extend("sap.suite.ui.commons.DisplayListItemWithKey",{metadata:{properties:{"key":{type:"string",defaultValue:""},}},renderer:'sap.m.DisplayListItemRenderer'});var t=this;this._prevTargetId="";this._internalModel=new sap.ui.model.json.JSONModel();this._finishLoading=false;this.setModel(this._internalModel,sap.suite.ui.commons.Timeline.INTERNAL_MODEL_NAME);var l=sap.ui.getCore().getConfiguration().getLanguage();this.resBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons",l);this._emptyList=new sap.m.List();this._emptyList.setNoDataText(this.resBundle.getText('TIMELINE_NO_DATA'));this._filterIcon=new sap.m.Button(this.getId()+"-filter",{type:sap.m.ButtonType.Transparent,icon:"sap-icon://filter",tooltip:this.resBundle.getText("TIMELINE_FILTER_BY"),press:function(e){t._openFilterDialog()}});var T=new sap.m.ToolbarSpacer();this._headerBar=new sap.m.Toolbar({id:this.getId()+"-filterToolBar",content:[T,this._filterIcon]});this._filterInfoText=new sap.m.Text({maxLines:1,width:"100%"});this._headerInfoBar=new sap.m.Toolbar({id:this.getId()+"-filterInfoBar",content:[this._filterInfoText],design:sap.m.ToolbarDesign.Info,visible:false});this._filterChange=false;this._contentChange=true;this._filterDialog=new sap.m.ResponsivePopover(this.getId()+"-popover_filter",{title:this.resBundle.getText("TIMELINE_FILTER_BY"),placement:sap.m.PlacementType.Auto,contentHeight:"15rem",contentWidth:"15rem"});var d=new sap.suite.ui.commons.DisplayListItemWithKey({key:"{key}",label:"{text}"});this._filterList=new sap.m.List(this.getId()+"-filterlist",{mode:sap.m.ListMode.SingleSelectMaster,items:{path:"/items",template:d},selectionChange:function(e){var f=t._filterList.getSelectedItem().getLabel();t._setFilterInfoText(f);if(t._filterList.getSelectedItem()&&!t.getEnableBackendFilter()){t._filterChange=true;t._filterText=f;t._resetDisplayItems(f)}t.fireFilterSelectionChange({selectedItem:t._filterList.getSelectedItem()});t._currentFilterKey=t._filterList.getSelectedItem().getKey();t._filterDialog.close()}});this._filterText=this.resBundle.getText("TIMELINE_ALL");this._growing=false;if(this.getGrowing()){this._iItemCount=this.getGrowingThreshold();this._getMoreButton=new sap.m.Button(this.getId()+"-getmore",{text:this.resBundle.getText("TIMELINE_MORE"),width:"100%",press:function(){t._iItemCount+=t.getGrowingThreshold();if(t._iItemCount>t.getMaxItemsCount()){t._iItemCount=t.getMaxItemsCount()}var b=t.getBindingInfo("content");if(t._growing){b.startIndex=0;b.length=t._iItemCount;t.getBinding("content").getContexts(0,t._iItemCount)}else{t.rerender()}}})}jQuery.sap.require("sap.ui.core.delegate.ScrollEnablement");this._oScroller=new sap.ui.core.delegate.ScrollEnablement(this,this.getId()+"-scroll",{horizontal:false,vertical:true,zynga:false,preventDefault:false,nonTouchScrolling:"scrollbar"});this._scHeight=0;this._height=0;this._aFilterList=[]};sap.suite.ui.commons.Timeline.prototype.getScrollDelegate=function(){return this._oScroller};sap.suite.ui.commons.Timeline.prototype.scrollTo=function(x,y,t){if(this._oScroller){if(this.getDomRef()){this._oScroller.scrollTo(x,y,t)}else{this._oScroller._scrollX=x;this._oScroller._scrollY=y}}return this};sap.suite.ui.commons.Timeline.prototype._setFilterInfoText=function(f){var F=this.resBundle.getText("TIMELINE_FILTER_INFO_BY",[f]);this._filterInfoText.setText(F);this._filterInfoText.setTooltip(F);if(f===this.resBundle.getText("TIMELINE_ALL")){this._headerInfoBar.setVisible(false)}else{this._headerInfoBar.setVisible(true)}this._filterText=f};sap.suite.ui.commons.Timeline.prototype._setFilterList=function(){this._aFilterList=[];this._filteredItems={};if(this.getEnableBackendFilter()){var f=this.getFilterList();var F=[];f.forEach(function(o){F.push({key:o.getKey(),text:o.getText()})});this._aFilterList=F}else{var I=this.getContent();for(var i=0;i<I.length;i++){var k=I[i].getFilterValue();if(!k){continue}if(k in this._filteredItems){this._filteredItems[k].push(I[i])}else{var c=[];c.push(I[i]);this._filteredItems[k]=c;this._aFilterList.push({key:k,text:k})}}};if(!this.getEnableBackendFilter()){this._aFilterList.sort(function(a,b){return a.text.toLowerCase().localeCompare(b.text.toLowerCase())})}var e="";if(this.getEnableAllInFilterItem()&&!(this._aFilterList[0]&&this._aFilterList[0].key=="")){this._aFilterList.unshift({key:"",text:this.resBundle.getText("TIMELINE_ALL")})};var j=new sap.ui.model.json.JSONModel({items:this._aFilterList});this._filterList.setModel(j);if(this._currentFilterKey){this.setCurrentFilter(this._currentFilterKey)}else if(this.getEnableAllInFilterItem()){this._filterList.setSelectedItem(this._filterList.getItems()[0])}};sap.suite.ui.commons.Timeline.prototype._resetFilter=function(){if(this._aFilterList.length!==0&&!this.getEnableBackendFilter()){this._filterList.setSelectedItem(this._filterList.getItems()[0]);this._headerInfoBar.setVisible(false)}};sap.suite.ui.commons.Timeline.prototype._openFilterDialog=function(){if((this.getEnableBackendFilter()&&(this._aFilterList.length===0))||(this._contentChange&&!this.getEnableBackendFilter())){this._setFilterList();this._contentChange=false}this._filterDialog.addContent(this._filterList);this._filterDialog.openBy(this._filterIcon)};sap.suite.ui.commons.Timeline.prototype._resetDisplayItems=function(f){this.invalidate();var i=this.getContent();var I=[];if(f===this.resBundle.getText("TIMELINE_ALL")){I=i}else{I=this._filteredItems[f]}this._displayItems=I};sap.suite.ui.commons.Timeline.prototype.setData=function(d){if(d==undefined){return}var p=this._buildPath("/",sap.suite.ui.commons.Timeline.INTERNAL_MODEL_NAME);this._internalModel.setData(d);this.setProperty("data",d,true);this.bindAggregation("content",{path:p,sorter:this._getDefaultSorter('dateTime',this.getSortOldestFirst()),factory:jQuery.proxy(this._defaultItemsFactory,this)});this._displayItems=this.getContent();this._finishLoading=true;this._contentChange=true;this._iItemCount=this.getMaxItemsCount();return this};sap.suite.ui.commons.Timeline.prototype._buildPath=function(p,m){var c=p;if(m)c=m+">"+p;return c};sap.suite.ui.commons.Timeline.prototype._getDefaultSorter=function(p,o){var d=true;if(o){d=false}else{d=true}return new sap.ui.model.Sorter(p,d,false)};sap.suite.ui.commons.Timeline.prototype._defaultItemsFactory=function(i,c){var o={};o.dateTime=c.getProperty("dateTime");o.icon=c.getProperty("icon");o.userName=c.getProperty("userName");o.title=c.getProperty("title");o.text=c.getProperty("text");o.filterValue=c.getProperty("filterValue");var t=new sap.suite.ui.commons.TimelineItem(o);if(c.getProperty("content")){t.setEmbeddedControl(c.getProperty("content"))}return t};sap.suite.ui.commons.Timeline.prototype.onBeforeRendering=function(){var i=this.getContent();if(this._filterChange){i=this._displayItems}this._filterChange=false;this._showMore=false;var b=this.getBindingInfo("content");if((this.getGrowing()&&(b)&&(b.model!==sap.suite.ui.commons.Timeline.INTERNAL_MODEL_NAME)&&(this.getMaxItemsCount()>this._iItemCount))){if((this._filterText===this.resBundle.getText("TIMELINE_ALL"))||(this.getEnableBackendFilter())){this._showMore=true}}else if(this.getMaxItemsCount()>0){this._iItemCount=this.getMaxItemsCount()}if(this._iItemCount==0){this._iItemCount=this.getMaxItemsCount();this._showMore=false}this.setOutput(i)};sap.suite.ui.commons.Timeline.prototype.setContent=function(c){this.removeAllContent();for(var i=0;i<c.length;i++){var I=c[i];if(I._isOfTypeTimelineItem&&I._isOfTypeTimelineItem()==true){if((I.getEmbeddedControl()===null)&&(I.getText()!==null)){I.setEmbeddedControl(new sap.m.Text({text:I.getText(),maxLines:0}))}sap.suite.ui.commons.Timeline.prototype.addContent.apply(this,[I])}}this._displayItems=this.getContent();this._finishLoading=true;this._contentChange=true;this._resetFilter();this._iItemCount=this.getMaxItemsCount()};sap.suite.ui.commons.Timeline.prototype.sortBy=function(p,c){if(c){return function(a,b){if(a.getProperty(p)>b.getProperty(p)){return 1}else if(a.getProperty(p)<b.getProperty(p)){return-1}return 0}}else{return function(a,b){if(a.getProperty(p)<b.getProperty(p)){return 1}else if(a.getProperty(p)>b.getProperty(p)){return-1}return 0}}};sap.suite.ui.commons.Timeline.prototype.onAfterRendering=function(){var t=this;this.$().css("height",this._height);this.$().find("#"+this.getId()+"-scroll").css("height",this._scHeight);jQuery.sap.delayedCall(150,this,function(){t._performUiChanges()});this._startItemNavigation()};sap.suite.ui.commons.Timeline.prototype._startItemNavigation=function(){var f=this.getDomRef(),r=f.getElementsByClassName("sapSuiteUiCommonsTimelineItemShellUser"),d=[];for(var i=0;i<r.length;i++){d.push(r[i].firstChild)}if(!this.oItemNavigation){this.oItemNavigation=new sap.ui.core.delegate.ItemNavigation();this.addDelegate(this.oItemNavigation)}this.oItemNavigation.setRootDomRef(f);this.oItemNavigation.setItemDomRefs(d);this.oItemNavigation.setCycling(false);var p=this.getGrowingThreshold();if(p==0){p=10}this.oItemNavigation.setPageSize(p)};sap.suite.ui.commons.Timeline.prototype._switchFocus=function(e){if(this._prevTargetId!=e.currentTarget.id){this._oLastFocused=e.target;this._prevTargetId=e.currentTarget.id;jQuery(e.target).blur();this.$().focus()}else if(this._oLastFocused){jQuery(this._oLastFocused).focus();this._oLastFocused=e.target;this._prevTargetId=e.target.id}};sap.suite.ui.commons.Timeline.prototype.onkeydown=function(e){var k=jQuery.sap.KeyCodes;if(e.isMarked()){return}if(e.which==k.F7){this._switchFocus(e);e.preventDefault();e.setMarked();return}};sap.suite.ui.commons.Timeline.prototype._navToTabChain=function(a){var s=a?1:-1;var e=a?"after":"before";var E=this.$(e).attr("tabindex","0");for(var p=this;(p=p.getParent())&&p.$;){var t=p.$().find(":sapTabbable");var l=a?t.length-1:0;var i=t.index(E);if(t.length>1&&i!=l){break}}t=t||this.$().parent().find(":sapTabbable");i=t.index(E)+s;E.attr("tabindex","-1");return t[i]&&t.eq(i).focus()};sap.suite.ui.commons.Timeline.prototype.onsapskipforward=function(e){if(e.isMarked()){return}if(this._navToTabChain(true)){e.preventDefault();e.setMarked()}};sap.suite.ui.commons.Timeline.prototype.onsapspace=function(e){var t=e.target.id;var n=t.indexOf("getmore");if(n<0){e.preventDefault();e.setMarked();this.focus()}};sap.suite.ui.commons.Timeline.prototype._performUiChanges=function(){var s=this.getShowIcons();var t=this.$();var l=t.find('li');for(var i=0;i<l.length;i++){var a=i+1;var c=t.find('li:nth-child('+a+')').find('.sapSuiteUiCommonsTimelineItemBox').css('height');if(c!==undefined){var b=parseInt(c.replace("px",""))+23;if(i===(l.length-1)){b+=28}t.find('li:nth-child('+a+')').css({'height':b+'px'});var d=t.find('li:nth-child('+a+')').find('.sapSuiteUiCommonsTimelineItemBar');if(!s){d.css({'height':(b-17)+'px'});d.css({'top':30+'px'})}else{d.css({'height':(b-34)+'px'})}}}this._performScrollChanges()};sap.suite.ui.commons.Timeline.prototype._performScrollChanges=function(){var t=this.$();var _=t.parent().outerHeight();var a=t.parent().height();var b=0;var c=t.parent().children();for(var i=0;i<c.length;i++){var d=c[i];if(d.className!="sapSuiteUiCommonsTimeline"){b+=d.clientHeight}}_=_-b;var e=false;if(a<=50||(a-b)<=50){e=true}this._height=_-28;t.css({'height':this._height});var m=this.getId();if(m.indexOf("\.")!=-1){m=m.replace(/(:|\.|\[|\])/g,"\\$1")}var f=t.find("#"+m+"-filterToolBar").outerHeight()+28;var g=t.find("#"+m+"-filterInfoBar").outerHeight();if(e){t.find("#"+m+"-scroll").css({'height':'25rem'});t.parent().css({'height':'25rem'});t.parent().css({'height':(t.parent().outerHeight()+b+f+g)})}else{this._scHeight=_-(f+g);t.find("#"+m+"-scroll").css({'height':this._scHeight})}};sap.suite.ui.commons.Timeline.prototype.setOutput=function(I){this._outputItem=[];var s=this.getShowIcons();if(I.length>1){I.sort(this.sortBy('dateTime',this.getSortOldestFirst()))}var d=this._iItemCount;if(I.length<this._iItemCount){d=I.length}else{d=this._iItemCount}for(var i=0;i<d;i++){var _=I[i];var a;if(!s){_._showIcons=true}if(i==(I.length-1)){if(this._showMore){a=sap.suite.ui.commons.TimelineItemPosition.Middle}else{a=sap.suite.ui.commons.TimelineItemPosition.Bottom}}else if(i==0){a=sap.suite.ui.commons.TimelineItemPosition.Top}else{a=sap.suite.ui.commons.TimelineItemPosition.Middle}_.setLayout(a,"Right");this._outputItem.push(_)}};sap.suite.ui.commons.Timeline.prototype.refreshContent=function(r){this._finishLoading=false;if(this.getEnableBusyIndicator()){this.setBusy(true)}var b=this.getBindingInfo("content");var B=this.getBinding("content");if(this.getGrowing()&&(b)&&(b.model!==sap.suite.ui.commons.Timeline.INTERNAL_MODEL_NAME)&&(B)&&(B.getModel())&&(B.getModel().getDefaultCountMode()!==sap.ui.model.odata.CountMode.None)){this._growing=true;this._iItemCount=this.getGrowingThreshold();B.getContexts(0,this._iItemCount);b.length=this._iItemCount}else{this.updateAggregation("content")}this._filterText=this.resBundle.getText("TIMELINE_ALL")};sap.suite.ui.commons.Timeline.prototype.updateContent=function(r){if(this.getEnableBusyIndicator()&&this.getBusy()){this.setBusy(false)}var b=this.getBinding("content");if(this._growing){b.getContexts(0,this._iItemCount)}this.updateAggregation("content");this._finishLoading=true;this._contentChange=true;if(!this.getEnableBackendFilter()){this._resetFilter()}};sap.suite.ui.commons.Timeline.prototype.updateFilterList=function(){this.updateAggregation("filterList");this._setFilterList()};sap.suite.ui.commons.Timeline.prototype.exit=function(){if(this._emptyList){this._emptyList.destroy();this._emptyList=undefined}if(this._filterIcon){this._filterIcon.destroy();this._filterIcon=undefined}if(this._filterDialog){this._filterDialog.destroy();this._filterDialog=undefined}if(this._filterList){this._filterList.destroy();this._filterList=undefined}if(this._headerBar){this._headerBar.destroy();this._headerBar=undefined}if(this._filterInfoText){this._filterInfoText.destroy();this._filterInfoText=undefined}if(this._headerInfoBar){this._headerInfoBar.destroy();this._headerInfoBar=undefined}if(this._getMoreButton){this._getMoreButton.destroy();this._getMoreButton=undefined}if(this._oScroller){this._oScroller.destroy();this._oScroller=null}if(this.oItemNavigation){this.removeDelegate(this.oItemNavigation);this.oItemNavigation.destroy()}};sap.suite.ui.commons.Timeline.prototype.setNoDataText=function(n){this.setProperty("noDataText",n,true);this._emptyList.setNoDataText(n)};sap.suite.ui.commons.Timeline.prototype.setShowHeaderBar=function(s){this.setProperty("showHeaderBar",s,true);this._headerBar.setVisible(s)};sap.suite.ui.commons.Timeline.prototype.getMaxItemsCount=function(){var b=this.getBinding("content");if(b){return b.getLength()||0}return this.getContent().length};sap.suite.ui.commons.Timeline.prototype.setGrowing=function(g){if(this.getGrowing()!=g){this.setProperty("growing",g,!g)}};sap.suite.ui.commons.Timeline.prototype.setGrowingThreshold=function(g){this.setProperty("growingThreshold",g,true);this._iItemCount=g};sap.suite.ui.commons.Timeline.prototype.getCurrentFilter=function(){var s=this._filterList.getSelectedItem();if(s){return this._filterList.getSelectedItem().getKey()}else{return null}};sap.suite.ui.commons.Timeline.prototype.setCurrentFilter=function(s){this._currentFilterKey=s;var a=this._filterList.getItems();if(this.getEnableBackendFilter()&&(a.length===0)){this._setFilterList()}else{var b;for(var i=0;i<a.length;i++){if(s===a[i].getKey()){b=a[i]}};if(b){this._filterList.setSelectedItem(b);this._setFilterInfoText(b.getLabel())}}}};
